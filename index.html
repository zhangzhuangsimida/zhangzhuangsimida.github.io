<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
<meta property="og:type" content="website">
<meta property="og:title" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
<meta property="og:description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="oldnineping">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>åœ°çƒä¸Šçš„å°ä¸œè¥¿</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">åœ°çƒä¸Šçš„å°ä¸œè¥¿</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">hiahiahiahia</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>å…¬ç›Š 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/29/Http%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/29/Http%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/" class="post-title-link" itemprop="url">Httpçš„åŸç†å’Œå·¥ä½œæœºåˆ¶</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-06-29 14:03:13 / ä¿®æ”¹æ—¶é—´ï¼š16:30:22" itemprop="dateCreated datePublished" datetime="2021-06-29T14:03:13+08:00">2021-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œ</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BD%91%E7%BB%9C/http/" itemprop="url" rel="index"><span itemprop="name">http</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Http-åŸºç¡€"><a href="#Http-åŸºç¡€" class="headerlink" title="Http åŸºç¡€"></a>Http åŸºç¡€</h1><h2 id="Httpçš„åŸç†å’Œå·¥ä½œæœºåˆ¶"><a href="#Httpçš„åŸç†å’Œå·¥ä½œæœºåˆ¶" class="headerlink" title="Httpçš„åŸç†å’Œå·¥ä½œæœºåˆ¶"></a>Httpçš„åŸç†å’Œå·¥ä½œæœºåˆ¶</h2><h3 id="Http-å®šä¹‰-Httpåˆ°åº•æ˜¯ä»€ä¹ˆ"><a href="#Http-å®šä¹‰-Httpåˆ°åº•æ˜¯ä»€ä¹ˆ" class="headerlink" title="Http å®šä¹‰ Httpåˆ°åº•æ˜¯ä»€ä¹ˆ"></a>Http å®šä¹‰ Httpåˆ°åº•æ˜¯ä»€ä¹ˆ</h3><p>ç›´è§‚å°è±¡ï¼š</p>
<ol>
<li>æµè§ˆå™¨è¾“å…¥åœ°å€ï¼Œæ‰“å¼€ç½‘é¡µ</li>
<li>Androidå‘é€è¯·æ±‚ï¼Œè¿”å›å¯¹åº”çš„å†…å®¹</li>
</ol>
<p>HyperText Transfer Protocol è¶…æ–‡æœ¬ä¼ è¾“åè®®</p>
<ul>
<li><p>è¶…æ–‡æœ¬ï¼šåœ¨ç”µè„‘æ˜¾ç¤ºçš„ï¼Œå«æœ‰å¯ä»¥æŒ‡å‘å…¶ä»–æ–‡æœ¬çš„æ–‡æœ¬</p>
<p>å…¶å®å°±æ˜¯Htmlï¼Œhttpæœ€åˆå°±æ˜¯ä¸ºäº†ä¼ è¾“Htmlæ–‡æ¡£è€Œè¯ç”Ÿçš„ã€‚</p>
<p>HyperText ï¼Œæ‰€è°“çš„è¶…å…¶å®æ˜¯å¯æ‰©å±•çš„æ„æ€ã€‚</p>
</li>
</ul>
<h4 id="HTTP-çš„å·¥ä½œæ–¹å¼"><a href="#HTTP-çš„å·¥ä½œæ–¹å¼" class="headerlink" title="HTTP çš„å·¥ä½œæ–¹å¼"></a><strong>HTTP</strong> çš„å·¥ä½œæ–¹å¼</h4><h5 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨ :"></a>æµè§ˆå™¨ :</h5><p>ç”¨æˆ·è¾“å…¥åœ°å€åå›â»‹æˆ–ç‚¹å‡»é“¾æ¥ -&gt; æµè§ˆå™¨æ‹¼è£… HTTP æŠ¥æ–‡å¹¶å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ -&gt; æœ åŠ¡å™¨å¤„ç†è¯·æ±‚åå‘é€å“åº”æŠ¥æ–‡ç»™æµè§ˆå™¨ -&gt; æµè§ˆå™¨è§£æå“åº”æŠ¥æ–‡å¹¶ä½¿ç”¨æ¸²æŸ“å¼•æ“æ˜¾ç¤º åˆ°ç•Œé¢</p>
<h5 id="æ‰‹æœº-App"><a href="#æ‰‹æœº-App" class="headerlink" title="æ‰‹æœº App :"></a>æ‰‹æœº <strong>App</strong> :</h5><p>ç”¨æˆ·ç‚¹å‡»æˆ–ç•Œé¢è‡ªåŠ¨è§¦å‘è”ç½‘éœ€æ±‚ -&gt; Android ä»£ç è°ƒç”¨æ‹¼è£… HTTP æŠ¥æ–‡å¹¶å‘é€è¯·æ±‚ åˆ°æœåŠ¡å™¨ -&gt; æœåŠ¡å™¨å¤„ç†è¯·æ±‚åå‘é€å“åº”æŠ¥æ–‡ç»™æ‰‹æœº -&gt; Android ä»£ç å¤„ç†å“åº”æŠ¥æ–‡å¹¶ ä½œå‡ºç›¸åº”å¤„ç†(å¦‚å‚¨å­˜æ•°æ®ã€åŠ å·¥æ•°æ®ã€æ˜¾ç¤ºæ•°æ®åˆ°ç•Œé¢)</p>
<h3 id="URL-gt-HTTPæŠ¥æ–‡"><a href="#URL-gt-HTTPæŠ¥æ–‡" class="headerlink" title="URL -&gt; HTTPæŠ¥æ–‡"></a>URL -&gt; HTTPæŠ¥æ–‡</h3><h4 id="URL-æ ¼å¼"><a href="#URL-æ ¼å¼" class="headerlink" title="URL æ ¼å¼"></a><strong>URL</strong> æ ¼å¼</h4><p>ä¸‰éƒ¨åˆ†:åè®®ç±»å‹ã€æœåŠ¡å™¨åœ°å€(å’Œç«¯å£å·)ã€è·¯å¾„(Path) åè®®ç±»å‹://æœåŠ¡å™¨åœ°å€[:ç«¯å£å·]/è·¯å¾„</p>
<p> <a target="_blank" rel="noopener" href="http://hencoder.com/users?gender=male">http://hencoder.com/users?gender=male</a></p>
<p>åœ¨æµè§ˆå™¨è¾“å…¥Urlä¼šè¢«è½¬åŒ–æˆè¯·æ±‚æŠ¥æ–‡ã€‚</p>
<h4 id="HTTPæŠ¥æ–‡"><a href="#HTTPæŠ¥æ–‡" class="headerlink" title="HTTPæŠ¥æ–‡"></a>HTTPæŠ¥æ–‡</h4><p>è¯·æ±‚/å“åº”æŠ¥æ–‡éƒ½æ˜¯ç”±ä¸‰å¤§éƒ¨åˆ†ç»„æˆçš„</p>
<p>ç¬¬ä¸€è¡Œï¼ˆè¯·æ±‚/çŠ¶æ€è¡Œï¼‰+Headers+Body</p>
<p>Headerå’ŒBodyä¸¤è€…åŸºæœ¬ç›¸åŒ</p>
<p>è¯·æ±‚æŠ¥æ–‡çš„ç¬¬ä¸€è¡Œï¼ˆè¯·æ±‚è¡Œï¼‰ï¼šmethod + path + HTTP versionç»„æˆï¼ˆHostä¸æ˜¯ç»™æœåŠ¡å™¨çœ‹çš„ï¼Œæ˜¯ç»™ä¸»æœºçš„ï¼Œæ‰€ä»¥ä¸å±äºè¯·æ±‚è¡Œï¼Œå±äºHeaderï¼‰</p>
<p>å“åº”æŠ¥æ–‡çš„ç¬¬ä¸€è¡Œï¼ˆè¯·æ±‚è¡Œï¼‰ï¼šHTTP version +status code+status messageç»„æˆ</p>
<h4 id="è¯·æ±‚æŠ¥æ–‡-Request"><a href="#è¯·æ±‚æŠ¥æ–‡-Request" class="headerlink" title="è¯·æ±‚æŠ¥æ–‡ Request"></a>è¯·æ±‚æŠ¥æ–‡ Request</h4><p><img src="/2021/06/29/Http%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/image-20210625164634531.png" alt="image-20210625164634531">         </p>
<p>Hostä¸æ˜¯ç»™æœåŠ¡å™¨çœ‹çš„ï¼Œæ˜¯ç»™ä¸»æœºçš„ï¼Œæ‰€ä»¥ä¸å±äºè¯·æ±‚è¡Œã€‚</p>
<p>â€‹      Http æœ‰ï¼Œ0.9 1.1 2.0ç‰ˆæœ¬ï¼Œ0.9å·²ç»åºŸå¼ƒï¼Œ1.1æ­£è¢«å¤§é‡ä½¿ç”¨ï¼Œæ­£åœ¨å‘2.0è¿ç§»</p>
<p>Bodyï¼Œæä¾›ç»™æœåŠ¡å™¨çœ‹çš„å…·ä½“å†…å®¹ï¼ˆä¸€èˆ¬èˆ¬ä¸šåŠ¡ç›¸å…³ï¼‰ï¼Œä¸æ˜¯å¿…é¡»çš„ã€‚</p>
<p>Bodyæ˜¯æä¾›ç»™æœåŠ¡å™¨ï¼Œè®©æœåŠ¡å™¨å»å¤„ç†çš„å†…å®¹ï¼Œè€Œç”¨æ¥å®šä½è¯·æ±‚çš„éƒ½åœ¨Headä¸­ã€‚</p>
<h4 id="å“åº”æŠ¥æ–‡"><a href="#å“åº”æŠ¥æ–‡" class="headerlink" title="å“åº”æŠ¥æ–‡"></a>å“åº”æŠ¥æ–‡</h4><p><img src="/2021/06/29/Http%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/image-20210625164714772.png" alt="image-20210625164714772"></p>
<p>å’Œè¯·æ±‚æŠ¥æ–‡ï¼ˆRequestï¼‰åŸºæœ¬ä¸€æ ·ï¼Œ</p>
<p>é™¤äº†ç¬¬ä¸€è¡Œï¼Œå«çŠ¶æ€è¡Œã€‚è¿”å›äº†ä¸€ä¸ªçŠ¶æ€ç å’ŒçŠ¶æ€ä¿¡æ¯ï¼Œæ˜¯è¿™æ¬¡è¯·æ±‚çš„ç®€å•æè¿°ã€‚</p>
<h2 id="Httpçš„è¯·æ±‚æ–¹æ³•å’ŒçŠ¶æ€ç "><a href="#Httpçš„è¯·æ±‚æ–¹æ³•å’ŒçŠ¶æ€ç " class="headerlink" title="Httpçš„è¯·æ±‚æ–¹æ³•å’ŒçŠ¶æ€ç "></a>Httpçš„è¯·æ±‚æ–¹æ³•å’ŒçŠ¶æ€ç </h2><h3 id="è¯·æ±‚æ–¹æ³•"><a href="#è¯·æ±‚æ–¹æ³•" class="headerlink" title="è¯·æ±‚æ–¹æ³•"></a>è¯·æ±‚æ–¹æ³•</h3><blockquote>
<p>é‡å¤æ‰§è¡Œå¤šæ¬¡ç»“æœè¿˜æ˜¯ä¸€æ ·ï¼Œå°±æ˜¯æœ‰å¹‚ç­‰æ€§</p>
</blockquote>
<h4 id="Get"><a href="#Get" class="headerlink" title="Get"></a>Get</h4><ul>
<li>è·å–èµ„æºï¼Œæ²¡æœ‰Body,å…·æœ‰å¹‚ç­‰æ€§</li>
<li>æ˜¯ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼ˆ0.9ï¼‰å°±å­˜åœ¨çš„æ–¹æ³•ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥åœ°å€è°ƒç”¨çš„å°±æ˜¯Getæ–¹æ³•ï¼Œå®ƒä¸å¯¹æœåŠ¡å™¨çš„æ•°æ®è¿›è¡Œæ“ä½œã€‚</li>
</ul>
<blockquote>
<p>Bodyæ˜¯æ“ä½œæœåŠ¡å™¨æ•°æ®ç”¨çš„ï¼Œé‡Œé¢çš„çš„å†…å®¹æ˜¯ç»™æœåŠ¡å™¨è¯»çš„ï¼Œä½œä¸ºåªè·å–æ•°æ®ä¸æ“ä½œæ•°æ®çš„Getè¯·æ±‚<strong>è‡ªç„¶ä¸éœ€è¦Body</strong>ï¼Œ</p>
<p>å¦‚æœæƒ³ä¼ é€’å‚æ•°ï¼Œå°±è¦æ‹¼åœ¨Requst è¯·æ±‚è¡Œç­‰pathä¸Š æ¯”å¦‚ /user/1 ä¼ é€’å‚æ•°1</p>
</blockquote>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string"></span> /users/1 <span class="string"></span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>api.github.com</span><br></pre></td></tr></table></figure>
<p>å¯¹åº” Retrofit çš„ä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GET(&quot;/users/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="function">Call&lt;User&gt; <span class="title">getUser</span><span class="params">(<span class="meta">@Path(&quot;id&quot;)</span> String id,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="meta">@Query(&quot;gender&quot;)</span> String gender)</span></span>;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>åœ¨Get å¢åŠ Bodyæ ‡ç­¾ï¼ŒRetrofitç”šè‡³ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<h4 id="Post"><a href="#Post" class="headerlink" title="Post"></a>Post</h4><ul>
<li>å¢åŠ å’Œä¿®æ”¹èµ„æºï¼Œæœ‰ä¸”ä¸€å®šæœ‰Bodyï¼Œä¸å…·æœ‰å¹‚ç­‰æ€§</li>
</ul>
<blockquote>
<p>æ—¢ç„¶è¦æ–°å¢/ä¿®æ”¹èµ„æºï¼Œä¸å¢åŠ å‚æ•°ï¼ˆBodyï¼‰æœåŠ¡å™¨è‡ªç„¶æ— æ³•ä¿®æ”¹</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string"></span> /users <span class="string"></span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>api.github.com</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/x-www-form-urlencoded</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>13</span><br><span class="line">name=rengwuxian&amp;gender=male</span><br></pre></td></tr></table></figure>
<p>å¯¹åº” Retrofit çš„ä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FormUrlEncoded</span></span><br><span class="line"><span class="meta">@POST(&quot;/users&quot;)</span></span><br><span class="line"><span class="function">Call&lt;User&gt; <span class="title">addUser</span><span class="params">(<span class="meta">@Field(&quot;name&quot;)</span> String name,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="meta">@Field(&quot;gender&quot;)</span> String gender)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="Put"><a href="#Put" class="headerlink" title="Put"></a>Put</h4><ul>
<li>ä¿®æ”¹ï¼ˆåªä¿®æ”¹ï¼‰ï¼Œæœ‰Bodyï¼Œå…·æœ‰å¹‚ç­‰æ€§</li>
</ul>
<p>Postçš„å’ŒPutçš„åŒºåˆ«</p>
<table>
<thead>
<tr>
<th align="center">ç›¸ä¼¼</th>
<th align="center">åŒºåˆ«</th>
</tr>
</thead>
<tbody><tr>
<td align="center">éƒ½å¯ä»¥ä¿®æ”¹æ•°æ®éƒ½ç¬¦åˆæ ‡å‡†</td>
<td align="center">Postä¸å…·æœ‰å¹‚ç­‰æ€§ï¼Œæ‰§è¡Œå¤šæ¬¡è¿”å›ä¸åŒçš„ç»“æœï¼Œå› ä¸ºå®ƒå¯ä»¥å¢åŠ èµ„æºã€‚Putå…·æœ‰å¹‚ç­‰æ€§ï¼Œæ‰§è¡Œå¤šæ¬¡è¿”å›ç›¸åŒçš„ç»“æœï¼Œä¾‹å¦‚å¤šæ¬¡ä¿®æ”¹æ€§åˆ«ä¸ºå¥³ï¼Œç»“æœç”¨æˆ·çš„æ€§åˆ«è¿˜æ˜¯å¥³ã€‚</td>
</tr>
</tbody></table>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">PUT</span> <span class="string"></span> /users/1 <span class="string"></span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>api.github.com</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/x-www-form-urlencoded</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>13</span><br><span class="line">gender=female</span><br></pre></td></tr></table></figure>
<p>å¯¹åº” Retrofit çš„ä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FormUrlEncoded</span></span><br><span class="line"><span class="meta">@PUT(&quot;/users/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="function">Call&lt;User&gt; <span class="title">updateGender</span><span class="params">(<span class="meta">@Path(&quot;id&quot;)</span> String id,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="meta">@Field(&quot;gender&quot;)</span> String gender)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h4><ul>
<li>åˆ é™¤èµ„æºï¼Œæ²¡æœ‰Bodyï¼Œæœ‰å¹‚ç­‰æ€§ï¼ˆåˆ é™¤ç”¨æˆ·1ï¼Œé‡å¤æ‰§è¡Œæ— ååº”ï¼Œå› ä¸ºå·²ç»åˆ é™¤äº†ï¼Œä»ç»“æœæ¥çœ‹æ˜¯ä¸€æ ·çš„ï¼‰</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Delete /users/1 Http/1.1</span><br><span class="line">Host api.github.com  </span><br></pre></td></tr></table></figure>
<p>ä»pathå°±è¶³ä»¥å®šä½ç”¨æˆ·åˆ é™¤äº†ï¼Œæ— éœ€Body</p>
<p>å¯¹åº” Retrofit çš„ä»£ç :</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@DELETE(&quot;/users/&#123;id&#125;&quot;)</span><br><span class="line">Call&lt;User&gt; getUser(@Path(&quot;id&quot;) String id,</span><br><span class="line">@Query(&quot;gender&quot;) String gender);</span><br></pre></td></tr></table></figure>
<h4 id="Head"><a href="#Head" class="headerlink" title="Head"></a>Head</h4><p>å’ŒGetè¯·æ±‚å®Œå…¨ç›¸åŒï¼Œè¿”å›å“åº”æ²¡æœ‰Bodyï¼Œå…¶ä»–è¯·æ±‚æ–¹æ³•çš„å“åº”éƒ½æ˜¯æœ‰Bodyçš„ã€‚å¯ä»¥å¿«é€Ÿå¾—åˆ°èµ„æºä¿¡æ¯ã€‚</p>
<h3 id="çŠ¶æ€ç -ï¼ˆæ—¥å¸¸ä¸­æœ€é‡è¦çš„2æ‰“å¤´-æˆåŠŸï¼Œ4æ‰“å¤´å®¢æˆ·ç«¯é”™è¯¯ã€‚ï¼‰"><a href="#çŠ¶æ€ç -ï¼ˆæ—¥å¸¸ä¸­æœ€é‡è¦çš„2æ‰“å¤´-æˆåŠŸï¼Œ4æ‰“å¤´å®¢æˆ·ç«¯é”™è¯¯ã€‚ï¼‰" class="headerlink" title="çŠ¶æ€ç  ï¼ˆæ—¥å¸¸ä¸­æœ€é‡è¦çš„2æ‰“å¤´ æˆåŠŸï¼Œ4æ‰“å¤´å®¢æˆ·ç«¯é”™è¯¯ã€‚ï¼‰"></a>çŠ¶æ€ç  ï¼ˆæ—¥å¸¸ä¸­æœ€é‡è¦çš„2æ‰“å¤´ æˆåŠŸï¼Œ4æ‰“å¤´å®¢æˆ·ç«¯é”™è¯¯ã€‚ï¼‰</h3><ul>
<li><p>ä½œç”¨ï¼š å¯¹ç»“æœä½œå‡ºç±»å‹åŒ–çš„æè¿°ï¼ˆå¦‚è·å¾—æˆåŠŸï¼Œå†…å®¹æœªæ‰¾åˆ°ï¼‰</p>
<ul>
<li><p>1xx:ä¸´æ—¶æ€§æ¶ˆæ¯ã€‚å¦‚:</p>
<ul>
<li><p>100 (ç»§ç»­å‘é€)ï¼Œå¦‚æœä½ å‘é€çš„æ–‡ä»¶å¤ªå¤§ï¼Œæƒ³åˆ†æ®µå‘é€ã€‚</p>
<p>Headerä¼ <code>Excpetï¼š 100-continue</code>ï¼Œ</p>
<p>æœåŠ¡å™¨å“åº”<code>HTTP/1.1 100</code>ä»£è¡¨å…è®¸ä½ ç»§ç»­å‘é€ã€‚ </p>
<p>å‘é€æˆåŠŸåè¿”å›<code>HTTP/1.1 200</code>æˆ–è€…201</p>
</li>
<li><p>101(æ­£åœ¨åˆ‡æ¢åè®® æ¯”å¦‚http1.1å’Œhttp2.0çš„è¯·æ±‚ä¸å…¼å®¹ï¼Œ</p>
<p> ä¸€èˆ¬ä¼šåŠ ä¸€ä¸ª<code>Upgradeï¼š h2c</code>çš„headerè¯•ç€è¯·æ±‚ï¼Œè¯¢é—®æœåŠ¡å™¨æ˜¯å¦æ”¯æŒ<code>Http2.0</code>ï¼Œ</p>
<p> æœåŠ¡å™¨å“åº”<code>HTTP/1.1 101</code>ï¼Œåˆ™ä»£è¡¨æœåŠ¡å™¨æ”¯æŒhttp2.0</p>
<p> æœåŠ¡å™¨å“åº”<code>HTTP/1.1 200</code>ï¼Œä»£è¡¨ä¸è¯†åˆ«Http2.0çš„è¯·æ±‚) </p>
</li>
</ul>
</li>
<li><p>2xx:æˆåŠŸã€‚æœ€å…¸å‹çš„æ˜¯ 200(OK)ã€201(åˆ›å»ºæˆåŠŸ)ã€‚</p>
</li>
<li><p>3xx:é‡å®šå‘ã€‚å¦‚ 301(æ°¸ä¹…ç§»åŠ¨)ã€302(æš‚æ—¶ç§»åŠ¨)ã€304(å†…å®¹æœªæ”¹å˜)ã€‚ å¯¹äºæµè§ˆå™¨æ¥è¯´è¡¨ç°ä¸€æ ·ï¼Œ</p>
<p>ä½†æ˜¯301å¯ä»¥é€šçŸ¥æœç´¢å¼•æ“ï¼Œä½ çš„ç½‘ç«™å·²è¿ç§»ï¼Œæœç´¢å¼•æ“ä¼šå°†æƒé‡è½¬ç§»åˆ°æ–°åŸŸåã€‚</p>
</li>
<li><p>4xx:å®¢æˆ·ç«¯é”™è¯¯ã€‚å¦‚ 400(å®¢æˆ·ç«¯è¯·æ±‚é”™è¯¯)ã€401(è®¤è¯å¤±è´¥)ã€403(è¢«ç¦ æ­¢)ã€404(æ‰¾ä¸åˆ°å†…å®¹)ã€‚</p>
</li>
<li><p>5xx:æœåŠ¡å™¨é”™è¯¯ã€‚å¦‚ 500(æœåŠ¡å™¨å†…éƒ¨é”™è¯¯)</p>
</li>
</ul>
</li>
</ul>
<p>æ—¥å¸¸ä¸­æœ€é‡è¦çš„2æ‰“å¤´ æˆåŠŸï¼Œ4æ‰“å¤´å®¢æˆ·ç«¯é”™è¯¯ã€‚</p>
<h2 id="HTTPçš„Headerå’ŒBody"><a href="#HTTPçš„Headerå’ŒBody" class="headerlink" title="HTTPçš„Headerå’ŒBody"></a>HTTPçš„Headerå’ŒBody</h2><p>Bodyæ˜¯æŠ¥æ–‡çš„æ ¸å¿ƒï¼Œä½†æ˜¯æ‰€æœ‰çš„Bodyéƒ½æ˜¯é…åˆHeaderä½¿ç”¨çš„ï¼Œæäº¤ç”¨æˆ·ä¿¡æ¯æœ‰å¤šä¸ªæ–¹æ³•ï¼Œéƒ½æ˜¯ç”±Headerå®šä¹‰çš„ã€‚</p>
<p>Headeræ˜¯Httpæ¶ˆæ¯çš„å…ƒæ•°æ®ï¼ˆmetadataï¼‰ å³<strong>æ•°æ®çš„æ•°æ®</strong> å…³äºæ•°æ®çš„æ•°æ®ï¼Œæ•°æ®çš„å±æ€§ã€‚</p>
<h3 id="Host-ç›®æ ‡ä¸»æœºå-ï¼Œä½œç”¨æ˜¯ç»™DNSæŸ¥è¯¢IPåœ°å€ï¼Œäº¤ç»™ä¸»æœºæŸ¥æ‰¾å­ä¸»æœºã€‚"><a href="#Host-ç›®æ ‡ä¸»æœºå-ï¼Œä½œç”¨æ˜¯ç»™DNSæŸ¥è¯¢IPåœ°å€ï¼Œäº¤ç»™ä¸»æœºæŸ¥æ‰¾å­ä¸»æœºã€‚" class="headerlink" title="Host ç›®æ ‡ä¸»æœºå ï¼Œä½œç”¨æ˜¯ç»™DNSæŸ¥è¯¢IPåœ°å€ï¼Œäº¤ç»™ä¸»æœºæŸ¥æ‰¾å­ä¸»æœºã€‚"></a>Host ç›®æ ‡ä¸»æœºå ï¼Œä½œç”¨æ˜¯ç»™DNSæŸ¥è¯¢IPåœ°å€ï¼Œäº¤ç»™ä¸»æœºæŸ¥æ‰¾å­ä¸»æœºã€‚</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Get /user/1 HTTP/1.1</span><br><span class="line">Host api.github.com</span><br><span class="line"></span><br><span class="line">hostä¸æ˜¯æŸ¥è¯¢ä¸»æœºåœ°å€çš„ï¼ŒæŸ¥è¯¢ä¸»æœºåœ°å€çš„å·¥ä½œDNSå·²ç»åšäº†ã€‚ Domain Name System åŸŸåç³»ç»Ÿï¼Œ</span><br><span class="line">æ‰€ä»¥è¿™ä¸ªHost æ˜¯ç»™å¯¹æ–¹ä¸»æœºçœ‹çš„ï¼Œè‹±æ–‡ä¸€ä¸ªä¸»æœºå¯èƒ½æœ‰å¤šä¸ªè™šæ‹Ÿä¸»æœºï¼ˆå­ä¸»æœºï¼‰ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½²äº†å¤šä¸ªä¸»æœº</span><br><span class="line">hencoder.com</span><br><span class="line">haocoder.com</span><br></pre></td></tr></table></figure>
<h3 id="ContentType-ContentLength-Bodyçš„ç±»å‹å’Œé•¿åº¦"><a href="#ContentType-ContentLength-Bodyçš„ç±»å‹å’Œé•¿åº¦" class="headerlink" title="ContentType/ContentLength:Bodyçš„ç±»å‹å’Œé•¿åº¦"></a>ContentType/ContentLength:Bodyçš„ç±»å‹å’Œé•¿åº¦</h3><h4 id="ContentLength"><a href="#ContentLength" class="headerlink" title="ContentLength"></a>ContentLength</h4><p>Bodyçš„å­—èŠ‚é•¿åº¦ï¼Œå› ä¸ºæˆ‘é—¨ä¼ è¾“çš„æ˜¯äºŒè¿›åˆ¶å­—ç¬¦æˆ‘ä»¬ä¸çŸ¥é“ä¸»æœºçš„è§£ææ–¹å¼ï¼Œæ‰€ä»¥ä¸èƒ½ğŸˆ¯ï¸å®šæŸä¸ªå­—ç¬¦ä½œä¸ºç»ˆæ­¢ç¬¦å·ï¼ˆä¾‹å¦‚ç”¨\nåšç»ˆæ­¢ç¬¦å·ï¼Œå¯èƒ½è¿™æ¬¡è¯·æ±‚çš„Bodyæ•°æ®åªæ˜¯ç”¨\næ¢è¡Œï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨äºŒè¿›åˆ¶å­—èŠ‚é•¿åº¦æ¥å‘Šè¯‰ä¸»æœºåœ¨å“ªé‡Œç»“æŸè¯»å–/è§£æBodyä¸­çš„æ•°æ®ã€‚</p>
<h4 id="ContentTypeå†…å®¹çš„ç±»å‹-ï¼Œä¹Ÿå³æ˜¯Bodyçš„æ ¼å¼"><a href="#ContentTypeå†…å®¹çš„ç±»å‹-ï¼Œä¹Ÿå³æ˜¯Bodyçš„æ ¼å¼" class="headerlink" title="ContentTypeå†…å®¹çš„ç±»å‹ ï¼Œä¹Ÿå³æ˜¯Bodyçš„æ ¼å¼"></a>ContentTypeå†…å®¹çš„ç±»å‹ ï¼Œä¹Ÿå³æ˜¯Bodyçš„æ ¼å¼</h4><h5 id="text-html-htmlæ–‡æœ¬"><a href="#text-html-htmlæ–‡æœ¬" class="headerlink" title="text/html : htmlæ–‡æœ¬"></a>text/html : htmlæ–‡æœ¬</h5><p>ç”¨äºæµè§ˆå™¨é¡µé¢çš„å“åº”ã€‚æµè§ˆå™¨æ˜¯ä¸çŸ¥é“ç”¨æˆ·è®¿é—®çš„urlçš„èµ„æºç±»å‹çš„ï¼Œå¯ä»¥æ˜¯htmlä¹Ÿå¯ä»¥æ˜¯Json</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html; charset=utf-8</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>853</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">......</span><br></pre></td></tr></table></figure>




<h5 id="application-x-www-form-urlencoded-æ™®é€šè¡¨å•-çº¯æ–‡å­—è¡¨å•ï¼Œä¹Ÿæ˜¯æœ€æ—©çš„è¡¨å•ã€‚-image-20200726224015531-Users-zhangzhuang-Library-Application-Support-typora-user-images-image-20200726224015531-png"><a href="#application-x-www-form-urlencoded-æ™®é€šè¡¨å•-çº¯æ–‡å­—è¡¨å•ï¼Œä¹Ÿæ˜¯æœ€æ—©çš„è¡¨å•ã€‚-image-20200726224015531-Users-zhangzhuang-Library-Application-Support-typora-user-images-image-20200726224015531-png" class="headerlink" title="application/x-www-form-urlencoded: æ™®é€šè¡¨å•/çº¯æ–‡å­—è¡¨å•ï¼Œä¹Ÿæ˜¯æœ€æ—©çš„è¡¨å•ã€‚![image-20200726224015531](/Users/zhangzhuang/Library/Application Support/typora-user-images/image-20200726224015531.png)"></a>application/x-www-form-urlencoded: æ™®é€šè¡¨å•/çº¯æ–‡å­—è¡¨å•ï¼Œä¹Ÿæ˜¯æœ€æ—©çš„è¡¨å•ã€‚![image-20200726224015531](/Users/zhangzhuang/Library/Application Support/typora-user-images/image-20200726224015531.png)</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string"></span> /users <span class="string"></span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>api.github.com</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/x-www-form-urlencoded</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>27</span><br><span class="line">name=rengwuxian&amp;gender=male</span><br></pre></td></tr></table></figure>
<p>å¯¹åº” Retrofit çš„ä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FormUrlEncoded</span></span><br><span class="line"><span class="meta">@POST(&quot;/users&quot;)</span></span><br><span class="line"><span class="function">Call&lt;User&gt; <span class="title">addUser</span><span class="params">(<span class="meta">@Field(&quot;name&quot;)</span> String name,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="meta">@Field(&quot;gender&quot;)</span> String gender)</span></span></span><br></pre></td></tr></table></figure>


<h5 id="multipart-form-data-Web-â»šé¢ï¼ˆè¡¨å•ï¼‰å«æœ‰äºŒè¿›åˆ¶æ–‡ä»¶æ—¶çš„æäº¤æ–¹å¼ã€‚-å¸¸è§çš„ä¼ å›¾ç‰‡æ–¹å¼ã€‚"><a href="#multipart-form-data-Web-â»šé¢ï¼ˆè¡¨å•ï¼‰å«æœ‰äºŒè¿›åˆ¶æ–‡ä»¶æ—¶çš„æäº¤æ–¹å¼ã€‚-å¸¸è§çš„ä¼ å›¾ç‰‡æ–¹å¼ã€‚" class="headerlink" title="multipart/form-data Web â»šé¢ï¼ˆè¡¨å•ï¼‰å«æœ‰äºŒè¿›åˆ¶æ–‡ä»¶æ—¶çš„æäº¤æ–¹å¼ã€‚ å¸¸è§çš„ä¼ å›¾ç‰‡æ–¹å¼ã€‚"></a>multipart/form-data Web â»šé¢ï¼ˆè¡¨å•ï¼‰å«æœ‰äºŒè¿›åˆ¶æ–‡ä»¶æ—¶çš„æäº¤æ–¹å¼ã€‚ å¸¸è§çš„ä¼ å›¾ç‰‡æ–¹å¼ã€‚<img src="/2021/06/29/Http%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/image-20200726225142875.png" alt="image-20200726225142875"></h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string"></span> /users <span class="string"></span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>hencoder.com</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>multipart/form-data; boundary=----</span><br><span class="line">WebKitFormBoundary7MA4YWxkTrZu0gW</span><br><span class="line">Content-Length: 2382</span><br><span class="line">------WebKitFormBoundary7MA4YWxkTrZu0gW</span><br><span class="line">Content-Disposition: form-data; name=&quot;name&quot;</span><br><span class="line">rengwuxian</span><br><span class="line">------WebKitFormBoundary7MA4YWxkTrZu0gW</span><br><span class="line">Content-Disposition: form-data; name=&quot;avatar&quot;;</span><br><span class="line">filename=&quot;avatar.jpg&quot;</span><br><span class="line">Content-Type: image/jpeg</span><br><span class="line">JFIFHHvOwX9jximQrWa......</span><br><span class="line">------WebKitFormBoundary7MA4YWxkTrZu0gW--</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Boundary åé¢çš„ä¸€é•¿ä¸²æ–‡å­—æ˜¯ä¸ºäº†åˆ†å‰²æ™®é€šè¡¨å•æ–‡å­—å’ŒäºŒè¿›åˆ¶æ•°æ®çš„ï¼Œå¦‚æœå’ŒäºŒè¿›åˆ¶æ•°æ®æ°å¥½é‡å¤è¯·æ±‚å°±ä¼šå¤±è´¥ï¼Œæ¦‚ç‡å¾ˆå°ã€‚æ™®é€šè¡¨å•ä¸ä¼šç”¨boundaryæ¥åˆ†å‰²å†…å®¹ï¼Œå› ä¸ºåˆ†å‰²ç”¨çš„å­—ç¬¦ä¸²é•¿åº¦å¤ªé•¿ï¼Œæµªè´¹èµ„æºã€‚</span><br></pre></td></tr></table></figure>
<p>å¯¹åº” Retrofit çš„ä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Multipart</span></span><br><span class="line"><span class="meta">@POST(&quot;/users&quot;)</span></span><br><span class="line"><span class="function">Call&lt;User&gt; <span class="title">addUser</span><span class="params">(<span class="meta">@Part(&quot;name&quot;)</span> RequestBody name,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="meta">@Part(&quot;avatar&quot;)</span> RequestBody avatar)</span></span>;</span><br><span class="line">...</span><br><span class="line">RequestBody namePart =</span><br><span class="line">RequestBody.create(MediaType.parse(<span class="string">&quot;text/plain&quot;</span>),</span><br><span class="line">nameStr);</span><br><span class="line">RequestBody avatarPart =</span><br><span class="line">RequestBody.create(MediaType.parse(<span class="string">&quot;image/jpeg&quot;</span>),</span><br><span class="line">avatarFile);</span><br><span class="line">api.addUser(namePart, avatarPart)</span><br></pre></td></tr></table></figure>
<p> æ‰€ä»¥Retrofit çš„å‚æ•°çš„æ³¨è§£@Queryï¼Œ@Feild éƒ½æ˜¯å› ä¸ºContent-typeä¸åŒæ‰€ä»¥æ‰æ”¹å˜çš„ï¼Œå®ƒä»¬æ˜¯ä¸å…¼å®¹çš„Bodyæ ¼å¼ã€‚Ps: ç”¨æ™®é€šè¡¨å•+base64ä¼ å›¾ç‰‡æ˜¯é”™è¯¯çš„ã€‚</p>
<p>Retrofitä¸­</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">body è¦ç”¨fieldæ´»ç€Partæ³¨è§£ï¼Œå®ƒä»¬æ˜¯ä¸å…¼å®¹çš„ï¼Œuser?gender &#x3D; femal  è¿™ä¸ª@Qureyæ ‡ç­¾å°±æ˜¯ç®¡genderå­—æ®µçš„</span><br></pre></td></tr></table></figure>
<h5 id="å•é¡¹å†…å®¹-æ–‡æœ¬æˆ–éæ–‡æœ¬éƒ½å¯ï¼šapplication-json-image-jpeg-application-zip-â€¦"><a href="#å•é¡¹å†…å®¹-æ–‡æœ¬æˆ–éæ–‡æœ¬éƒ½å¯ï¼šapplication-json-image-jpeg-application-zip-â€¦" class="headerlink" title="å•é¡¹å†…å®¹(æ–‡æœ¬æˆ–éæ–‡æœ¬éƒ½å¯ï¼šapplication/json , image/jpeg , application/zip â€¦)"></a>å•é¡¹å†…å®¹(æ–‡æœ¬æˆ–éæ–‡æœ¬éƒ½å¯ï¼šapplication/json , image/jpeg , application/zip â€¦)</h5><p>ç”¨äº Web Api çš„å“åº”æˆ–è€… POST / PUT çš„è¯·æ±‚ è¯·æ±‚ä¸­æäº¤ JSON</p>
<p><strong>application/json , image/jpeg , application/zip â€¦ï¼š</strong></p>
<blockquote>
<p>è¯·æ±‚ä¸­æäº¤Jsonï¼š</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">POST &#x2F;users HTTP&#x2F;1.1</span><br><span class="line">Host: hencoder.com</span><br><span class="line">Content-Type: application&#x2F;json; charset&#x3D;utf-8</span><br><span class="line">Content-Length: 38</span><br><span class="line">&#123;&quot;name&quot;:&quot;rengwuxian&quot;,&quot;gender&quot;:&quot;male&quot;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/users</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>hencoder.com</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json; charset=utf-8</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>38</span><br><span class="line">&#123;&quot;name&quot;:&quot;rengwuxian&quot;,&quot;gender&quot;:&quot;male&quot;&#125;</span><br></pre></td></tr></table></figure>
<p>Retrofitä¸­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ã¥<span class="meta">@POST(&quot;/users&quot;)</span></span><br><span class="line"><span class="function">Call&lt;User&gt; <span class="title">addUser</span><span class="params">(<span class="meta">@Body(&quot;user&quot;)</span> User user)</span></span>;</span><br></pre></td></tr></table></figure>
<p>// éœ€è¦ä½¿ç”¨ JSON ç›¸å…³çš„ Converter api.addUser(user);</p>
<p>å“åº”ä¸­è¿”å› JSON</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">content-type</span><span class="punctuation">: </span>application/json; charset=utf-8</span><br><span class="line"><span class="attribute">content-length</span><span class="punctuation">: </span>234</span><br><span class="line">[&#123;&quot;login&quot;:&quot;mojombo&quot;,&quot;id&quot;:1,&quot;node_id&quot;:&quot;MDQ6VXNl</span><br><span class="line">cjE=&quot;,&quot;avatar_url&quot;:&quot;https://avatars0.githubuse</span><br><span class="line">rcontent.com/u/1?v=4&quot;,&quot;gravat......</span><br></pre></td></tr></table></figure>


<blockquote>
<p>è¯·æ±‚ä¸­æäº¤äºŒè¿›åˆ¶å†…å®¹</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/user/1/avatar</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>hencoder.com</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>image/jpeg</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>1575</span><br><span class="line">JFIFHH9......</span><br></pre></td></tr></table></figure>
<p>å¯¹åº” Retrofit çš„ä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@POST(&quot;users/&#123;id&#125;/avatar&quot;)</span></span><br><span class="line"><span class="function">Call&lt;User&gt; <span class="title">updateAvatar</span><span class="params">(<span class="meta">@Path(&quot;id&quot;)</span> String id, <span class="meta">@Body</span></span></span></span><br><span class="line"><span class="function"><span class="params">RequestBody avatar)</span></span>;</span><br></pre></td></tr></table></figure>
<p>â€¦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">RequestBody avatarBody =</span><br><span class="line">RequestBody.create(MediaType.parse(<span class="string">&quot;image/jpeg&quot;</span>),</span><br><span class="line">avatarFile);</span><br><span class="line">api.updateAvatar(id, avatarBody)</span><br></pre></td></tr></table></figure>
<p>ç›¸åº”ä¸­è¿”å›äºŒè¿›åˆ¶å†…å®¹</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">content-type</span><span class="punctuation">: </span>image/jpeg</span><br><span class="line"><span class="attribute">content-length</span><span class="punctuation">: </span>1575</span><br><span class="line">JFIFHH9......</span><br></pre></td></tr></table></figure>
<h3 id="Transfer-chunked-åˆ†å—ä¼ è¾“ç¼–ç -Chunked-Transfer-Encoding"><a href="#Transfer-chunked-åˆ†å—ä¼ è¾“ç¼–ç -Chunked-Transfer-Encoding" class="headerlink" title="Transfer: chunked (åˆ†å—ä¼ è¾“ç¼–ç  Chunked Transfer Encoding)"></a>Transfer: chunked (åˆ†å—ä¼ è¾“ç¼–ç  Chunked Transfer Encoding)</h3><p>ç”¨äºå½“å“åº”å‘èµ·æ—¶ï¼Œå†…å®¹â»“åº¦è¿˜æ²¡èƒ½ç¡®å®šçš„æƒ…å†µä¸‹ã€‚å’Œ Content-Length ä¸åŒæ—¶ä½¿ ç”¨ã€‚ç”¨é€”æ˜¯å°½æ—©ç»™å‡ºå“åº”ï¼Œå‡å°‘ç”¨æˆ·ç­‰å¾…ã€‚</p>
<p>æ ¼å¼:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line">4 (å½“å‰æ•°æ®å—çš„é•¿åº¦)</span><br><span class="line">Chun</span><br><span class="line">9</span><br><span class="line">ked Trans</span><br><span class="line">12</span><br><span class="line">fer Encoding</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<h3 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h3><p>æŒ‡å®šé‡å®šå‘çš„ç›®æ ‡ URL</p>
<h3 id="User-Agent"><a href="#User-Agent" class="headerlink" title="User-Agent"></a>User-Agent</h3><p>ç”¨æˆ·ä»£ç†ï¼Œå³æ˜¯è°å®é™…å‘é€è¯·æ±‚ã€æ¥å—å“åº”çš„ï¼Œä¾‹å¦‚æ‰‹æœºæµè§ˆå™¨ã€æŸæ¬¾æ‰‹æœº Appã€‚</p>
<h3 id="Range-Accept-Range"><a href="#Range-Accept-Range" class="headerlink" title="Range / Accept-Range"></a>Range / Accept-Range</h3><p>æŒ‰èŒƒå›´å–æ•°æ®</p>
<p><code>Accept-Range: bytes </code>å“åº”æŠ¥æ–‡ä¸­å‡ºç°ï¼Œè¡¨ç¤ºæœåŠ¡å™¨æ”¯æŒæŒ‰å­—èŠ‚æ¥å–èŒƒå›´æ•°æ®</p>
<p><code>Range: bytes=&lt;start&gt;-&lt;end&gt; </code>è¯·æ±‚æŠ¥æ–‡ä¸­å‡ºç°ï¼Œè¡¨ç¤ºè¦å–å“ªæ®µæ•°æ®</p>
<p><code>Content-Range:&lt;start&gt;-&lt;end&gt;/total</code> å“åº”æŠ¥æ–‡ä¸­å‡ºç°ï¼Œè¡¨ç¤ºå‘é€çš„æ˜¯å“ªæ®µ æ•°æ®</p>
<p>ä½œç”¨:æ–­ç‚¹ç»­ä¼ ã€å¤šçº¿ç¨‹ä¸‹è½½ã€‚</p>
<h3 id="å…¶ä»–-Headers"><a href="#å…¶ä»–-Headers" class="headerlink" title="å…¶ä»– Headers"></a>å…¶ä»– Headers</h3><ul>
<li>Accept: å®¢æˆ·ç«¯èƒ½æ¥å—çš„æ•°æ®ç±»å‹ã€‚å¦‚ text/html </li>
<li>Accept-Charset: å®¢æˆ·ç«¯æ¥å—çš„å­—ç¬¦é›†ã€‚å¦‚ utf-8</li>
<li>Accept-Encoding: å®¢æˆ·ç«¯æ¥å—çš„å‹ç¼©ç¼–ç ç±»å‹ã€‚å¦‚ gzip </li>
<li>Content-Encoding:å‹ç¼©ç±»å‹ã€‚å¦‚ gzip</li>
</ul>
<h3 id="Cache"><a href="#Cache" class="headerlink" title="Cache"></a>Cache</h3><p>ä½œç”¨:åœ¨å®¢æˆ·ç«¯æˆ–ä¸­é—´ç½‘ç»œèŠ‚ç‚¹ç¼“å­˜æ•°æ®ï¼Œé™ä½ä»æœåŠ¡å™¨å–æ•°æ®çš„é¢‘ç‡ï¼Œä»¥æé«˜ç½‘ç»œæ€§èƒ½ã€‚</p>
<p>Cacheå’ŒBufferçš„åŒºåˆ«ï¼š</p>
<p>Cacheï¼šç”¨è¿‡äº†ï¼Œä»¥åè¿˜ä¼šç”¨ï¼Œå…ˆå­˜ç€ã€‚</p>
<p>Bufferï¼šé’ˆå¯¹å·¥ä½œæµï¼Œä¸‹æ¸¸ç¨åç”¨ï¼Œä¸Šæ¸¸å…ˆå¤šç”Ÿäº§ä¸€äº›ã€‚</p>
<h2 id="REST"><a href="#REST" class="headerlink" title="REST"></a>REST</h2><p>REST çš„å®šä¹‰ä¼—è¯´çº·çº­ï¼Œæ²¡æœ‰ç»Ÿä¸€ç­”æ¡ˆã€‚ æ‰”ç‰©çº¿çš„è§‚ç‚¹:REST HTTP å³æ­£ç¡®ä½¿ç”¨ HTTPã€‚åŒ…æ‹¬:</p>
<ul>
<li>ä½¿ç”¨èµ„æºçš„æ ¼å¼æ¥å®šä¹‰ URL</li>
<li>è§„èŒƒåœ°ä½¿ç”¨ method æ¥å®šä¹‰ç½‘ç»œè¯·æ±‚æ“ä½œ </li>
<li>è§„èŒƒåœ°ä½¿ç”¨ status code æ¥è¡¨ç¤ºå“åº”çŠ¶æ€ </li>
<li>å…¶ä»–ç¬¦åˆ HTTP è§„èŒƒçš„è®¾è®¡å‡†åˆ™</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/30/Hexo%20+%20GitHub%20Pages%20+%20Typora%20%E6%9E%84%E5%BB%BA%E5%8D%9A%E5%AE%A2%20(1)%20Hexo%20%E7%9A%84%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/30/Hexo%20+%20GitHub%20Pages%20+%20Typora%20%E6%9E%84%E5%BB%BA%E5%8D%9A%E5%AE%A2%20(1)%20Hexo%20%E7%9A%84%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">é‡æ–°åˆ©ç”¨hexoå’Œgithub page å»ºç«‹äº†ä¸€ä¸ªblog</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-30 08:35:31" itemprop="dateCreated datePublished" datetime="2021-04-30T08:35:31+08:00">2021-04-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Hexo-GitHub-Pages-Typora-æ„å»ºåšå®¢-1-Hexo-çš„å®‰è£…"><a href="#Hexo-GitHub-Pages-Typora-æ„å»ºåšå®¢-1-Hexo-çš„å®‰è£…" class="headerlink" title="Hexo + GitHub Pages + Typora æ„å»ºåšå®¢ (1) Hexo çš„å®‰è£…"></a>Hexo + GitHub Pages + Typora æ„å»ºåšå®¢ (1) Hexo çš„å®‰è£…</h2><p>æœ€è¿‘åœ¨å­¦ä¸€äº›ç½‘ç»œçŸ¥è¯†ï¼Œä½†æ˜¯ä½¿ç”¨å¸‚é¢ä¸Šæ”¯æŒ <a target="_blank" rel="noopener" href="https://www.runoob.com/markdown/md-tutorial.html">Markdown </a>çš„ ç¬”è®°å·¥å…·ï¼ˆå¦‚ç®€ä¹¦ï¼Œæœ‰é“äº‘ç¬”è®°ï¼Œå°è±¡ç¬”è®°ï¼‰çš„äº§å“ï¼Œæ—¶å¸¸é‡åˆ°ä¸¤ç±»é—®é¢˜ï¼š</p>
<ol>
<li><p>åŠŸèƒ½è¿‡äºå¤æ‚ï¼ˆæœ‰é“ï¼Œå°è±¡ï¼‰ï¼Œå¾ˆå¤šåŠŸèƒ½æˆ‘ç”¨ä¸ä¸Šï¼Œä¸”æ‰“å¼€æœ‰äº›å¡é¡¿</p>
</li>
<li><p>æ²¡æœ‰åœ¨çº¿å­˜å‚¨æ–‡ä»¶æˆ–è€…å›¾ç‰‡çš„èƒ½åŠ›ï¼ˆTyporaï¼‰</p>
</li>
<li><p>åœ¨çº¿æ‰“å¼€æ“ä½œä¸å¤Ÿæ–¹ä¾¿ï¼Œä½“éªŒä¸å¤Ÿå¥½ï¼ˆç®€ä¹¦ï¼Œæ˜é‡‘ï¼‰</p>
</li>
<li><p>éœ€è¦ä»˜è´¹</p>
</li>
</ol>
<p>å› æ­¤æˆ‘å‡†å¤‡æ„å»ºä¸€å¥—çš„åšå®¢å·¥å…·ï¼Œæ–¹æ¡ˆé‡‡ç”¨</p>
<p> Hexo+Git Page +Typoraï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">A[ç®€æ˜“åšå®¢ç³»ç»Ÿ] --&gt; B(Hexo ç”Ÿæˆé™æ€ç½‘é¡µ)</span><br><span class="line">A --&gt; C(Github Page MiniæœåŠ¡å™¨)</span><br><span class="line">A --&gt; D(Typora Miniå®¢æˆ·ç«¯ ç¼–è¾‘æ–‡æœ¬)</span><br><span class="line">E[ç®€æ˜“åšå®¢ç³»ç»Ÿ]</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/04/30/Hexo%20+%20GitHub%20Pages%20+%20Typora%20%E6%9E%84%E5%BB%BA%E5%8D%9A%E5%AE%A2%20(1)%20Hexo%20%E7%9A%84%E5%AE%89%E8%A3%85/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/29/%E8%87%AA%E5%AE%9A%E4%B9%89View%E3%80%901%E3%80%91%E5%9B%BE%E5%BD%A2%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%92%8C%E5%B0%BA%E5%AF%B8%E6%B5%8B%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/29/%E8%87%AA%E5%AE%9A%E4%B9%89View%E3%80%901%E3%80%91%E5%9B%BE%E5%BD%A2%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%92%8C%E5%B0%BA%E5%AF%B8%E6%B5%8B%E9%87%8F/" class="post-title-link" itemprop="url">è‡ªå®šä¹‰Viewã€1ã€‘å›¾å½¢çš„ä½ç½®å’Œå°ºå¯¸æµ‹é‡</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-29 14:03:13" itemprop="dateCreated datePublished" datetime="2021-04-29T14:03:13+08:00">2021-04-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-05-06 23:18:03" itemprop="dateModified" datetime="2021-05-06T23:18:03+08:00">2021-05-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/%E8%87%AA%E5%AE%9A%E4%B9%89View/" itemprop="url" rel="index"><span itemprop="name">è‡ªå®šä¹‰View</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="è‡ªå®šä¹‰Viewã€1ã€‘å›¾å½¢çš„ä½ç½®å’Œå°ºå¯¸æµ‹é‡"><a href="#è‡ªå®šä¹‰Viewã€1ã€‘å›¾å½¢çš„ä½ç½®å’Œå°ºå¯¸æµ‹é‡" class="headerlink" title="è‡ªå®šä¹‰Viewã€1ã€‘å›¾å½¢çš„ä½ç½®å’Œå°ºå¯¸æµ‹é‡"></a>è‡ªå®šä¹‰Viewã€1ã€‘å›¾å½¢çš„ä½ç½®å’Œå°ºå¯¸æµ‹é‡</h1><ol>
<li>è°ƒè¯•å›¾ç‰‡é—®é¢˜</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/25/Kotlin%E6%96%B9%E6%B3%95%E4%B8%8ELambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/25/Kotlin%E6%96%B9%E6%B3%95%E4%B8%8ELambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="post-title-link" itemprop="url">Kotlinæ–¹æ³•ä¸Lambdaè¡¨è¾¾å¼</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-25 18:41:00" itemprop="dateCreated datePublished" datetime="2021-04-25T18:41:00+08:00">2021-04-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-06-25 17:27:32" itemprop="dateModified" datetime="2021-06-25T17:27:32+08:00">2021-06-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kotlin/" itemprop="url" rel="index"><span itemprop="name">Kotlin</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Kotlinæ–¹æ³•ä¸Lambdaè¡¨è¾¾å¼"><a href="#Kotlinæ–¹æ³•ä¸Lambdaè¡¨è¾¾å¼" class="headerlink" title="Kotlinæ–¹æ³•ä¸Lambdaè¡¨è¾¾å¼"></a>Kotlinæ–¹æ³•ä¸Lambdaè¡¨è¾¾å¼</h1>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/04/25/Kotlin%E6%96%B9%E6%B3%95%E4%B8%8ELambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/12/adb%E7%9B%B8%E5%85%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/12/adb%E7%9B%B8%E5%85%B3/" class="post-title-link" itemprop="url">adbç›¸å…³</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-12 19:17:49" itemprop="dateCreated datePublished" datetime="2021-04-12T19:17:49+08:00">2021-04-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-30 08:35:31" itemprop="dateModified" datetime="2021-04-30T08:35:31+08:00">2021-04-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/adb/" itemprop="url" rel="index"><span itemprop="name">adb</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="adbç›¸å…³é—®é¢˜"><a href="#adbç›¸å…³é—®é¢˜" class="headerlink" title="adbç›¸å…³é—®é¢˜"></a>adbç›¸å…³é—®é¢˜</h1>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/04/12/adb%E7%9B%B8%E5%85%B3/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/07/Zygote%E7%9A%84%E4%BD%9C%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/07/Zygote%E7%9A%84%E4%BD%9C%E7%94%A8/" class="post-title-link" itemprop="url">Zygoteçš„ä½œç”¨</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-07 13:47:03" itemprop="dateCreated datePublished" datetime="2021-04-07T13:47:03+08:00">2021-04-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-30 08:35:31" itemprop="dateModified" datetime="2021-04-30T08:35:31+08:00">2021-04-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Framework/" itemprop="url" rel="index"><span itemprop="name">Framework</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <a id="more"></a>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/06/%E6%8E%92%E5%BA%8F%EF%BC%88%E4%B8%8B%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/06/%E6%8E%92%E5%BA%8F%EF%BC%88%E4%B8%8B%EF%BC%89/" class="post-title-link" itemprop="url">æ’åºï¼ˆä¸‹ï¼‰</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-06 15:48:43" itemprop="dateCreated datePublished" datetime="2021-04-06T15:48:43+08:00">2021-04-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-06-25 17:27:32" itemprop="dateModified" datetime="2021-06-25T17:27:32+08:00">2021-06-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">æ•°æ®ç»“æ„ä¸ç®—æ³•</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F/" itemprop="url" rel="index"><span itemprop="name">æ’åº</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="æ’åºï¼ˆä¸‹ï¼‰å½’å¹¶-å¿«é€Ÿï¼Œç”¨å¿«æ’æ€æƒ³åœ¨O-n-å†…æŸ¥æ‰¾ç¬¬Kå¤§å…ƒç´ "><a href="#æ’åºï¼ˆä¸‹ï¼‰å½’å¹¶-å¿«é€Ÿï¼Œç”¨å¿«æ’æ€æƒ³åœ¨O-n-å†…æŸ¥æ‰¾ç¬¬Kå¤§å…ƒç´ " class="headerlink" title="æ’åºï¼ˆä¸‹ï¼‰å½’å¹¶ å¿«é€Ÿï¼Œç”¨å¿«æ’æ€æƒ³åœ¨O(n)å†…æŸ¥æ‰¾ç¬¬Kå¤§å…ƒç´ "></a>æ’åºï¼ˆä¸‹ï¼‰å½’å¹¶ å¿«é€Ÿï¼Œç”¨å¿«æ’æ€æƒ³åœ¨O(n)å†…æŸ¥æ‰¾ç¬¬Kå¤§å…ƒç´ </h1>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/04/06/%E6%8E%92%E5%BA%8F%EF%BC%88%E4%B8%8B%EF%BC%89/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/01/Kotlin%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/01/Kotlin%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">KotlinåŸºç¡€</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-01 15:39:15" itemprop="dateCreated datePublished" datetime="2021-04-01T15:39:15+08:00">2021-04-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-30 08:35:31" itemprop="dateModified" datetime="2021-04-30T08:35:31+08:00">2021-04-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kotlin/" itemprop="url" rel="index"><span itemprop="name">Kotlin</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Kotlin-åŸºç¡€"><a href="#Kotlin-åŸºç¡€" class="headerlink" title="Kotlin åŸºç¡€"></a>Kotlin åŸºç¡€</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>â€‹    Kotlinæ˜¯ä¸€ç§åœ¨Javaè™šæ‹Ÿæœºä¸Šè¿è¡Œçš„é™æ€ç±»å‹ç¼–ç¨‹è¯­è¨€ã€‚å®ƒä¸»è¦æ˜¯JetBrainså¼€å‘å›¢é˜Ÿæ‰€å¼€å‘å‡ºæ¥çš„ç¼–ç¨‹è¯­è¨€ã€‚<br>è™½ç„¶Kotlinä¸Javaè¯­æ³•å¹¶ä¸å…¼å®¹ï¼Œä½†Kotlinè¢«è®¾è®¡æˆå¯ä»¥å’ŒJavaä»£ç ç›¸äº’è¿ä½œï¼Œå¹¶å¯ä»¥é‡å¤ä½¿ç”¨å¦‚Javaé›†åˆæ¡†æ¶ç­‰ç°æœ‰Javaå¼•ç”¨çš„æ–¹æ³•åº“ã€‚å®ƒå¾ˆå®¹æ˜“åœ¨Androidé¡¹ç›®ä¸­æ›¿ä»£Javaæˆ–è€…åŒJavaä¸€èµ·ä½¿ç”¨ã€‚</p>
<h3 id="Kotlinçš„ç‰¹ç‚¹ï¼š"><a href="#Kotlinçš„ç‰¹ç‚¹ï¼š" class="headerlink" title="Kotlinçš„ç‰¹ç‚¹ï¼š"></a>Kotlinçš„ç‰¹ç‚¹ï¼š</h3><ul>
<li>ç®€æ´æ˜“ç”¨: Kotlinä¸­æä¾›äº†å¤§é‡çš„æ‰©å±•ï¼Œä½¿å¾—æˆ‘ä»¬çš„ä»£ç æ›´åŠ ç®€æ´ï¼Œå¼€å‘å‡ºæ¥çš„æ¡†æ¶æ›´åŠ æ˜“ç”¨</li>
<li>å®‰å…¨: é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ç­‰æ•´ä¸ªç±»çš„é”™è¯¯</li>
<li>äº’æ“ä½œæ€§: å……åˆ†åˆ©ç”¨ JVMã€Android å’Œæµè§ˆå™¨çš„ç°æœ‰åº“</li>
<li>å·¥å…·å‹å¥½: å¯ç”¨ä»»ä½• Java IDE æˆ–è€…ä½¿ç”¨å‘½ä»¤è¡Œæ„å»º</li>
</ul>
<h3 id="Kotlin-æ„å»ºæµç¨‹ï¼š"><a href="#Kotlin-æ„å»ºæµç¨‹ï¼š" class="headerlink" title="Kotlin æ„å»ºæµç¨‹ï¼š"></a>Kotlin æ„å»ºæµç¨‹ï¼š</h3><p><img src="/2021/04/01/Kotlin%E5%9F%BA%E7%A1%80/image-20210401154811917.png" alt="image-20210401154811917"></p>
<ul>
<li>*kt ä¼šè¢«Kotlinç¼–è¯‘å™¨å˜æˆç¼–è¯‘ä¸º.class çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åè¢«å½’æ¡£æˆ.jar ï¼Œæœ€åç”±å„å¹³å°æ‰“åŒ…å·¥å…·è¾“å‡ºæœ€ç»ˆçš„ç¨‹åº</li>
<li>æˆ‘ä»¬ç”¨Javaå†™çš„ç¨‹åºæ‰€æœ‰çš„å®ç°éƒ½ä¼šæœ‰æ ‡å‡†çš„Javaç±»åº“æ¥åšæ”¯æ’‘ï¼Œæ¯”å¦‚ï¼š<code>java.lang.*</code>,<code>java.util.*</code>ä½†æ˜¯Kot linä¸­çš„ç±»åº“æ˜¯ä¸åœ¨æ ‡å‡†çš„Javaç±»åº“ä¸­çš„ï¼Œæ‰€ä»¥ï¼ŒKotlinåº”ç”¨ç¨‹åºéœ€è¦åœ¨æœ€åä¸€æ­¥å€ŸåŠ©Kotlinè¿è¡Œæ—¶æ¥æ”¯æ’‘è¿™äº›Javaæ ‡å‡†åº“æ²¡æœ‰çš„å®ç°ã€‚</li>
</ul>
<h2 id="Kotlinå’ŒJavaçš„å¼‚åŒ"><a href="#Kotlinå’ŒJavaçš„å¼‚åŒ" class="headerlink" title="Kotlinå’ŒJavaçš„å¼‚åŒ"></a>Kotlinå’ŒJavaçš„å¼‚åŒ</h2><h3 id="æ‰“å°æ—¥å¿—"><a href="#æ‰“å°æ—¥å¿—" class="headerlink" title="æ‰“å°æ—¥å¿—"></a>æ‰“å°æ—¥å¿—</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.print(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;hello world&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">println(<span class="string">&quot;hello world&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="å®šä¹‰å˜é‡ä¸å¸¸é‡"><a href="#å®šä¹‰å˜é‡ä¸å¸¸é‡" class="headerlink" title="å®šä¹‰å˜é‡ä¸å¸¸é‡"></a>å®šä¹‰å˜é‡ä¸å¸¸é‡</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String name = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="keyword">final</span> String name = <span class="string">&quot;hello world&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;hello world&quot;</span></span><br><span class="line"><span class="keyword">val</span> name = <span class="string">&quot;hello world&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="nullå£°æ˜"><a href="#nullå£°æ˜" class="headerlink" title="nullå£°æ˜"></a>nullå£°æ˜</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String otherName;</span><br><span class="line">otherName = <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> otherName : String?</span><br><span class="line">otherName = <span class="literal">null</span></span><br></pre></td></tr></table></figure>
<h3 id="ç©ºåˆ¤æ–­"><a href="#ç©ºåˆ¤æ–­" class="headerlink" title="ç©ºåˆ¤æ–­"></a>ç©ºåˆ¤æ–­</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (text != <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">int</span> length = text.length();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">text?.let &#123;<span class="comment">//è¡¨ç¤ºtextä¸ä¸ºnullçš„æ¡ä»¶ä¸‹ï¼Œæ‰ä¼šå»æ‰§è¡Œletå‡½æ•°ä½“</span></span><br><span class="line">    <span class="keyword">val</span> length = text.length</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// or simply</span></span><br><span class="line"><span class="keyword">val</span> length = text?.length</span><br></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦ä¸²æ‹¼æ¥"><a href="#å­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="å­—ç¬¦ä¸²æ‹¼æ¥"></a>å­—ç¬¦ä¸²æ‹¼æ¥</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String firstName = <span class="string">&quot;Android&quot;</span>;</span><br><span class="line">String lastName = <span class="string">&quot;Architect&quot;</span>;</span><br><span class="line">String message = <span class="string">&quot;My name is: &quot;</span> + firstName + <span class="string">&quot; &quot;</span> + lastName;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> firstName = <span class="string">&quot;Android&quot;</span></span><br><span class="line"><span class="keyword">val</span> lastName = <span class="string">&quot;Architect&quot;</span></span><br><span class="line"><span class="keyword">val</span> message = <span class="string">&quot;My name is: <span class="variable">$firstName</span> <span class="variable">$lastName</span>&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ¢è¡Œ"><a href="#æ¢è¡Œ" class="headerlink" title="æ¢è¡Œ"></a>æ¢è¡Œ</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String text = <span class="string">&quot;First Line\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;Second Line\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;Third Line&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> text = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |First Line</span></span><br><span class="line"><span class="string">        |Second Line</span></span><br><span class="line"><span class="string">        |Third Line</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span>.trimMargin()</span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰å…ƒè¡¨è¾¾å¼"><a href="#ä¸‰å…ƒè¡¨è¾¾å¼" class="headerlink" title="ä¸‰å…ƒè¡¨è¾¾å¼"></a>ä¸‰å…ƒè¡¨è¾¾å¼</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String text = x &gt; <span class="number">5</span> ? <span class="string">&quot;x &gt; 5&quot;</span> : <span class="string">&quot;x &lt;= 5&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> text = <span class="keyword">if</span> (x &gt; <span class="number">5</span>)</span><br><span class="line">              <span class="string">&quot;x &gt; 5&quot;</span></span><br><span class="line">           <span class="keyword">else</span> <span class="string">&quot;x &lt;= 5&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="æ“ä½œç¬¦"></a>æ“ä½œç¬¦</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">int</span> andResult  = a &amp; b;</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">int</span> orResult   = a | b;</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">int</span> xorResult  = a ^ b;</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">int</span> rightShift = a &gt;&gt; <span class="number">2</span>;</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">int</span> leftShift  = a &lt;&lt; <span class="number">2</span>;</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">int</span> unsignedRightShift = a &gt;&gt;&gt; <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> andResult  = a and b</span><br><span class="line"><span class="keyword">val</span> orResult   = a or b</span><br><span class="line"><span class="keyword">val</span> xorResult  = a xor b</span><br><span class="line"><span class="keyword">val</span> rightShift = a shr <span class="number">2</span></span><br><span class="line"><span class="keyword">val</span> leftShift  = a shl <span class="number">2</span></span><br><span class="line"><span class="keyword">val</span> unsignedRightShift = a ushr <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h3 id="ç±»å‹åˆ¤æ–­å’Œè½¬æ¢ï¼ˆå£°æ˜å¼ï¼‰"><a href="#ç±»å‹åˆ¤æ–­å’Œè½¬æ¢ï¼ˆå£°æ˜å¼ï¼‰" class="headerlink" title="ç±»å‹åˆ¤æ–­å’Œè½¬æ¢ï¼ˆå£°æ˜å¼ï¼‰"></a>ç±»å‹åˆ¤æ–­å’Œè½¬æ¢ï¼ˆå£°æ˜å¼ï¼‰</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (object <span class="keyword">instanceof</span> Car) &#123;</span><br><span class="line">   Car car = (Car) object;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">object</span> <span class="keyword">is</span> Car) &#123;</span><br><span class="line">   <span class="keyword">var</span> car = <span class="keyword">object</span> <span class="comment">// è‡ªåŠ¨è¯†åˆ«</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç±»å‹åˆ¤æ–­å’Œè½¬æ¢ï¼ˆéšå¼ï¼‰"><a href="#ç±»å‹åˆ¤æ–­å’Œè½¬æ¢ï¼ˆéšå¼ï¼‰" class="headerlink" title="ç±»å‹åˆ¤æ–­å’Œè½¬æ¢ï¼ˆéšå¼ï¼‰"></a>ç±»å‹åˆ¤æ–­å’Œè½¬æ¢ï¼ˆéšå¼ï¼‰</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (object <span class="keyword">instanceof</span> Car) &#123;</span><br><span class="line">   Car car = (Car) object;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">object</span> <span class="keyword">is</span> Car) &#123;</span><br><span class="line">   <span class="keyword">var</span> car = <span class="keyword">object</span> <span class="comment">// è‡ªåŠ¨è¯†åˆ«</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¤šé‡æ¡ä»¶"><a href="#å¤šé‡æ¡ä»¶" class="headerlink" title="å¤šé‡æ¡ä»¶"></a>å¤šé‡æ¡ä»¶</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (score &gt;= <span class="number">0</span> &amp;&amp; score &lt;= <span class="number">300</span>) &#123; &#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (score <span class="keyword">in</span> <span class="number">0.</span><span class="number">.300</span>) &#123; &#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ›´çµæ´»çš„caseè¯­å¥"><a href="#æ›´çµæ´»çš„caseè¯­å¥" class="headerlink" title="æ›´çµæ´»çš„caseè¯­å¥"></a>æ›´çµæ´»çš„caseè¯­å¥</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> score = <span class="comment">// some score;</span></span><br><span class="line">String grade;</span><br><span class="line"><span class="keyword">switch</span> (score) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">        grade = <span class="string">&quot;Excellent&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">        grade = <span class="string">&quot;Good&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">        grade = <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        grade = <span class="string">&quot;Fail&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        grade = <span class="string">&quot;Fail&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> score = <span class="comment">// some score</span></span><br><span class="line"><span class="keyword">var</span> grade = <span class="keyword">when</span> (score) &#123;</span><br><span class="line">    <span class="number">9</span>, <span class="number">10</span> -&gt; <span class="string">&quot;Excellent&quot;</span></span><br><span class="line">    <span class="keyword">in</span> <span class="number">6.</span><span class="number">.8</span> -&gt; <span class="string">&quot;Good&quot;</span></span><br><span class="line">    <span class="number">4</span>, <span class="number">5</span> -&gt; <span class="string">&quot;OK&quot;</span></span><br><span class="line">    <span class="keyword">in</span> <span class="number">1.</span><span class="number">.3</span> -&gt; <span class="string">&quot;Fail&quot;</span></span><br><span class="line">    <span class="keyword">else</span> -&gt; <span class="string">&quot;Fail&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="for-å¾ªç¯"><a href="#for-å¾ªç¯" class="headerlink" title="for å¾ªç¯"></a>for å¾ªç¯</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span> ; i++) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span> ; i++) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">10</span>; i &gt;= <span class="number">0</span> ; i--) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span> ; i+=<span class="number">2</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">10</span>; i &gt;= <span class="number">0</span> ; i-=<span class="number">2</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (String item : collection) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, String&gt; entry: map.entrySet()) &#123; &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1.</span><span class="number">.10</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span> until <span class="number">10</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">10</span> downTo <span class="number">0</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1.</span><span class="number">.10</span> step <span class="number">2</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">10</span> downTo <span class="number">0</span> step <span class="number">2</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (item <span class="keyword">in</span> collection) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ((key, value) <span class="keyword">in</span> map) &#123; &#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ›´æ–¹ä¾¿çš„é›†åˆ"><a href="#æ›´æ–¹ä¾¿çš„é›†åˆ" class="headerlink" title="æ›´æ–¹ä¾¿çš„é›†åˆ"></a>æ›´æ–¹ä¾¿çš„é›†åˆ</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> List&lt;Integer&gt; listOfNumber = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> Map&lt;Integer, String&gt; keyValue = <span class="keyword">new</span> HashMap&lt;Integer, String&gt;();</span><br><span class="line">map.put(<span class="number">1</span>, <span class="string">&quot;Android&quot;</span>);</span><br><span class="line">map.put(<span class="number">2</span>, <span class="string">&quot;Ali&quot;</span>);</span><br><span class="line">map.put(<span class="number">3</span>, <span class="string">&quot;Mindorks&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Java 9</span></span><br><span class="line"><span class="keyword">final</span> List&lt;Integer&gt; listOfNumber = List.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> Map&lt;Integer, String&gt; keyValue = Map.of(<span class="number">1</span>, <span class="string">&quot;Android&quot;</span>,</span><br><span class="line">                                             <span class="number">2</span>, <span class="string">&quot;Ali&quot;</span>,</span><br><span class="line">                                             <span class="number">3</span>, <span class="string">&quot;Mindorks&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> listOfNumber = listOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="keyword">val</span> keyValue = mapOf(<span class="number">1</span> to <span class="string">&quot;Android&quot;</span>,</span><br><span class="line">                     <span class="number">2</span> to <span class="string">&quot;Ali&quot;</span>,</span><br><span class="line">                     <span class="number">3</span> to <span class="string">&quot;Mindorks&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java 7 and below</span></span><br><span class="line"><span class="keyword">for</span> (Car car : cars) &#123;</span><br><span class="line">  System.out.println(car.speed);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Java 8+</span></span><br><span class="line">cars.forEach(car -&gt; System.out.println(car.speed));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Java 7 and below</span></span><br><span class="line"><span class="keyword">for</span> (Car car : cars) &#123;</span><br><span class="line">  <span class="keyword">if</span> (car.speed &gt; <span class="number">100</span>) &#123;</span><br><span class="line">    System.out.println(car.speed);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Java 8+</span></span><br><span class="line">cars.stream().filter(car -&gt; car.speed &gt; <span class="number">100</span>).forEach(car -&gt; System.out.println(car.speed));</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cars.forEach &#123;</span><br><span class="line">    println(it.speed)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cars.filter &#123; it.speed &gt; <span class="number">100</span> &#125;</span><br><span class="line">      .forEach &#123; println(it.speed)&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•å®šä¹‰"><a href="#æ–¹æ³•å®šä¹‰" class="headerlink" title="æ–¹æ³•å®šä¹‰"></a>æ–¹æ³•å®šä¹‰</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="comment">// logic here</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">(<span class="keyword">int</span>... numbers)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// logic here</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">doSomething</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// logic here</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">doSomething</span><span class="params">(<span class="keyword">vararg</span> numbers: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">   <span class="comment">// logic here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###å¸¦è¿”å›å€¼çš„æ–¹æ³•</p>
<p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getScore</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="comment">// logic here</span></span><br><span class="line">   <span class="keyword">return</span> score;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">getScore</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">   <span class="comment">// logic here</span></span><br><span class="line">   <span class="keyword">return</span> score</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// as a single-expression function</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">getScore</span><span class="params">()</span></span>: <span class="built_in">Int</span> = score</span><br></pre></td></tr></table></figure>
<p>###æ— ç»“æŸç¬¦å·</p>
<p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getScore</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// logic here</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">getScore</span><span class="params">(value: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">   <span class="comment">// logic here</span></span><br><span class="line">   <span class="keyword">return</span> <span class="number">2</span> * value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// as a single-expression function</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">getScore</span><span class="params">(value: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> = <span class="number">2</span> * value</span><br></pre></td></tr></table></figure>
<h3 id="Constructor-æ„é€ å™¨"><a href="#Constructor-æ„é€ å™¨" class="headerlink" title="Constructor æ„é€ å™¨"></a>Constructor æ„é€ å™¨</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Utils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Utils</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="comment">// This utility class is not publicly instantiable</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getScore</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Utils</span> <span class="keyword">private</span> <span class="keyword">constructor</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">companion</span> <span class="keyword">object</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">getScore</span><span class="params">(value: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span> * value</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// another way</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">object</span> Utils &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">getScore</span><span class="params">(value: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * value</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="GetSet-æ„é€ å™¨"><a href="#GetSet-æ„é€ å™¨" class="headerlink" title="GetSet æ„é€ å™¨"></a>GetSet æ„é€ å™¨</h3><p>Javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Developer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Developer</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">Developer</span></span>(<span class="keyword">val</span> name: String, <span class="keyword">val</span> age: <span class="built_in">Int</span>)</span><br></pre></td></tr></table></figure>
<h2 id="å¿…å¤‡åŸºç¡€"><a href="#å¿…å¤‡åŸºç¡€" class="headerlink" title="å¿…å¤‡åŸºç¡€"></a>å¿…å¤‡åŸºç¡€</h2><p>å­¦ä¹ æ–°è¯­è¨€ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯å­¦ä¹ å®ƒæœ‰æ€æ ·çš„æ•°æ®ç±»å‹ï¼Œä»¥åŠå®ƒçš„æ•°ç»„é›†åˆå’Œæ–¹æ³•æ˜¯æ€æ ·å­ï¼Œå› ä¸ºè¿™äº›äº‹æˆ‘ä»¬å…¥æ‰‹ä¸€é—¨æ–°è¯­è¨€æ—¶çš„ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯åŸºç¡€æ±‡æ€»çš„åŸºç¡€ã€‚</p>
<h3 id="KotlinåŸºæœ¬ç±»å‹"><a href="#KotlinåŸºæœ¬ç±»å‹" class="headerlink" title="KotlinåŸºæœ¬ç±»å‹"></a>KotlinåŸºæœ¬ç±»å‹</h3><h4 id="æ•°å­—"><a href="#æ•°å­—" class="headerlink" title="æ•°å­—"></a>æ•°å­—</h4><p>Kotlin æä¾›äº†ä¸€ç»„è¡¨ç¤ºæ•°å­—çš„å†…ç½®ç±»å‹ã€‚ å¯¹äºæ•´æ•°ï¼Œæœ‰å››ç§ä¸åŒå¤§å°çš„ç±»å‹ï¼Œå› æ­¤å€¼çš„èŒƒå›´ä¹Ÿä¸åŒã€‚</p>
<table>
<thead>
<tr>
<th align="left">ç±»å‹</th>
<th align="left">å¤§å°ï¼ˆæ¯”ç‰¹æ•°ï¼‰</th>
<th align="left">æœ€å°å€¼</th>
<th align="left">æœ€å¤§å€¼</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Byte</td>
<td align="left">8</td>
<td align="left">-128</td>
<td align="left">127</td>
</tr>
<tr>
<td align="left">Short</td>
<td align="left">16</td>
<td align="left">-32768</td>
<td align="left">32767</td>
</tr>
<tr>
<td align="left">Int</td>
<td align="left">32</td>
<td align="left">-2,147,483,648 (-231)</td>
<td align="left">2,147,483,647 (231 - 1)</td>
</tr>
<tr>
<td align="left">Long</td>
<td align="left">64</td>
<td align="left">-9,223,372,036,854,775,808 (-263)</td>
<td align="left">9,223,372,036,854,775,807 (263 - 1)</td>
</tr>
</tbody></table>
<p>å¯¹äºæµ®ç‚¹æ•°ï¼ŒKotlin æä¾›äº† <code>Float</code> ä¸ <code>Double</code> ç±»å‹ã€‚ æ ¹æ® <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/IEEE_754">IEEE 754 æ ‡å‡†</a>ï¼Œ ä¸¤ç§æµ®ç‚¹ç±»å‹çš„<em>åè¿›åˆ¶ä½æ•°</em>ï¼ˆå³å¯ä»¥å­˜å‚¨å¤šå°‘ä½åè¿›åˆ¶æ•°ï¼‰ä¸åŒã€‚ <code>Float</code> åæ˜ äº† IEEE 754 <em>å•ç²¾åº¦</em>ï¼Œè€Œ <code>Double</code> æä¾›äº†<em>åŒç²¾åº¦</em>ã€‚</p>
<table>
<thead>
<tr>
<th align="left">ç±»å‹</th>
<th align="left">å¤§å°ï¼ˆæ¯”ç‰¹æ•°ï¼‰</th>
<th align="left">æœ‰æ•ˆæ•°å­—æ¯”ç‰¹æ•°</th>
<th align="left">æŒ‡æ•°æ¯”ç‰¹æ•°</th>
<th align="left">åè¿›åˆ¶ä½æ•°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Float</td>
<td align="left">32</td>
<td align="left">24</td>
<td align="left">8</td>
<td align="left">6-7</td>
</tr>
<tr>
<td align="left">Double</td>
<td align="left">64</td>
<td align="left">53</td>
<td align="left">11</td>
<td align="left">15-16</td>
</tr>
</tbody></table>
<h3 id="Kotlinçš„æ•°ç»„"><a href="#Kotlinçš„æ•°ç»„" class="headerlink" title="Kotlinçš„æ•°ç»„"></a>Kotlinçš„æ•°ç»„</h3><p>æ•°ç»„åœ¨ Kotlin ä¸­ä½¿ç”¨ <code>Array</code> ç±»æ¥è¡¨ç¤ºï¼Œå®ƒå®šä¹‰äº† <code>get</code> ä¸ <code>set</code> å‡½æ•°ï¼ˆæŒ‰ç…§è¿ç®—ç¬¦é‡è½½çº¦å®šè¿™ä¼šè½¬å˜ä¸º <code>[]</code>ï¼‰ä»¥åŠ <code>size</code> å±æ€§ï¼Œä»¥åŠä¸€äº›å…¶ä»–æœ‰ç”¨çš„æˆå‘˜å‡½æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class Array&lt;T&gt; private constructor() &#123;</span><br><span class="line">    val size: Int</span><br><span class="line">    operator fun get(index: Int): T</span><br><span class="line">    operator fun set(index: Int, value: T): Unit</span><br><span class="line"></span><br><span class="line">    operator fun iterator(): Iterator&lt;T&gt;</span><br><span class="line">    &#x2F;&#x2F; â€¦â€¦</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ•°ç»„çš„åˆ›å»ºæŠ€å·§"><a href="#æ•°ç»„çš„åˆ›å»ºæŠ€å·§" class="headerlink" title="æ•°ç»„çš„åˆ›å»ºæŠ€å·§"></a>æ•°ç»„çš„åˆ›å»ºæŠ€å·§</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åº“å‡½æ•° <code>arrayOf()</code> æ¥åˆ›å»ºä¸€ä¸ªæ•°ç»„å¹¶ä¼ é€’å…ƒç´ å€¼ç»™å®ƒï¼Œè¿™æ · <code>arrayOf(1, 2, 3)</code> åˆ›å»ºäº† array <code>[1, 2, 3]</code>ã€‚ æˆ–è€…ï¼Œåº“å‡½æ•° <code>arrayOfNulls()</code> å¯ä»¥ç”¨äºåˆ›å»ºä¸€ä¸ªæŒ‡å®šå¤§å°çš„ã€æ‰€æœ‰å…ƒç´ éƒ½ä¸ºç©ºçš„æ•°ç»„ã€‚</p>
<p>å¦ä¸€ä¸ªé€‰é¡¹æ˜¯ç”¨æ¥å—æ•°ç»„å¤§å°ä»¥åŠä¸€ä¸ªå‡½æ•°å‚æ•°çš„ <code>Array</code> æ„é€ å‡½æ•°ï¼Œç”¨ä½œå‚æ•°çš„å‡½æ•°èƒ½å¤Ÿè¿”å›ç»™å®šç´¢å¼•çš„æ¯ä¸ªå…ƒç´ åˆå§‹å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; åˆ›å»ºä¸€ä¸ª Array&lt;String&gt; åˆå§‹åŒ–ä¸º [&quot;0&quot;, &quot;1&quot;, &quot;4&quot;, &quot;9&quot;, &quot;16&quot;]</span><br><span class="line">val asc &#x3D; Array(5) &#123; i -&gt; (i * i).toString() &#125;</span><br><span class="line">asc.forEach &#123; println(it) &#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šæ‰€è¿°ï¼Œ<code>[]</code> è¿ç®—ç¬¦ä»£è¡¨è°ƒç”¨æˆå‘˜å‡½æ•° <code>get()</code> ä¸ <code>set()</code>ã€‚</p>
<p>Kotlin ä¸­æ•°ç»„æ˜¯<em>ä¸å‹å˜çš„ï¼ˆinvariantï¼‰</em>ã€‚è¿™æ„å‘³ç€ Kotlin ä¸è®©æˆ‘ä»¬æŠŠ <code>Array&lt;String&gt;</code> èµ‹å€¼ç»™ <code>Array&lt;Any&gt;</code>ï¼Œä»¥é˜²æ­¢å¯èƒ½çš„è¿è¡Œæ—¶å¤±è´¥ã€‚</p>
<h4 id="åŸç”Ÿç±»å‹æ•°ç»„"><a href="#åŸç”Ÿç±»å‹æ•°ç»„" class="headerlink" title="åŸç”Ÿç±»å‹æ•°ç»„"></a>åŸç”Ÿç±»å‹æ•°ç»„</h4><p>Kotlin ä¹Ÿæœ‰æ— è£…ç®±å¼€ç®±çš„ä¸“é—¨çš„ç±»æ¥è¡¨ç¤ºåŸç”Ÿç±»å‹æ•°ç»„: <code>ByteArray</code>ã€ <code>ShortArray</code>ã€<code>IntArray</code> ç­‰ç­‰ã€‚è¿™äº›ç±»ä¸ <code>Array</code> å¹¶æ²¡æœ‰ç»§æ‰¿å…³ç³»ï¼Œä½†æ˜¯å®ƒä»¬æœ‰åŒæ ·çš„æ–¹æ³•å±æ€§é›†ã€‚å®ƒä»¬ä¹Ÿéƒ½æœ‰ç›¸åº”çš„å·¥å‚æ–¹æ³•:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> x: IntArray = intArrayOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">x[<span class="number">0</span>] = x[<span class="number">1</span>] + x[<span class="number">2</span>]</span><br><span class="line"><span class="comment">// å¤§å°ä¸º 5ã€å€¼ä¸º [0, 0, 0, 0, 0] çš„æ•´å‹æ•°ç»„</span></span><br><span class="line"><span class="keyword">val</span> arr = IntArray(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ï¼šç”¨å¸¸é‡åˆå§‹åŒ–æ•°ç»„ä¸­çš„å€¼</span></span><br><span class="line"><span class="comment">// å¤§å°ä¸º 5ã€å€¼ä¸º [42, 42, 42, 42, 42] çš„æ•´å‹æ•°ç»„</span></span><br><span class="line"><span class="keyword">val</span> arr = IntArray(<span class="number">5</span>) &#123; <span class="number">42</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ï¼šä½¿ç”¨ lambda è¡¨è¾¾å¼åˆå§‹åŒ–æ•°ç»„ä¸­çš„å€¼</span></span><br><span class="line"><span class="comment">// å¤§å°ä¸º 5ã€å€¼ä¸º [0, 1, 2, 3, 4] çš„æ•´å‹æ•°ç»„ï¼ˆå€¼åˆå§‹åŒ–ä¸ºå…¶ç´¢å¼•å€¼ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> arr = IntArray(<span class="number">5</span>) &#123; it * <span class="number">1</span> &#125;</span><br></pre></td></tr></table></figure>
<h4 id="Kotlinæ•°ç»„çš„éå†"><a href="#Kotlinæ•°ç»„çš„éå†" class="headerlink" title="Kotlinæ•°ç»„çš„éå†"></a>Kotlinæ•°ç»„çš„éå†</h4><h5 id="æ•°ç»„éå†"><a href="#æ•°ç»„éå†" class="headerlink" title="æ•°ç»„éå†"></a>æ•°ç»„éå†</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (item <span class="keyword">in</span> array) &#123;</span><br><span class="line">    println(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="å¸¦ç´¢å¼•éå†æ•°ç»„"><a href="#å¸¦ç´¢å¼•éå†æ•°ç»„" class="headerlink" title="å¸¦ç´¢å¼•éå†æ•°ç»„"></a>å¸¦ç´¢å¼•éå†æ•°ç»„</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> array.indices) &#123;</span><br><span class="line">    println(i.toString() + <span class="string">&quot;-&gt;&quot;</span> + array[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="éå†å…ƒç´ ï¼ˆå¸¦ç´¢å¼•ï¼‰"><a href="#éå†å…ƒç´ ï¼ˆå¸¦ç´¢å¼•ï¼‰" class="headerlink" title="éå†å…ƒç´ ï¼ˆå¸¦ç´¢å¼•ï¼‰"></a>éå†å…ƒç´ ï¼ˆå¸¦ç´¢å¼•ï¼‰</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ((index, item) <span class="keyword">in</span> array.withIndex()) &#123;</span><br><span class="line">    println(<span class="string">&quot;<span class="variable">$index</span>-&gt;<span class="variable">$item</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="forEachéå†æ•°ç»„"><a href="#forEachéå†æ•°ç»„" class="headerlink" title="forEachéå†æ•°ç»„"></a>forEachéå†æ•°ç»„</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array.forEach &#123; println(it) &#125;</span><br></pre></td></tr></table></figure>
<h5 id="forEachå¢å¼ºç‰ˆ"><a href="#forEachå¢å¼ºç‰ˆ" class="headerlink" title="forEachå¢å¼ºç‰ˆ"></a>forEachå¢å¼ºç‰ˆ</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array.forEachIndexed &#123;</span><br><span class="line">	println(<span class="string">&quot;<span class="variable">$index</span>: <span class="variable">$item</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Kotliné›†åˆ"><a href="#Kotliné›†åˆ" class="headerlink" title="Kotliné›†åˆ"></a>Kotliné›†åˆ</h3><p>Kotlin æ ‡å‡†åº“æä¾›äº†ä¸€æ•´å¥—ç”¨äºç®¡ç†<em>é›†åˆ</em>çš„å·¥å…·ï¼Œé›†åˆæ˜¯å¯å˜æ•°é‡ï¼ˆå¯èƒ½ä¸ºé›¶ï¼‰çš„ä¸€ç»„æ¡ç›®ï¼Œå„ç§é›†åˆå¯¹äºè§£å†³é—®é¢˜éƒ½å…·æœ‰é‡è¦æ„ä¹‰ï¼Œå¹¶ä¸”ç»å¸¸ç”¨åˆ°ã€‚</p>
<ul>
<li><em>List</em> æ˜¯ä¸€ä¸ªæœ‰åºé›†åˆï¼Œå¯é€šè¿‡ç´¢å¼•ï¼ˆåæ˜ å…ƒç´ ä½ç½®çš„æ•´æ•°ï¼‰è®¿é—®å…ƒç´ ã€‚å…ƒç´ å¯ä»¥åœ¨ list ä¸­å‡ºç°å¤šæ¬¡ã€‚åˆ—è¡¨çš„ä¸€ä¸ªç¤ºä¾‹æ˜¯ä¸€å¥è¯ï¼šæœ‰ä¸€ç»„å­—ã€è¿™äº›å­—çš„é¡ºåºå¾ˆé‡è¦å¹¶ä¸”å­—å¯ä»¥é‡å¤ã€‚</li>
<li><em>Set</em> æ˜¯å”¯ä¸€å…ƒç´ çš„é›†åˆã€‚å®ƒåæ˜ äº†é›†åˆï¼ˆsetï¼‰çš„æ•°å­¦æŠ½è±¡ï¼šä¸€ç»„æ— é‡å¤çš„å¯¹è±¡ã€‚ä¸€èˆ¬æ¥è¯´ set ä¸­å…ƒç´ çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚ä¾‹å¦‚ï¼Œå­—æ¯è¡¨æ˜¯å­—æ¯çš„é›†åˆï¼ˆsetï¼‰ã€‚</li>
<li><em>Map</em>ï¼ˆæˆ–è€…<em>å­—å…¸</em>ï¼‰æ˜¯ä¸€ç»„é”®å€¼å¯¹ã€‚é”®æ˜¯å”¯ä¸€çš„ï¼Œæ¯ä¸ªé”®éƒ½åˆšå¥½æ˜ å°„åˆ°ä¸€ä¸ªå€¼ã€‚å€¼å¯ä»¥é‡å¤ã€‚map å¯¹äºå­˜å‚¨å¯¹è±¡ä¹‹é—´çš„é€»è¾‘è¿æ¥éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œå‘˜å·¥çš„ ID ä¸å‘˜å·¥çš„ä½ç½®ã€‚</li>
</ul>
<h4 id="é›†åˆçš„å¯å˜æ€§ä¸ä¸å¯å˜æ€§"><a href="#é›†åˆçš„å¯å˜æ€§ä¸ä¸å¯å˜æ€§" class="headerlink" title="é›†åˆçš„å¯å˜æ€§ä¸ä¸å¯å˜æ€§"></a>é›†åˆçš„å¯å˜æ€§ä¸ä¸å¯å˜æ€§</h4><p>Kotlinä¸­å­˜åœ¨ä¸¤ç§æ„ä¹‰ä¸Šçš„é›†åˆï¼Œä¸€ç§æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œä¸€ç§æ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ã€‚</p>
<h5 id="ä¸å¯å˜é›†åˆ"><a href="#ä¸å¯å˜é›†åˆ" class="headerlink" title="ä¸å¯å˜é›†åˆ"></a>ä¸å¯å˜é›†åˆ</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> stringList = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;one&quot;</span>)</span><br><span class="line">println(stringList)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> stringSet = setOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>)</span><br><span class="line">println(stringSet)</span><br></pre></td></tr></table></figure>
<h5 id="å¯å˜é›†åˆï¼ˆlist-å‰é¢åŠ mutableï¼‰"><a href="#å¯å˜é›†åˆï¼ˆlist-å‰é¢åŠ mutableï¼‰" class="headerlink" title="å¯å˜é›†åˆï¼ˆlist å‰é¢åŠ mutableï¼‰"></a>å¯å˜é›†åˆï¼ˆlist å‰é¢åŠ mutableï¼‰</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = mutableListOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">numbers.add(<span class="number">5</span>)</span><br><span class="line">numbers.removeAt(<span class="number">1</span>)</span><br><span class="line">numbers[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">println(numbers)</span><br></pre></td></tr></table></figure>
<p>ä¸éš¾å‘ç°ï¼Œæ¯ä¸ªä¸å¯å˜é›†åˆéƒ½æœ‰å¯¹åº”çš„å¯å˜é›†åˆï¼Œä¹Ÿå°±æ˜¯ä»¥mutableä¸ºå‰ç¼€çš„é›†åˆã€‚</p>
<h5 id="é›†åˆæ’åº"><a href="#é›†åˆæ’åº" class="headerlink" title="é›†åˆæ’åº"></a>é›†åˆæ’åº</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = mutableListOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment">//éšæœºæ’åˆ—å…ƒç´ </span></span><br><span class="line">numbers.shuffle()</span><br><span class="line">println(numbers)</span><br><span class="line">numbers.sort()<span class="comment">//æ’åºï¼Œä»å°æ‰“åˆ°</span></span><br><span class="line">numbers.sortDescending()<span class="comment">//ä»å¤§åˆ°å°</span></span><br><span class="line">println(numbers)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªPersonç±»ï¼Œæœ‰name å’Œ age ä¸¤å±æ€§</span></span><br><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">Language</span></span>(<span class="keyword">var</span> name: String, <span class="keyword">var</span> score: <span class="built_in">Int</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> languageList: MutableList&lt;Language&gt; = mutableListOf()</span><br><span class="line">languageList.add(Language(<span class="string">&quot;Java&quot;</span>, <span class="number">80</span>))</span><br><span class="line">languageList.add(Language(<span class="string">&quot;Kotlin&quot;</span>, <span class="number">90</span>))</span><br><span class="line">languageList.add(Language(<span class="string">&quot;Dart&quot;</span>, <span class="number">99</span>))</span><br><span class="line">languageList.add(Language(<span class="string">&quot;C&quot;</span>, <span class="number">80</span>))</span><br><span class="line"><span class="comment">//ä½¿ç”¨sortByè¿›è¡Œæ’åºï¼Œé€‚åˆå•æ¡ä»¶æ’åº</span></span><br><span class="line">languageList.sortBy &#123; it.score &#125;</span><br><span class="line">println(languageList)</span><br><span class="line"><span class="comment">//ä½¿ç”¨sortWithè¿›è¡Œæ’åºï¼Œé€‚åˆå¤šæ¡ä»¶æ’åº</span></span><br><span class="line">languageList.sortWith(compareBy(</span><br><span class="line">        <span class="comment">//itå˜é‡æ˜¯lambdaä¸­çš„éšå¼å‚æ•°</span></span><br><span class="line">        &#123; it.score &#125;, &#123; it.name &#125;)</span><br><span class="line">)</span><br><span class="line">println(languageList)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Setå’ŒMap"><a href="#Setå’ŒMap" class="headerlink" title="Setå’ŒMap"></a>Setå’ŒMap</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**set**/</span></span><br><span class="line"><span class="keyword">val</span> hello = mutableSetOf(<span class="string">&quot;H&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;l&quot;</span>, <span class="string">&quot;l&quot;</span>, <span class="string">&quot;o&quot;</span>)<span class="comment">//è‡ªåŠ¨è¿‡æ»¤é‡å¤å…ƒç´ </span></span><br><span class="line">hello.remove(<span class="string">&quot;o&quot;</span>)</span><br><span class="line"><span class="comment">//é›†åˆçš„åŠ å‡æ“ä½œï¼Œå‰é¢çš„é›†åˆå¿…é¡»æ˜¯å¯å˜é›†åˆ</span></span><br><span class="line">hello += setOf(<span class="string">&quot;w&quot;</span>, <span class="string">&quot;o&quot;</span>, <span class="string">&quot;r&quot;</span>, <span class="string">&quot;l&quot;</span>, <span class="string">&quot;d&quot;</span>)</span><br><span class="line">println(hello)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**Map&lt;K, V&gt; ä¸æ˜¯ Collection æ¥å£çš„ç»§æ‰¿è€…ï¼›ä½†æ˜¯å®ƒä¹Ÿæ˜¯ Kotlin çš„ä¸€ç§é›†åˆç±»å‹**/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> numbersMap = mapOf(<span class="string">&quot;key1&quot;</span> to <span class="number">1</span>, <span class="string">&quot;key2&quot;</span> to <span class="number">2</span>, <span class="string">&quot;key3&quot;</span> to <span class="number">3</span>, <span class="string">&quot;key4&quot;</span> to <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">println(<span class="string">&quot;All keys: <span class="subst">$&#123;numbersMap.keys&#125;</span>&quot;</span>)</span><br><span class="line">println(<span class="string">&quot;All values: <span class="subst">$&#123;numbersMap.values&#125;</span>&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;key2&quot;</span> <span class="keyword">in</span> numbersMap) println(<span class="string">&quot;Value by key \&quot;key2\&quot;: <span class="subst">$&#123;numbersMap[<span class="string">&quot;key2&quot;</span>]&#125;</span>&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="number">1</span> <span class="keyword">in</span> numbersMap.values) println(<span class="string">&quot;1 is in the map&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> (numbersMap.containsValue(<span class="number">1</span>)) println(<span class="string">&quot; 1 is in the map&quot;</span>)</span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Q1 : ä¸¤ä¸ªå…·æœ‰ç›¸åŒé”®å€¼å¯¹ï¼Œä½†é¡ºåºä¸åŒå¯¹Mapç›¸ç­‰ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</span></span><br><span class="line"><span class="comment">     * æ— è®ºé¡ºåºå¦‚ä½•ï¼ŒåŒ…å«ç›¸åŒé”®å€¼å¯¹å¯¹ä¸¤ä¸ªMapæ˜¯ç›¸ç­‰çš„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">val</span> anotherMap = mapOf(<span class="string">&quot;key2&quot;</span> to <span class="number">2</span> ,<span class="string">&quot;key1&quot;</span> to <span class="number">1</span>,<span class="string">&quot;key3&quot;</span> to <span class="number">3</span>,<span class="string">&quot;key4&quot;</span> to <span class="number">4</span>)</span><br><span class="line">    println(<span class="string">&quot;anotherMap == numberMap:<span class="subst">$&#123;anotherMap == numberMap&#125;</span>&quot;</span>)</span><br><span class="line">		<span class="comment">// == ä¼šè°ƒç”¨ Any çš„equalsæ–¹æ³•</span></span><br><span class="line">    anotherMap.equals(numberMap)</span><br></pre></td></tr></table></figure>
<h4 id="Q1-ä¸¤ä¸ªå…·æœ‰ç›¸åŒé”®å€¼å¯¹ï¼Œä½†é¡ºåºä¸åŒå¯¹Mapç›¸ç­‰ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ"><a href="#Q1-ä¸¤ä¸ªå…·æœ‰ç›¸åŒé”®å€¼å¯¹ï¼Œä½†é¡ºåºä¸åŒå¯¹Mapç›¸ç­‰ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ" class="headerlink" title="Q1: ä¸¤ä¸ªå…·æœ‰ç›¸åŒé”®å€¼å¯¹ï¼Œä½†é¡ºåºä¸åŒå¯¹Mapç›¸ç­‰ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ"></a>Q1: ä¸¤ä¸ªå…·æœ‰ç›¸åŒé”®å€¼å¯¹ï¼Œä½†é¡ºåºä¸åŒå¯¹Mapç›¸ç­‰ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h4><p><strong>A:</strong> æ— è®ºé¡ºåºå¦‚ä½•ï¼ŒåŒ…å«ç›¸åŒé”®å€¼å¯¹å¯¹ä¸¤ä¸ªMapæ˜¯ç›¸ç­‰çš„</p>
<p>Debug è¿›å…¥æºç ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> boolean equals(Object o) &#123;</span><br><span class="line">  		<span class="comment">// å¦‚æœå†…å­˜åœ°å€ä¸€è‡´ï¼Œè¿”å›true</span></span><br><span class="line">     <span class="keyword">if</span> (o == <span class="keyword">this</span>)</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="comment">//å¦‚æœæ¯”è¾ƒçš„å¯¹è±¡ä¸æ˜¯Map ï¼Œè¿”å› false</span></span><br><span class="line">     <span class="keyword">if</span> (!(o instanceof Map))</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     Map&lt;?,?&gt; m = (Map&lt;?,?&gt;) o;</span><br><span class="line">  		<span class="comment">// Mapçš„sizeä¸ç›¸ç­‰ï¼Œè¿”å›false</span></span><br><span class="line">     <span class="keyword">if</span> (m.size() != size())</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="comment">//éå†ä¸¤ä¸ªMapçš„Keyå’ŒValueï¼Œå¦‚æœæœ‰ä¸ç›¸ç­‰çš„ï¼Œåˆ™è¿”å›falseï¼Œå¦åˆ™å°†ä¼šè¿”å›true</span></span><br><span class="line">     <span class="keyword">try</span> &#123;</span><br><span class="line">         Iterator&lt;Entry&lt;K,V&gt;&gt; i = entrySet().iterator();</span><br><span class="line">         <span class="keyword">while</span> (i.hasNext()) &#123;</span><br><span class="line">             Entry&lt;K,V&gt; e = i.next();</span><br><span class="line">             K key = e.getKey();</span><br><span class="line">             V value = e.getValue();</span><br><span class="line">             <span class="keyword">if</span> (value == <span class="literal">null</span>) &#123;</span><br><span class="line">                 <span class="keyword">if</span> (!(m.<span class="keyword">get</span>(key)==<span class="literal">null</span> &amp;&amp; m.containsKey(key)))</span><br><span class="line">                     <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">             &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                 <span class="keyword">if</span> (!value.equals(m.<span class="keyword">get</span>(key)))</span><br><span class="line">                     <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125; <span class="keyword">catch</span> (ClassCastException unused) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125; <span class="keyword">catch</span> (NullPointerException unused) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h4 id="Q2-ä¸¤ä¸ªå…·æœ‰ç›¸åŒå…ƒç´ ï¼Œä½†é¡ºåºä¸åŒçš„listç›¸ç­‰å—ï¼Ÿ"><a href="#Q2-ä¸¤ä¸ªå…·æœ‰ç›¸åŒå…ƒç´ ï¼Œä½†é¡ºåºä¸åŒçš„listç›¸ç­‰å—ï¼Ÿ" class="headerlink" title="Q2: ä¸¤ä¸ªå…·æœ‰ç›¸åŒå…ƒç´ ï¼Œä½†é¡ºåºä¸åŒçš„listç›¸ç­‰å—ï¼Ÿ"></a>Q2: ä¸¤ä¸ªå…·æœ‰ç›¸åŒå…ƒç´ ï¼Œä½†é¡ºåºä¸åŒçš„listç›¸ç­‰å—ï¼Ÿ</h4><p>ä¸ç›¸ç­‰ï¼Œdebugè¿›å…¥æºç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line"><span class="comment">// å¦‚æœå†…å­˜åœ°å€ä¸€è‡´ï¼Œè¿”å›true</span></span><br><span class="line">    <span class="keyword">if</span> (o == <span class="keyword">this</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="comment">//å¦‚æœæ¯”è¾ƒçš„å¯¹è±¡ä¸æ˜¯Listï¼Œè¿”å› false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> List))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="comment">//åˆå§‹åŒ–è¿­ä»£å™¨</span></span><br><span class="line">    ListIterator&lt;E&gt; e1 = listIterator();</span><br><span class="line">    ListIterator&lt;?&gt; e2 = ((List&lt;?&gt;) o).listIterator();</span><br><span class="line">  </span><br><span class="line">   <span class="comment">// æ¯”æ˜‚é‡Œä¸¤ä¸ªlistï¼Œå¦‚æœä¸åŒè¿”å›false</span></span><br><span class="line">    <span class="keyword">while</span> (e1.hasNext() &amp;&amp; e2.hasNext()) &#123;</span><br><span class="line">        E o1 = e1.next();</span><br><span class="line">        Object o2 = e2.next();</span><br><span class="line">        <span class="keyword">if</span> (!(o1==<span class="keyword">null</span> ? o2==<span class="keyword">null</span> : o1.equals(o2)))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">//ä¸¤ä¸ªlistçš„è¿­ä»£å™¨hasNextéƒ½è¿”å›falseæ—¶å€™ï¼ˆå·²ç»éå†ç»“æŸï¼‰ï¼Œæ–¹æ³•è¿”å›trueï¼Œå¦åˆ™è¿”å›falseï¼ˆè¯´æ˜listé•¿åº¦ä¸åŒï¼‰</span></span><br><span class="line">    <span class="keyword">return</span> !(e1.hasNext() || e2.hasNext());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/30/%E6%8E%92%E5%BA%8F%EF%BC%88%E4%B8%8A%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/30/%E6%8E%92%E5%BA%8F%EF%BC%88%E4%B8%8A%EF%BC%89/" class="post-title-link" itemprop="url">æ’åºï¼ˆä¸Šï¼‰</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-30 16:52:10" itemprop="dateCreated datePublished" datetime="2021-03-30T16:52:10+08:00">2021-03-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-06-25 17:27:32" itemprop="dateModified" datetime="2021-06-25T17:27:32+08:00">2021-06-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">æ•°æ®ç»“æ„ä¸ç®—æ³•</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F/" itemprop="url" rel="index"><span itemprop="name">æ’åº</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Geekæ—¶é—´ï¼šæ’åºï¼ˆä¸Šï¼‰åŸåœ°æ’åº-ç¬”è®°"><a href="#Geekæ—¶é—´ï¼šæ’åºï¼ˆä¸Šï¼‰åŸåœ°æ’åº-ç¬”è®°" class="headerlink" title="Geekæ—¶é—´ï¼šæ’åºï¼ˆä¸Šï¼‰åŸåœ°æ’åº ç¬”è®°"></a>Geekæ—¶é—´ï¼šæ’åºï¼ˆä¸Šï¼‰åŸåœ°æ’åº ç¬”è®°</h1>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/03/30/%E6%8E%92%E5%BA%8F%EF%BC%88%E4%B8%8A%EF%BC%89/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/24/HashMap%E5%8E%9F%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åœ°çƒä¸Šçš„å°ä¸œè¥¿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/24/HashMap%E5%8E%9F%E7%90%86/" class="post-title-link" itemprop="url">HashMapåŸç†</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-24 18:52:34" itemprop="dateCreated datePublished" datetime="2021-03-24T18:52:34+08:00">2021-03-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-06-25 17:27:32" itemprop="dateModified" datetime="2021-06-25T17:27:32+08:00">2021-06-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/HashMap/" itemprop="url" rel="index"><span itemprop="name">HashMap</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <a id="more"></a>

<h2 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h2><h2 id="ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€å…¥é—¨"><a href="#ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€å…¥é—¨" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€å…¥é—¨"></a>ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€å…¥é—¨</h2><h3 id="1-æ•°ç»„çš„ä¼˜åŠ¿åŠ£åŠ¿"><a href="#1-æ•°ç»„çš„ä¼˜åŠ¿åŠ£åŠ¿" class="headerlink" title="1. æ•°ç»„çš„ä¼˜åŠ¿åŠ£åŠ¿"></a>1. æ•°ç»„çš„ä¼˜åŠ¿åŠ£åŠ¿</h3><img src="/2021/03/24/HashMap%E5%8E%9F%E7%90%86/image-20210325112849639.png" alt="image-20210325112849639" style="zoom:50%;">

<p>æ•°ç»„çš„å†…å­˜æ˜¯è¿ç»­çš„ï¼Œæ¯ä¸€å—ç©ºé—´æ˜¯ä¸€æ ·å¤§çš„ã€‚</p>
<p>ä¼˜åŠ¿ï¼šç´¢å¼•é€Ÿåº¦å¿«ï¼Œæ•°ç»„éƒ½æ˜¯æœ‰indexä¸‹æ ‡çš„ï¼Œåªè¦æ‹¿åˆ°æ•°ç»„çš„å¼•ç”¨ï¼Œå°±å¯ä»¥æ ¹æ®indexå¿«é€Ÿè®¿é—®åˆ°æŒ‡å®šçš„ä½ç½®ã€‚</p>
<p>åŠ£åŠ¿ï¼šå› ä¸ºJavaä¸­çš„å†…å­˜ç”³è¯·å®Œä¹‹åå¤§å°æ˜¯å›ºå®šçš„ï¼Œæƒ³æ’å…¥æ–°çš„æ•°æ®åªèƒ½ç”³è¯·ä¸€ä¸ªå—æ›´å¤§çš„å†…å­˜ç©ºé—´ï¼Œå°†æ—§æ•°ç»„çš„æ•°æ®å¯¼å…¥æ–°æ•°ç»„åå†æ’å…¥æ–°æ•°æ®ï¼Œä¸çµæ´»ä¸”æµªè´¹æ€§èƒ½</p>
<h3 id="2-é“¾è¡¨çš„ä¼˜åŠ¿åŠ£åŠ¿"><a href="#2-é“¾è¡¨çš„ä¼˜åŠ¿åŠ£åŠ¿" class="headerlink" title="2. é“¾è¡¨çš„ä¼˜åŠ¿åŠ£åŠ¿"></a>2. é“¾è¡¨çš„ä¼˜åŠ¿åŠ£åŠ¿</h3><img src="/2021/03/24/HashMap%E5%8E%9F%E7%90%86/image-20210325113508084.png" alt="image-20210325113508084" style="zoom:50%;">

<p>é“¾è¡¨åœ¨å†…å­˜ä¸­ä¸æ˜¯ä¸€æ®µè¿ç»­çš„ç©ºé—´ï¼Œæ¯ä¸€å—å†…å­˜éƒ½æœ‰ä¸€å—å°ç©ºé—´å»ä¿ç•™ä¸‹ä¸€å—å†…å­˜çš„åœ°å€ã€‚</p>
<p>ä¼˜åŠ¿ï¼šæ’å…¥é€Ÿåº¦å¿«ï¼Œåªè¦ä¿®æ”¹å†…å­˜å­˜å‚¨çš„æŒ‡å‘ä¸‹ä¸€ä¸ªå†…å­˜çš„å¼•ç”¨å°±è¡Œäº†ã€‚</p>
<p>åŠ£åŠ¿ï¼šç´¢å¼•é€Ÿåº¦æ…¢ï¼Œé“¾è¡¨ä¸å­˜åœ¨indexä¸‹æ ‡ï¼Œåªèƒ½ä»å¤´å…ƒç´ ï¼ˆHeadï¼‰å¼€å§‹ï¼ŒæŒ¨ä¸ªæŸ¥å­˜å‚¨çš„æŒ‡å‘ä¸‹ä¸€å—å†…å­˜åœ°å€çš„å¼•ç”¨ã€‚</p>
<h3 id="3-æ•´åˆä¸¤è€…æ•°æ®ç»“æ„çš„ä¼˜åŠ¿ï¼šæ•£åˆ—è¡¨"><a href="#3-æ•´åˆä¸¤è€…æ•°æ®ç»“æ„çš„ä¼˜åŠ¿ï¼šæ•£åˆ—è¡¨" class="headerlink" title="3.æ•´åˆä¸¤è€…æ•°æ®ç»“æ„çš„ä¼˜åŠ¿ï¼šæ•£åˆ—è¡¨"></a>3.æ•´åˆä¸¤è€…æ•°æ®ç»“æ„çš„ä¼˜åŠ¿ï¼šæ•£åˆ—è¡¨</h3><p><img src="/2021/03/24/HashMap%E5%8E%9F%E7%90%86/image-20210325114151322.png" alt="image-20210325114151322"></p>
<p>æ•°ç»„é‡Œä¿å­˜çš„æ•°æ®æ˜¯é“¾è¡¨ï¼Œè¿™å°±æ˜¯æ•£åˆ—è¡¨ã€‚</p>
<h3 id="4-æ•£åˆ—è¡¨çš„ç‰¹ç‚¹"><a href="#4-æ•£åˆ—è¡¨çš„ç‰¹ç‚¹" class="headerlink" title="4.æ•£åˆ—è¡¨çš„ç‰¹ç‚¹"></a>4.æ•£åˆ—è¡¨çš„ç‰¹ç‚¹</h3><p>æ•´åˆäº†ä¿©è€…çš„ä¼˜åŠ¿ï¼Œæ—¢å¯ä»¥åˆ©ç”¨æ•°ç»„çš„ä¼˜åŠ¿ï¼Œindexå¿«é€ŸæŸ¥æ‰¾ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨é“¾è¡¨çš„ä¼˜åŠ¿å¿«é€Ÿæ‰©å®¹ã€‚</p>
<h3 id="5-Hashæ˜¯ä»€ä¹ˆ"><a href="#5-Hashæ˜¯ä»€ä¹ˆ" class="headerlink" title="5. Hashæ˜¯ä»€ä¹ˆ"></a>5. Hashæ˜¯ä»€ä¹ˆ</h3><p>Hash ï¼Œä¹Ÿæˆæ•£åˆ—ï¼ŒHashè‹±æ–‡æœ¬æ„å³ä¸ºåˆ‡ç¢ã€‚</p>
<p>åŸºæœ¬åŸç†ï¼šæŠŠ<strong>ä»»æ„é•¿åº¦</strong>çš„è¾“å…¥é€šè¿‡Hashç®—æ³•å˜æˆ<strong>å›ºå®šé•¿åº¦</strong>çš„è¾“å‡ºã€‚</p>
<p>è¿™ä¸ª<strong>æ˜ å°„è§„åˆ™</strong>å°±æ˜¯å¯¹åº”çš„Hashç®—æ³•ï¼Œè€ŒåŸå§‹æ•°æ®<strong>æ˜ å°„åçš„äºŒè¿›åˆ¶ä¸²</strong>å°±æ˜¯Hashå€¼ã€‚</p>
<p>Hashçš„ç‰¹ç‚¹ï¼š</p>
<ol>
<li>ä»Hashå€¼ä¸å¯ä»¥<strong>åå‘æ¨å¯¼</strong>å‡ºåŸå§‹æ•°æ®ã€‚</li>
<li>è¾“å…¥æ•°æ®çš„<strong>å¾®å°å˜åŒ–</strong>ä¼šå¾—åˆ°å®Œå…¨ä¸åŒçš„hashå€¼ï¼Œç›¸åŒçš„æ•°æ®ä¼šå¾—åˆ°ç›¸åŒçš„å€¼ã€‚</li>
<li>Hashç®—æ³•çš„æ‰§è¡Œæ•ˆç‡è¦<strong>é«˜æ•ˆ</strong>ï¼Œé•¿çš„æ–‡æœ¬ä¹Ÿèƒ½å¿«é€Ÿ åœ°è®¡ç®—å‡ºHashå€¼ã€‚</li>
<li>Hashç®—æ³•çš„<strong>å†²çªæ¦‚ç‡è¦å°</strong>ã€‚</li>
</ol>
<p>ç”±äºHashçš„åŸç†æ˜¯å°†è¾“å…¥ç©ºé—´çš„å€¼æ˜ å°„æˆHashç©ºé—´å†…ï¼Œè€ŒHashå€¼çš„ç©ºé—´è¿œå°äºè¾“å…¥ç©ºé—´ã€‚</p>
<p>æ ¹æ®æŠ½å±‰åŸç†ï¼Œä¸€å®šä¼šå­˜åœ¨ä¸åŒçš„è¾“å…¥èƒŒæ˜ å°„æˆç›¸åŒè¾“å‡ºçš„æƒ…å†µã€‚</p>
<p>æŠ½å±‰åŸç†ï¼š<strong>åä¸ª</strong>è‹¹æœæ”¾è¿›ä¹ä¸ªæŠ½å±‰é‡Œï¼Œæ— è®ºæ€ä¹ˆæ”¾ï¼Œæ€»æœ‰ä¸€ä¸ªæŠ½å±‰<strong>ä¸å°‘äºä¸¤ä¸ª</strong>è‹¹æœã€‚</p>
<h2 id="ç¬¬äºŒéƒ¨åˆ†ï¼šHashMapåŸç†ç®€ä»‹"><a href="#ç¬¬äºŒéƒ¨åˆ†ï¼šHashMapåŸç†ç®€ä»‹" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ†ï¼šHashMapåŸç†ç®€ä»‹"></a>ç¬¬äºŒéƒ¨åˆ†ï¼šHashMapåŸç†ç®€ä»‹</h2><h3 id="1-HashMapçš„ç»§æ‰¿ä½“ç³»"><a href="#1-HashMapçš„ç»§æ‰¿ä½“ç³»" class="headerlink" title="1.HashMapçš„ç»§æ‰¿ä½“ç³»"></a>1.HashMapçš„ç»§æ‰¿ä½“ç³»</h3><p><img src="/2021/03/24/HashMap%E5%8E%9F%E7%90%86/image-20210325145444000.png" alt="image-20210325145444000"></p>
<h3 id="2-Nodeçš„æ•°æ®ç»“æ„åˆ†æ"><a href="#2-Nodeçš„æ•°æ®ç»“æ„åˆ†æ" class="headerlink" title="2. Nodeçš„æ•°æ®ç»“æ„åˆ†æ"></a>2. Nodeçš„æ•°æ®ç»“æ„åˆ†æ</h3><p>HashMapçš„é™æ€å†…éƒ¨ç±»ï¼Œå®ç°äº†Map.Entryæ¥å£</p>
<ul>
<li>hashï¼šå­˜å‚¨key çš„hashå€¼ï¼Œkeyè·å–hashå€¼åä¼šç»è¿‡ä¸€æ¬¡æ‰°åŠ¨å†èµ‹å€¼ç»™hashï¼Œå’Œç›´æ¥è°ƒç”¨HashCodeæ–¹æ³•å¾—åˆ°çš„ç»“æœä¸åŒã€‚</li>
<li>keyï¼Œvalueï¼šå°±æ˜¯æˆ‘ä»¬putè¿›æ¥çš„key-valueï¼Œæˆ‘ä»¬å­˜çš„key-valueæ ¼å¼çš„æ•°æ®éƒ½ä¼šå°è£…æˆ Nodeç»“æ„çš„å…ƒç´ å­˜å…¥æ•£åˆ—è¡¨ã€‚</li>
<li>nextï¼šHashä¼šç¢°æ’ï¼Œç¢°æ’åæ— æ³•å­˜å…¥æ•°ç»„ï¼ˆå› ä¸ºæ•°ç»„ä¸­ä¸èƒ½å­˜å…¥ä¸¤ä¸ªå…ƒç´ ï¼‰ï¼Œæ‰€ä»¥åªèƒ½å°†æ•°æ®é“¾èµ·æ¥å½¢æˆé“¾ è¡¨ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Basic hash bin node, used for most entries.  (See below for</span></span><br><span class="line"><span class="comment">   * TreeNode subclass, and in LinkedHashMap for its Entry subclass.)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">      <span class="keyword">final</span> <span class="keyword">int</span> hash;</span><br><span class="line">      <span class="keyword">final</span> K key;</span><br><span class="line">      V value;</span><br><span class="line">      Node&lt;K,V&gt; next;</span><br><span class="line"></span><br><span class="line">      Node(<span class="keyword">int</span> hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span><br><span class="line">          <span class="keyword">this</span>.hash = hash;</span><br><span class="line">          <span class="keyword">this</span>.key = key;</span><br><span class="line">          <span class="keyword">this</span>.value = value;</span><br><span class="line">          <span class="keyword">this</span>.next = next;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> K <span class="title">getKey</span><span class="params">()</span>        </span>&#123; <span class="keyword">return</span> key; &#125;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> V <span class="title">getValue</span><span class="params">()</span>      </span>&#123; <span class="keyword">return</span> value; &#125;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> key + <span class="string">&quot;=&quot;</span> + value; &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> Objects.hashCode(key) ^ Objects.hashCode(value);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> V <span class="title">setValue</span><span class="params">(V newValue)</span> </span>&#123;</span><br><span class="line">          V oldValue = value;</span><br><span class="line">          value = newValue;</span><br><span class="line">          <span class="keyword">return</span> oldValue;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">          <span class="keyword">if</span> (o == <span class="keyword">this</span>)</span><br><span class="line">              <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">          <span class="keyword">if</span> (o <span class="keyword">instanceof</span> Map.Entry) &#123;</span><br><span class="line">              Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o;</span><br><span class="line">              <span class="keyword">if</span> (Objects.equals(key, e.getKey()) &amp;&amp;</span><br><span class="line">                  Objects.equals(value, e.getValue()))</span><br><span class="line">                  <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>æ¥å£ Map.Entry key ï¼šset Valueï¼šset+get</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Entry</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns the key corresponding to this entry.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the key corresponding to this entry</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalStateException implementations may, but are not</span></span><br><span class="line"><span class="comment">     *         required to, throw this exception if the entry has been</span></span><br><span class="line"><span class="comment">     *         removed from the backing map.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">K <span class="title">getKey</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns the value corresponding to this entry.  If the mapping</span></span><br><span class="line"><span class="comment">     * has been removed from the backing map (by the iterator&#x27;s</span></span><br><span class="line"><span class="comment">     * &#123;<span class="doctag">@code</span> remove&#125; operation), the results of this call are undefined.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the value corresponding to this entry</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalStateException implementations may, but are not</span></span><br><span class="line"><span class="comment">     *         required to, throw this exception if the entry has been</span></span><br><span class="line"><span class="comment">     *         removed from the backing map.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">V <span class="title">getValue</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Replaces the value corresponding to this entry with the specified</span></span><br><span class="line"><span class="comment">     * value (optional operation).  (Writes through to the map.)  The</span></span><br><span class="line"><span class="comment">     * behavior of this call is undefined if the mapping has already been</span></span><br><span class="line"><span class="comment">     * removed from the map (by the iterator&#x27;s &#123;<span class="doctag">@code</span> remove&#125; operation).</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value new value to be stored in this entry</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> old value corresponding to the entry</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> UnsupportedOperationException if the &#123;<span class="doctag">@code</span> put&#125; operation</span></span><br><span class="line"><span class="comment">     *         is not supported by the backing map</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ClassCastException if the class of the specified value</span></span><br><span class="line"><span class="comment">     *         prevents it from being stored in the backing map</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException if the backing map does not permit</span></span><br><span class="line"><span class="comment">     *         null values, and the specified value is null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalArgumentException if some property of this value</span></span><br><span class="line"><span class="comment">     *         prevents it from being stored in the backing map</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalStateException implementations may, but are not</span></span><br><span class="line"><span class="comment">     *         required to, throw this exception if the entry has been</span></span><br><span class="line"><span class="comment">     *         removed from the backing map.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">V <span class="title">setValue</span><span class="params">(V value)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//... è¿˜æœ‰å…¶å®ƒæ–¹æ³•å…ˆä¸çœ‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="3-åº•å±‚æ•°æ®ç»“æ„ä»‹ç»"><a href="#3-åº•å±‚æ•°æ®ç»“æ„ä»‹ç»" class="headerlink" title="3. åº•å±‚æ•°æ®ç»“æ„ä»‹ç»"></a>3. åº•å±‚æ•°æ®ç»“æ„ä»‹ç»</h3><p>å®ƒçš„ç»“æ„å°±æ˜¯æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘</p>
<ul>
<li><p>æœ€å¤–å±‚æ˜¯ä¸€ä¸ªNodeæ•°ç»„ç»“æ„ï¼Œä¸æŒ‡å®šé•¿åº¦çš„è¯é»˜è®¤åˆå§‹åŒ–é•¿åº¦ä¸º16ã€‚</p>
</li>
<li><p>æ— å†²çªå‘ç”Ÿæ—¶é“¾è¡¨åªå­˜å‚¨ä¸€ä¸ªæ•°æ®ï¼Œå‘ç”Ÿå†²çªæ—¶æ•°ç»„çš„åŒä½ä¼šå½¢æˆä¸€ä¸ªé“¾è¡¨ã€‚</p>
</li>
<li><p>å½“é“¾è¡¨é•¿åº¦è¶…è¿‡8ï¼Œä¸”HashMapä¸­æ‰€æœ‰å…ƒç´ æ•°é‡è¶…è¿‡64æ—¶ï¼Œé“¾è¡¨ä¼šå‡çº§æˆçº¢ç™½æ ‘ã€‚ï¼ˆJdk1.8ä¹‹åæ‰ä¼šå°†é“¾è¡¨å‡çº§ä¸ºçº¢é»‘æ ‘ï¼‰</p>
</li>
</ul>
<img src="/2021/03/24/HashMap%E5%8E%9F%E7%90%86/image-20210325152127750.png" alt="image-20210325152127750" style="zoom:50%;">

<h3 id="4-putæ•°æ®åŸç†åˆ†æ-æµç¨‹"><a href="#4-putæ•°æ®åŸç†åˆ†æ-æµç¨‹" class="headerlink" title="4. putæ•°æ®åŸç†åˆ†æ (æµç¨‹)"></a>4. putæ•°æ®åŸç†åˆ†æ (æµç¨‹)</h3><p><img src="/2021/03/24/HashMap%E5%8E%9F%E7%90%86/image-20210325165314183.png" alt="image-20210325165314183"></p>
<ol>
<li><p>map.put(â€œkeyå€¼â€,â€valueå€¼â€)</p>
</li>
<li><p>keyå€¼å–å¾—Hashå€¼</p>
</li>
<li><p>Hashå€¼ç»è¿‡<strong>æ‰°åŠ¨</strong>å‡½æ•°ï¼Œä½¿æ­¤Hashå€¼æ›´æ•£åˆ—ã€‚</p>
</li>
<li><p>æ„é€ å‡ºNodeå¯¹è±¡ ï¼ˆHashï¼ŒKeyï¼ŒValueï¼ŒNextï¼‰</p>
</li>
<li><p>ä½¿ç”¨è·¯ç”±ç®—æ³•å¯»æ‰¾Nodeå­˜æ”¾åœ¨æ•°ç»„çš„ä½ç½®è·¯ç”±å…¬å¼ï¼š</p>
<p><code>æ•°ç»„é•¿åº¦ ä¸ä¸Š nodeçš„hashå€¼</code></p>
<p>tableï¼ˆæ•°ç»„ï¼‰çš„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡æ–¹æ•°æ¯”å¦‚ 2ï¼Œ16ï¼Œ32ï¼Œ64ï¼Œ</p>
<p>æ•°ç»„çš„é•¿åº¦è½¬æ¢æˆäºŒè¿›åˆ¶ ,æ¯”å¦‚:</p>
<p>16-1 =15 è½¬äºŒè¿›åˆ¶ =&gt; 1111</p>
<p>32-1 =31 è½¬äºŒè¿›åˆ¶ =&gt; 11111</p>
<p>(table.length - 1) &amp; node hash</p>
<p>(16-1) &amp;1122 =&gt; </p>
<p>B0000 0000 1111 &amp; B0100 00110 0010 =&gt; B0010 =&gt;2</p>
<p>æˆ‘ä»¬ä½¿ç”¨24ä½è¡¨ç¤ºæ³•ï¼Œä¹Ÿåªæœ‰åé—¨å››ä½æ˜¯1ï¼Œ</p>
<p>è¿›è¡Œ ä¸ &amp;æ“ä½œçš„æ—¶å€™å‰é¢8ä½éƒ½å˜æˆ0äº†ï¼Œåªæœ‰åå››ä½å’Œhashçš„ä¸ &amp;æ“ä½œç»“æœç”Ÿæ•ˆï¼Œè½¬æ¢æˆ10è¿›åˆ¶ä¸º2</p>
<p>æ‰€ä»¥å­˜å‚¨çš„ä½ç½®ä¸ºindex = 2 </p>
</li>
</ol>
<h3 id="5-ä»€ä¹ˆæ˜¯Hashç¢°æ’"><a href="#5-ä»€ä¹ˆæ˜¯Hashç¢°æ’" class="headerlink" title="5.ä»€ä¹ˆæ˜¯Hashç¢°æ’"></a>5.ä»€ä¹ˆæ˜¯Hashç¢°æ’</h3><p>ç¬¬ä¸€ç§ï¼Œæ ¹æ®å¯»å€è¿ç®—åç®—å‡ºçš„ç»“æœå’Œä¹‹å‰çš„ç»“æœç›¸åŒï¼Œå‘ç”Ÿç¢°æ’</p>
<p>æ¥ç€ä¸Šæ­¥çš„æ“ä½œ</p>
<p>å‡å¦‚hashtableï¼ˆæ•°ç»„ï¼‰çš„é•¿åº¦ä¸å˜ ï¼Œæ–°çš„Nodeè½¬æ¢æˆçš„hashå€¼åå››ä½è¿˜æ˜¯0010ï¼ˆå½“ç„¶Hashå€¼ä¹Ÿæœ‰å®Œå…¨ä¸€æ ·çš„å¯èƒ½ï¼‰</p>
<p><code>B0000 0000 1111</code> &amp; <code>Bå‰8ä½æ”¹å˜ï¼Œåå››ä½åˆšå·§è¿˜æ˜¯ 0010</code> </p>
<p>ç”±äºå‰8ä½æ˜¯0ï¼Œä¸çš„ç»“æœè¿˜æ˜¯0ï¼Œåªæœ‰åå››ä½å‚ä¸äº†è¿ç®—ï¼Œè¿™åå››ä½åˆšå¥½å’Œä¸Šä¸€æ­¥çš„ç»“æœä¸€æ ·ã€‚</p>
<p>ä¸çš„ç»“æœå°±ä»ç„¶æ˜¯ 0010 ,è½¬æˆ10è¿›åˆ¶è¿˜æ˜¯2ï¼Œä¸¤ä¸ªNodeå°±ä¼šåœ¨å¯»å€æ“ä½œä¸­å­˜å…¥åŒä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œè¿™å°±å‘ç”Ÿäº†Hashç¢°æ’ã€‚</p>
<p>ç¬¬äºŒç§ï¼š</p>
<p>æ ¹æ®æŠ½å±‰åŸç†ï¼ŒHashå€¼æœ‰å¯èƒ½æ˜¯ç›¸åŒçš„ã€‚</p>
<p>å¯»å€çš„ç»“æœç›¸åŒï¼Œæ­¤æ—¶å¦‚æœæ•°ç»„çš„å…ƒç´ ä¸­å·²ç»æœ‰æ•°æ®äº†ï¼Œå°±è¦æŠŠNodeä¸­nextæŒ‡å‘è¿™ä¸ªæ–°çš„å…ƒç´ ï¼Œå®ƒå°±å½¢æˆä¸€ä¸ªé“¾è¡¨äº†ã€‚</p>
<h3 id="6-ä»€ä¹ˆæ˜¯é“¾åŒ–"><a href="#6-ä»€ä¹ˆæ˜¯é“¾åŒ–" class="headerlink" title="6.ä»€ä¹ˆæ˜¯é“¾åŒ–"></a>6.ä»€ä¹ˆæ˜¯é“¾åŒ–</h3><p>Hash ç¢°æ’å¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œå‡å¦‚ä¸€ç›´å‘ç”ŸHashç¢°æ’ï¼Œ<strong>é“¾è¡¨çš„é•¿åº¦ä¼šå˜å¾—å¾ˆé•¿</strong>ï¼Œåœ¨é€šè¿‡key åšgetçš„æ“ä½œä¹‹åï¼Œç»è¿‡å¯»å€ä¼šæ‰¾åˆ°ç›¸åŒçš„Node å¤´ä½ï¼Œæ­¤æ—¶è¿™ä¸ªæ•°ç»„å·²ç»å­˜å‚¨äº†ä¸€ä¸ªå¾ˆé•¿çš„é“¾è¡¨äº†ï¼Œæƒ³è¦æ‰¾åˆ°æŒ‡å®šçš„Nodeæœ€åçš„æƒ…å†µå¯èƒ½è¦éå†æ•´ä¸ªé“¾è¡¨æ‰èƒ½æ‰¾åˆ°å’Œä½ æŒ‡å®šçš„Keyç›¸åŒçš„Node<strong>ï¼ŒæŸ¥è¯¢æ•ˆç‡å°±ä¼šå˜å¾—ä½ä¸‹</strong>ï¼ŒåŸæœ¬çš„O(1) æ•ˆç‡åœ¨é“¾è¡¨è¿‡é•¿çš„æƒ…å†µä¸‹å¯èƒ½ä¼šé€€åŒ–æˆO(n)</p>
<h3 id="7-ä¸ºä»€ä¹ˆå¼•å…¥çº¢é»‘æ ‘"><a href="#7-ä¸ºä»€ä¹ˆå¼•å…¥çº¢é»‘æ ‘" class="headerlink" title="7.ä¸ºä»€ä¹ˆå¼•å…¥çº¢é»‘æ ‘"></a>7.ä¸ºä»€ä¹ˆå¼•å…¥çº¢é»‘æ ‘</h3><p>å°±æ˜¯ä¸ºäº†è§£å†³é“¾åŒ–é“¾çš„å¾ˆé•¿ï¼Œæå‡ºçš„çº¢é»‘æ ‘ã€‚çº¢é»‘æ ‘æ˜¯ä¸€ä¸ªè‡ªå¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå¯ä»¥æé«˜æŸ¥æ‰¾æ•ˆç‡ã€‚</p>
<h3 id="8-HashMapæ‰©å®¹åŸç†"><a href="#8-HashMapæ‰©å®¹åŸç†" class="headerlink" title="8. HashMapæ‰©å®¹åŸç†"></a>8. HashMapæ‰©å®¹åŸç†</h3><p>è¿™æ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´çš„æ€æƒ³ï¼Œæ¯”å¦‚ä¸€ä¸ªé•¿åº¦ä¸º16çš„æ•°ç»„ï¼ŒæŸ¥è¯¢çš„æ€§èƒ½å¾ˆå·®é€€åŒ–åˆ°O(n)äº†ï¼Œæ‰©å¤§æ•°ç»„é•¿åº¦ä¸º32ï¼Œæ¡¶ä½æ›´å¤šï¼Œæ¯ä¸ªæ•°ç»„å†…å­˜å‚¨çš„é“¾è¡¨é•¿åº¦å°±ä¼šå‡åŠï¼ŒæŸ¥è¯¢é€Ÿåº¦ä¼šå¿«ä¸€å€ã€‚</p>
<h2 id="ç¬¬ä¸‰éƒ¨åˆ†ï¼š-æºç "><a href="#ç¬¬ä¸‰éƒ¨åˆ†ï¼š-æºç " class="headerlink" title="ç¬¬ä¸‰éƒ¨åˆ†ï¼š æºç "></a>ç¬¬ä¸‰éƒ¨åˆ†ï¼š æºç </h2><h3 id="1-HashMap-æ ¸å¿ƒå±æ€§åˆ†æ"><a href="#1-HashMap-æ ¸å¿ƒå±æ€§åˆ†æ" class="headerlink" title="1.HashMap æ ¸å¿ƒå±æ€§åˆ†æ"></a>1.HashMap æ ¸å¿ƒå±æ€§åˆ†æ</h3><p>HashMap é‡è¦å¸¸é‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// table é»˜è®¤é•¿åº¦    </span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_INITIAL_CAPACITY = <span class="number">1</span> &lt;&lt; <span class="number">4</span>; <span class="comment">// aka 16</span></span><br><span class="line"><span class="comment">// table æœ€å¤§é•¿åº¦</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAXIMUM_CAPACITY = <span class="number">1</span> &lt;&lt; <span class="number">30</span>;</span><br><span class="line"><span class="comment">// ç¼ºçœè´Ÿè½½å› å­å¤§å° ï¼ˆé»˜è®¤ï¼‰</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">float</span> DEFAULT_LOAD_FACTOR = <span class="number">0.75f</span>;</span><br><span class="line"><span class="comment">// æ ‘åŒ–é˜ˆå€¼ ï¼Œé“¾è¡¨å…ƒç´ è¶…è¿‡8 æœ‰å¯èƒ½æ ‘åŒ–</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> TREEIFY_THRESHOLD = <span class="number">8</span>;</span><br><span class="line"><span class="comment">// æ ‘é™çº§é˜ˆå€¼ </span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> UNTREEIFY_THRESHOLD = <span class="number">6</span>;</span><br><span class="line"><span class="comment">// æ ‘åŒ–çš„å¦ä¸€ä¸ªå‚æ•°ï¼Œå½“Hashè¡¨ä¸­æ‰€æœ‰å…ƒç´ ä¸ªæ•°è¶…è¿‡64æ—¶ï¼Œæ‰ä¼šå…è®¸æ ‘åŒ– capacityï¼šå®¹é‡</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MIN_TREEIFY_CAPACITY = <span class="number">64</span>;</span><br></pre></td></tr></table></figure>
<p>HashMap æ ¸å¿ƒå±æ€§</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Hash è¡¨</span></span><br><span class="line"><span class="comment">*	ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">transient</span> Node&lt;K,V&gt;[] table;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“å‰Hashè¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">transient</span> <span class="keyword">int</span> size;</span><br><span class="line"><span class="comment">// å½“å‰ Hashè¡¨ ç»“æ„ä¿®æ”¹æ¬¡æ•° ï¼ˆæ’å…¥å’Œä¿®æ”¹ï¼Œå¦‚æœKeyç›¸åŒå»æ›¿æ¢ä¸è®¡æ•°ï¼‰</span></span><br><span class="line"><span class="keyword">transient</span> <span class="keyword">int</span> modCount;</span><br></pre></td></tr></table></figure>
<h4 id="threshold-è‹±æ–‡å«ä¹‰ï¼šé—¨æ§›ï¼Œèµ·å§‹ï¼Œå¼€ç«¯"><a href="#threshold-è‹±æ–‡å«ä¹‰ï¼šé—¨æ§›ï¼Œèµ·å§‹ï¼Œå¼€ç«¯" class="headerlink" title="threshold è‹±æ–‡å«ä¹‰ï¼šé—¨æ§›ï¼Œèµ·å§‹ï¼Œå¼€ç«¯"></a>threshold è‹±æ–‡å«ä¹‰ï¼šé—¨æ§›ï¼Œèµ·å§‹ï¼Œå¼€ç«¯</h4><p>æ‰©å®¹é˜ˆå€¼ï¼Œå½“ä½ çš„Hashè¡¨ä¸­å…ƒç´ è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œè§¦å‘æ‰©å®¹ã€‚</p>
<h4 id="loadFactory"><a href="#loadFactory" class="headerlink" title="loadFactory"></a>loadFactory</h4><p>å³ä¸ºè´Ÿè½½å› å­ï¼Œä¸€èˆ¬ä½¿ç”¨é»˜è®¤çš„å¤§å°ï¼ˆ0.75ï¼‰ï¼Œç”¨å®ƒæ¥è®¡ç®—æ‰©å®¹çš„é˜ˆå€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ‰©å®¹é˜ˆå€¼ = Hashè¡¨çš„æ•°ç»„é•¿åº¦ï¼ˆå®¹é‡ï¼‰* è´Ÿè½½å› å­</span><br><span class="line">threshold = capacity * loadFactor</span><br></pre></td></tr></table></figure>
<h4 id="size"><a href="#size" class="headerlink" title="size"></a>size</h4><p>å½“å‰Hashè¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°</p>
<h4 id="modCount"><a href="#modCount" class="headerlink" title="modCount"></a>modCount</h4><p>å½“å‰ Hashè¡¨ ç»“æ„ä¿®æ”¹æ¬¡æ•° ï¼ˆæ’å…¥å’Œä¿®æ”¹ï¼Œå¦‚æœKeyç›¸åŒå»æ›¿æ¢ä¸è®¡æ•°ï¼‰</p>
<h3 id="2-æ„é€ æ–¹æ³•åˆ†æ"><a href="#2-æ„é€ æ–¹æ³•åˆ†æ" class="headerlink" title="2.  æ„é€ æ–¹æ³•åˆ†æ"></a>2.  æ„é€ æ–¹æ³•åˆ†æ</h3><h5 id="1-ä¸¤å‚æ•°ï¼š"><a href="#1-ä¸¤å‚æ•°ï¼š" class="headerlink" title="1. ä¸¤å‚æ•°ï¼š"></a>1. ä¸¤å‚æ•°ï¼š</h5><ul>
<li>å…¥å‚ï¼š <ul>
<li>HashTableèƒ½å­˜å‚¨çš„å…ƒç´ æœ€å¤§å€¼ initialCapacityï¼Œ</li>
<li>è´Ÿè½½å› å­çš„å€¼loadFactor</li>
</ul>
</li>
<li>æ–¹æ³•ä½“ï¼š<ul>
<li>æ ¡éªŒï¼š<ul>
<li>HashTableèƒ½å­˜å‚¨çš„å…ƒç´ æœ€å¤§å€¼initialCapacityï¼Œå¿…é¡»å¤§äº 0 ï¼Œæœ€å¤§å€¼ä¹Ÿå°±æ˜¯ MAX_CAPACITY,ä¸èƒ½è¶…è¿‡ï¼Œè¶…è¿‡ä¹…æœä¹‹ä¸ºMAX_CAPACITYï¼ˆ1&lt;&lt;30ï¼‰</li>
<li>è´Ÿè½½å› å­çš„å€¼ loadFactorå¿…é¡»å¤§äº0ï¼Œæˆ‘ä»¬ä¸€èˆ¬å°±ç”¨é»˜è®¤å€¼0.75</li>
</ul>
</li>
<li>èµ‹å€¼ï¼š<ul>
<li> ç»™è´Ÿè½½å› å­èµ‹å€¼loadFactor</li>
<li> ç»™æ‰©å®¹é˜ˆèµ‹å€¼ï¼Œæ‰©å®¹é˜ˆèµ‹å€¼é€šè¿‡tableSizeForæ–¹æ³•è®¡ç®—è€Œå‡ºï¼Œè¿”å›çš„å€¼å¤§äºç­‰äºå½“å‰capacityå€¼ï¼Œä¸”ä¸º2çš„å€æ•°</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//åšäº†ä¸€äº›æ ¡éªŒ</span></span><br><span class="line">      <span class="comment">//Capacity å¿…é¡»å¤§äº 0 æœ€å¤§å€¼ä¹Ÿå°±æ˜¯ MAX_CAPACITY,ä¸èƒ½è¶…è¿‡</span></span><br><span class="line">      <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Illegal initial capacity: &quot;</span> +</span><br><span class="line">                                             initialCapacity);</span><br><span class="line">      <span class="keyword">if</span> (initialCapacity &gt; MAXIMUM_CAPACITY)</span><br><span class="line">          initialCapacity = MAXIMUM_CAPACITY;</span><br><span class="line">      <span class="comment">//loadFactor å¿…é¡» &gt; 0</span></span><br><span class="line">      <span class="keyword">if</span> (loadFactor &lt;= <span class="number">0</span> || Float.isNaN(loadFactor))</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Illegal load factor: &quot;</span> +</span><br><span class="line">                                             loadFactor);</span><br><span class="line">      <span class="comment">//ç»™è´Ÿè½½å› å­èµ‹å€¼</span></span><br><span class="line">      <span class="keyword">this</span>.loadFactor = loadFactor;</span><br><span class="line">      <span class="comment">//æ‰©å®¹é˜ˆå€¼ =tableSizeForçš„è¿”å›å€¼</span></span><br><span class="line">		<span class="comment">//tableSizeFor  è¿”å›ä¸€ä¸ªå¤§äºç­‰äºå½“å‰å€¼capå€¼çš„ä¸€ä¸ªæ•°å­—ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°å­—ä¸€å®šæ˜¯2çš„æ¬¡æ–¹æ•°</span></span><br><span class="line">      <span class="keyword">this</span>.threshold = tableSizeFor(initialCapacity);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    cap = <span class="number">10</span></span><br><span class="line">    n = <span class="number">10</span> - <span class="number">1</span> =&gt; <span class="number">9</span></span><br><span class="line">    <span class="number">0b1001</span></span><br><span class="line">    <span class="number">0b1001</span> | <span class="number">0b0100</span> =&gt; <span class="number">0b1101</span></span><br><span class="line">    <span class="number">0b1101</span> | <span class="number">0b0011</span> =&gt; <span class="number">0b1111</span></span><br><span class="line">    <span class="number">0b1111</span> | <span class="number">0b0000</span> =&gt; <span class="number">0b1111</span></span><br><span class="line">    <span class="number">0b1111</span> =&gt; <span class="number">15</span> </span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">tableSizeFor</span><span class="params">(<span class="keyword">int</span> cap)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//æ­¤å¤„ä¸å‡1 ä¼šå¾—åˆ°ä¸€ä¸ªæ¯”ä½ æƒ³è¦çš„æ•°å­—å¤§ä¸€å€çš„æ•°å­—</span></span><br><span class="line">      <span class="keyword">int</span> n = cap - <span class="number">1</span>;</span><br><span class="line">      n |= n &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">      n |= n &gt;&gt;&gt; <span class="number">2</span>;</span><br><span class="line">      n |= n &gt;&gt;&gt; <span class="number">4</span>;</span><br><span class="line">      n |= n &gt;&gt;&gt; <span class="number">8</span>;</span><br><span class="line">      n |= n &gt;&gt;&gt; <span class="number">16</span>;</span><br><span class="line">      <span class="keyword">return</span> (n &lt; <span class="number">0</span>) ? <span class="number">1</span> : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h5 id="2-ä¸€å‚æ•°ï¼šå¥—å¨ƒäº†ä¸¤å‚æ•°æ–¹æ³•"><a href="#2-ä¸€å‚æ•°ï¼šå¥—å¨ƒäº†ä¸¤å‚æ•°æ–¹æ³•" class="headerlink" title="2. ä¸€å‚æ•°ï¼šå¥—å¨ƒäº†ä¸¤å‚æ•°æ–¹æ³•"></a>2. ä¸€å‚æ•°ï¼šå¥—å¨ƒäº†ä¸¤å‚æ•°æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(initialCapacity, DEFAULT_LOAD_FACTOR);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="3-æ— å‚æ•°ï¼šé»˜è®¤ï¼Œåªç»™è´Ÿè½½å› å­èµ‹å€¼é»˜è®¤å€¼"><a href="#3-æ— å‚æ•°ï¼šé»˜è®¤ï¼Œåªç»™è´Ÿè½½å› å­èµ‹å€¼é»˜è®¤å€¼" class="headerlink" title="3. æ— å‚æ•°ï¼šé»˜è®¤ï¼Œåªç»™è´Ÿè½½å› å­èµ‹å€¼é»˜è®¤å€¼"></a>3. æ— å‚æ•°ï¼šé»˜è®¤ï¼Œåªç»™è´Ÿè½½å› å­èµ‹å€¼é»˜è®¤å€¼</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.loadFactor = DEFAULT_LOAD_FACTOR; <span class="comment">// all other fields defaulted</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="4-ä¼ Mapä½œä¸ºå‚æ•°"><a href="#4-ä¼ Mapä½œä¸ºå‚æ•°" class="headerlink" title="4. ä¼ Mapä½œä¸ºå‚æ•°"></a>4. ä¼ Mapä½œä¸ºå‚æ•°</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(Map&lt;? extends K, ? extends V&gt; m)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.loadFactor = DEFAULT_LOAD_FACTOR;</span><br><span class="line">        putMapEntries(m, <span class="keyword">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-HashMap-put-æ–¹æ³•åˆ†æ-gt-putVal-æ–¹æ³•åˆ†æï¼ˆé‡ç‚¹ï¼‰"><a href="#3-HashMap-put-æ–¹æ³•åˆ†æ-gt-putVal-æ–¹æ³•åˆ†æï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="3.  HashMap put æ–¹æ³•åˆ†æ =&gt; putVal æ–¹æ³•åˆ†æï¼ˆé‡ç‚¹ï¼‰"></a>3.  HashMap put æ–¹æ³•åˆ†æ =&gt; putVal æ–¹æ³•åˆ†æï¼ˆé‡ç‚¹ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¶å®å†…éƒ¨è°ƒç”¨çš„æ˜¯ putValæ–¹æ³•,ä¹Ÿæ˜¯ä¸ªå¥—å¨ƒæ–¹æ³•</span></span><br><span class="line"><span class="comment">// æˆ‘ä»¬çŸ¥é“Nodeå­˜å‚¨çš„hash å€¼ï¼Œæ˜¯é€šè¿‡keyçš„hashå€¼ç»è¿‡æ‰°åŠ¨å‡½æ•°åäº§ç”Ÿçš„ï¼Œè¿™ä¸ªæ‰°åŠ¨å‡½æ•°å°±æ˜¯è°ƒç”¨putValæ—¶è°ƒç”¨çš„ hashï¼ˆkeyï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    			<span class="comment">//putVal ä¹‹å‰ï¼Œ keyä¼šå…ˆè°ƒç”¨æ‰°åŠ¨å‡½æ•° </span></span><br><span class="line">      		<span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ‰°åŠ¨å‡½æ•°ï¼š ä½œç”¨ï¼šè®©keyçš„Hashå€¼çš„ é«˜16ä½ä¹Ÿå‚ä¸è¿ç®—ï¼Œå¦åˆ™è‹¥HashTableçš„é•¿åº¦å¾ˆçŸ­ ï¼ˆ16ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">* æ ¹æ®è·¯ç”±ç®—æ³•</span></span><br><span class="line"><span class="comment">*ï¼ˆlength - 1ï¼‰&amp; hashï¼Œé«˜ä½çš„æ•°æ— æ³•å‚ä¸è¿ç®—ï¼ˆé«˜ä½éƒ½æ˜¯0ï¼Œæ€ä¹ˆä¸&amp; éƒ½æ˜¯0ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">* æ‰€ä»¥å¿…é¡»ç»è¿‡æ‰°åŠ¨è®©é«˜ä½å‚ä¸è¿›æ¥ï¼Œå¢åŠ æ•£åˆ—æ€§ã€‚</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* å¼‚æˆ–ï¼šç›¸åŒåˆ™è¿”0ï¼Œä¸åŒè¿”1</span></span><br><span class="line"><span class="comment">* hash = 0b 0010 0101 1010 1100 0011 1111 0010 1110</span></span><br><span class="line"><span class="comment">* 0b 0010 0101 1010 1100 0011 1111 0010 1110  :keyçš„Hashå€¼</span></span><br><span class="line"><span class="comment">* ^ å¼‚æˆ–</span></span><br><span class="line"><span class="comment">*	0b 0000 0000 0000 0000 0010 0101 1010 1100	ï¼škeyçš„Hash å³ç§»16ä½ï¼Œè®©é«˜ä½å‚ä¸è¿ç®—	</span></span><br><span class="line"><span class="comment">*	0b 0010 0101 1010 1100 0001 1010 1000 0010</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> h;</span><br><span class="line">      <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hashï¼Œkeyï¼Œvalueä¸å¿…è¯´</span></span><br><span class="line"><span class="comment">//onlyIfAbsent å¦‚æœè¿™ä¸ªkeyå·²ç»æœ‰å€¼äº†ï¼Œå°±ä¸è¦å†æ”¹å˜äº†ï¼Œæˆ‘ä»¬é€šå¸¸éƒ½ä¼ falseï¼Œæ²¡æœ‰keyå°±æ’å…¥ï¼Œæœ‰</span></span><br><span class="line"><span class="comment">//keyå°±ä¿®æ”¹value</span></span><br><span class="line">  <span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="function"><span class="params">                 <span class="keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// tab ï¼šå¼•ç”¨å½“å‰HashMapçš„æ•£åˆ—è¡¨</span></span><br><span class="line">   	<span class="comment">// pï¼š å½“å‰æ•£åˆ—è¡¨çš„å…ƒç´ </span></span><br><span class="line">    <span class="comment">// nï¼šè¡¨ç¤ºæ•£åˆ—è¡¨æ•°ç»„çš„é•¿åº¦</span></span><br><span class="line">    <span class="comment">// iï¼š è¡¨ç¤ºè·¯ç”±å¯»å€çš„ç»“æœ</span></span><br><span class="line">      Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, i;</span><br><span class="line">    	</span><br><span class="line">    	<span class="comment">// å»¶è¿Ÿåˆå§‹åŒ–é€»è¾‘ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨putValæ—¶ä¼šåˆå§‹åŒ–HashMapä¸­æœ€è€—å†…å­˜çš„æ•£åˆ—è¡¨</span></span><br><span class="line">      <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">          n = (tab = resize()).length;</span><br><span class="line">    </span><br><span class="line">    	<span class="comment">//1. æœ€ç®€å•çš„ä¸€ç§æƒ…å†µï¼Œå¯»å€æ‰¾åˆ°çš„æ¡¶ä½ï¼Œåˆšå¥½æ˜¯nullï¼Œè¿™æ—¶ç›´æ¥å°†å½“å‰k-v =&gt; node æ‰”è¿›å»å°±å¯ä»¥äº†</span></span><br><span class="line">      <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="keyword">null</span>)</span><br><span class="line">          tab[i] = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// eï¼š ä¸ä¸ºnullçš„è¯ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªè›‹æ¸…è¦æ’å…¥çš„key-valueä¸€è‡´çš„keyçš„å…ƒç´ ï¼Œï¼ˆä¸´æ—¶nodeï¼‰</span></span><br><span class="line">        <span class="comment">// kï¼š è¡¨ç¤ºä¸´æ—¶çš„ä¸€ä¸ªkey</span></span><br><span class="line">          Node&lt;K,V&gt; e; K k;</span><br><span class="line">        <span class="comment">//2.è¡¨ç¤ºè¯¥æ¡¶ä½ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ä½ å½“å‰æ’å…¥çš„nodeå…ƒç´ çš„keyä¸€è‡´ï¼Œè¡¨ç¤ºåç»­è¦è¿›è¡Œæ›¿æ¢æ“ä½œ</span></span><br><span class="line">          <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">              ((k = p.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">              e = p;</span><br><span class="line">			<span class="comment">// 3.è¡¨ç¤ºå½“å‰æ¡¶ä½å·²ç»æ ‘åŒ–äº†ï¼Œå¦‚æœæ ‘åŒ–è°ƒç”¨putTreeVal</span></span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)<span class="comment">// çº¢é»‘æ ‘</span></span><br><span class="line">              e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="keyword">this</span>, tab, hash, key, value);</span><br><span class="line">        <span class="comment">// 4.å½“å‰æ…ä½æ˜¯ä¸€ä¸ªé“¾è¡¨</span></span><br><span class="line">          <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 4.1 æ¡ä»¶æˆç«‹çš„è¯ï¼Œè¿­ä»£åˆ°æœ€åä¸€ä¸ªå…ƒç´ äº†ï¼Œä¹Ÿæ²¡æ‰¾åˆ°ä¸€ä¸ªä¸ä½ è¦æ’å…¥çš„keyä¸€è‡´çš„nodeï¼Œè¯´æ˜éœ€è¦åŠ å…¥åˆ°å½“å‰é“¾è¡¨çš„æœ«å°¾ï¼ˆå°¾æ’æ³•ï¼‰</span></span><br><span class="line">              <span class="keyword">for</span> (<span class="keyword">int</span> binCount = <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                  <span class="keyword">if</span> ((e = p.next) == <span class="keyword">null</span>) &#123;</span><br><span class="line">                      p.next = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">                    	<span class="comment">//æ¡ä»¶æˆç«‹çš„è¯ï¼Œè¯´æ˜å½“å‰é“¾è¡¨çš„é•¿åº¦è¾¾åˆ°æ ‘åŒ–æ ‡å‡†äº†ï¼Œéœ€è¦è¿›è¡Œæ ‘åŒ–</span></span><br><span class="line">                      <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                        	<span class="comment">// æ ‘åŒ–æ“ä½œ</span></span><br><span class="line">                          treeifyBin(tab, hash);</span><br><span class="line">                      <span class="keyword">break</span>;</span><br><span class="line">                  &#125;</span><br><span class="line">                </span><br><span class="line">                  <span class="comment">//4.2æ¡ä»¶æˆç«‹çš„è¯ï¼Œè¯´æ˜æ‰¾åˆ°äº†ç›¸åŒkeyçš„nodeå…ƒç´ ï¼Œéœ€è¦è¿›è¡Œæ›¿æ¢æ“ä½œ</span></span><br><span class="line">                  <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                      ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                      <span class="keyword">break</span>;</span><br><span class="line">                	<span class="comment">//è·³å‡ºå¾ªç¯åæ›¿æ¢</span></span><br><span class="line">                  p = e;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="comment">//e ä¸ç­‰äºnullï¼Œæ¡ä»¶æˆç«‹è¯´æ˜ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªä¸ä½ æ’å…¥å…ƒç´ keyå®Œå…¨ä¸€è‡´çš„æ•°æ®ï¼Œéœ€è¦è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">          <span class="keyword">if</span> (e != <span class="keyword">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">              V oldValue = e.value;</span><br><span class="line">              <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="keyword">null</span>)</span><br><span class="line">                  e.value = value;</span><br><span class="line">              afterNodeAccess(e);</span><br><span class="line">              <span class="keyword">return</span> oldValue;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    	<span class="comment">// æ•£åˆ—è¡¨ç»“æ„èƒŒä¿®æ”¹çš„æ¬¡æ•°ï¼ˆæ›¿æ¢Nodeå…ƒç´ çš„valueä¸è®¡æ•°ï¼‰</span></span><br><span class="line">      ++modCount;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æ’å…¥æ–°å…ƒç´ sizeè‡ªå¢ï¼Œå¦‚æœè‡ªå¢åçš„å€¼å¤§äºæ‰©å®¹é˜ˆå€¼ï¼Œåˆ™è§¦å‘æ‰©å®¹ã€‚</span></span><br><span class="line">      <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">          resize();</span><br><span class="line">      afterNodeInsertion(evict);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="4-HashMap-resize-æ‰©å®¹æ–¹æ³•åˆ†æï¼ˆæ ¸å¿ƒï¼‰"><a href="#4-HashMap-resize-æ‰©å®¹æ–¹æ³•åˆ†æï¼ˆæ ¸å¿ƒï¼‰" class="headerlink" title="4. HashMap resize æ‰©å®¹æ–¹æ³•åˆ†æï¼ˆæ ¸å¿ƒï¼‰"></a>4. HashMap resize æ‰©å®¹æ–¹æ³•åˆ†æï¼ˆæ ¸å¿ƒï¼‰</h3><p>å½“åœ¨tableé•¿åº¦ä½16ä¸­çš„å…ƒç´ ç§»åˆ°tableé•¿åº¦ä½32çš„tableä¸­çš„æ—¶å€™ï¼›æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼ŒåŸæ¥åœ¨15è¿™ä¸ªæ§½ä½çš„å…ƒç´ çš„hash()å€¼çš„åå››ä½ä¸€å®šæ˜¯1111ï¼ˆå› ä¸ºè·Ÿ1111å³tableé•¿åº¦-1 è¿›è¡Œä¸è¿ç®—å¾—åˆ°äº†1111ï¼‰ã€‚æ‰€ä»¥æ‰€ä»¥å½“tableé•¿åº¦å˜ä¸º32çš„æ—¶å€™ï¼ŒåŸæ¥åœ¨15è¿™ä¸ªæ§½ä½çš„å…ƒç´ è¦ä¹ˆè¿˜åœ¨15è¿™ä¸ªæ§½ä½ï¼Œè¦ä¹ˆåœ¨31è¿™ä¸ªæ“ä½œï¼ˆå› ä¸ºåŸæ¥15è¿™ä¸ªæ§½ä½çš„å…ƒç´ åäº”ä½ä¸€å®šæ˜¯11111æˆ–è€…01111ï¼Œè·Ÿ 11111å³tableæ–°é•¿åº¦-1 è¿›è¡Œä¸è¿ç®—ä¸€å®šå¾—åˆ° 01111æˆ–è€…11111ï¼‰</p>
<img src="/2021/03/24/HashMap%E5%8E%9F%E7%90%86/image-20210330113906260.png" alt="image-20210330113906260" style="zoom:50%;">

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯¹tableè¿›è¡Œåˆå§‹åŒ–æˆ–è€…æ‰©å®¹ã€‚</span></span><br><span class="line"><span class="comment"> * å¦‚æœtableä¸ºnullï¼Œåˆ™å¯¹tableè¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line"><span class="comment"> * å¦‚æœå¯¹tableæ‰©å®¹ï¼Œå› ä¸ºæ¯æ¬¡æ‰©å®¹éƒ½æ˜¯ç¿»å€ï¼Œä¸åŸæ¥è®¡ç®—ï¼ˆn-1ï¼‰&amp;hashçš„ç»“æœç›¸æ¯”ï¼ŒèŠ‚ç‚¹è¦ä¹ˆå°±åœ¨åŸæ¥çš„ä½ç½®ï¼Œè¦ä¹ˆå°±è¢«åˆ†é…åˆ°â€œåŸä½ç½®+æ—§å®¹é‡â€è¿™ä¸ªä½ç½®ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="keyword">final</span> Node&lt;K,V&gt;[] resize() &#123;</span><br><span class="line">        Node&lt;K,V&gt;[] oldTab = table;</span><br><span class="line">        <span class="comment">// oldCapè¡¨ç¤ºæ‰©å®¹ä¹‹å‰tableæ•°ç»„çš„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">int</span> oldCap = (oldTab == <span class="keyword">null</span>) ? <span class="number">0</span> : oldTab.length;</span><br><span class="line">        <span class="comment">// oldThrè¡¨ç¤ºæœ¬æ¬¡æ‰©å®¹ä¹‹å‰çš„é˜ˆå€¼ï¼Œè§¦å‘æœ¬æ¬¡æ‰©å®¹æ“ä½œçš„é˜ˆå€¼</span></span><br><span class="line">        <span class="keyword">int</span> oldThr = threshold;</span><br><span class="line">        <span class="comment">// newCapï¼šè¡¨ç¤ºæ‰©å®¹ä¹‹åtableæ•°ç»„çš„å¤§å°ï¼› newThrè¡¨ç¤ºæ‰©å®¹ä¹‹åï¼Œä¸‹æ¬¡è§¦å‘æ‰©å®¹çš„é˜ˆå€¼</span></span><br><span class="line">        <span class="keyword">int</span> newCap, newThr = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//===================ç»™newCapå’ŒnewThrèµ‹å€¼start=============================</span></span><br><span class="line">        <span class="comment">// oldCapå¤§äºé›¶ï¼Œè¯´æ˜ä¹‹å‰å·²ç»åˆå§‹åŒ–è¿‡äº†ï¼ˆhashmapä¸­çš„æ•£åˆ—è¡¨ä¸æ˜¯nullï¼‰ï¼Œè¦è¿›è¡Œæ­£å¸¸çš„æ‰©å®¹æ“ä½œ</span></span><br><span class="line">        <span class="keyword">if</span> (oldCap &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// å·²ç»æœ€å¤§å€¼äº†ï¼Œä¸å†æ‰©å®¹äº†</span></span><br><span class="line">            <span class="keyword">if</span> (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</span><br><span class="line">                threshold = Integer.MAX_VALUE;</span><br><span class="line">                <span class="keyword">return</span> oldTab;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ï¼ˆ1ï¼‰è¿›è¡Œç¿»å€æ‰©å®¹(å‡å¦‚æ—§çš„oldCapä¸º8ï¼Œ &lt; DEFAULT_INITIAL_CAPACITYï¼Œé‚£ä¹ˆæ­¤æ¡ä»¶ä¸æˆç«‹newThrå°†ä¸ä¼šèµ‹å€¼)</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> ((newCap = oldCap &lt;&lt; <span class="number">1</span>) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class="line">                    oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class="line">                newThr = oldThr &lt;&lt; <span class="number">1</span>; <span class="comment">// double threshold</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ï¼ˆ2ï¼‰</span></span><br><span class="line">        <span class="comment">// oldCap == 0ï¼ˆè¯´æ˜hashmapä¸­çš„æ•£åˆ—è¡¨æ˜¯nullï¼‰ä¸”oldThr &gt; 0 ï¼›ä¸‹é¢å‡ ç§æƒ…å†µéƒ½ä¼šå‡ºç°oldCap == 0,oldThr &gt; 0</span></span><br><span class="line">        <span class="comment">// 1.public HashMap(int initialCapacity);</span></span><br><span class="line">        <span class="comment">// 2.public HashMap(Map&lt;? extends K, ? extends V&gt; m);å¹¶ä¸”è¿™ä¸ªmapæœ‰æ•°æ®</span></span><br><span class="line">        <span class="comment">// 3.public HashMap(int initialCapacity, float loadFactor);</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (oldThr &gt; <span class="number">0</span>) <span class="comment">// initial capacity was placed in threshold</span></span><br><span class="line">            newCap = oldThr;</span><br><span class="line">        <span class="comment">// oldCap == 0, oldThr == 0</span></span><br><span class="line">        <span class="comment">// public HashMap();</span></span><br><span class="line">        <span class="keyword">else</span> &#123;               <span class="comment">// zero initial threshold signifies using defaults</span></span><br><span class="line">            newCap = DEFAULT_INITIAL_CAPACITY;</span><br><span class="line">            newThr = (<span class="keyword">int</span>)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹åº”ä¸Šé¢ï¼ˆ1ï¼‰ä¸æˆç«‹æˆ–è€…ï¼ˆ2ï¼‰æˆç«‹çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (newThr == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">float</span> ft = (<span class="keyword">float</span>)newCap * loadFactor;</span><br><span class="line">            newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (<span class="keyword">float</span>)MAXIMUM_CAPACITY ?</span><br><span class="line">                    (<span class="keyword">int</span>)ft : Integer.MAX_VALUE);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//===================ç»™newCapå’ŒnewThrèµ‹å€¼end=============================</span></span><br><span class="line">        threshold = newThr;</span><br><span class="line">        <span class="meta">@SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)</span></span><br><span class="line">        Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])<span class="keyword">new</span> Node[newCap];</span><br><span class="line">        table = newTab;</span><br><span class="line">        <span class="keyword">if</span> (oldTab != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; oldCap; ++j) &#123;</span><br><span class="line">                Node&lt;K,V&gt; e;</span><br><span class="line">                <span class="comment">// å¤´ç»“ç‚¹ä¸ä¸ºç©º</span></span><br><span class="line">                <span class="keyword">if</span> ((e = oldTab[j]) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="comment">// å°†å¯¹åº”çš„æ¡¶ä½æŒ‡å‘nullï¼Œæ–¹ä¾¿jvmå›æ”¶</span></span><br><span class="line">                    oldTab[j] = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// 1.å¦‚æœåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">                    <span class="keyword">if</span> (e.next == <span class="keyword">null</span>)</span><br><span class="line">                        newTab[e.hash &amp; (newCap - <span class="number">1</span>)] = e;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// 2.æ ‘åŒ–äº†</span></span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (e <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                        ((TreeNode&lt;K,V&gt;)e).split(<span class="keyword">this</span>, newTab, j, oldCap);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// 3.è¿˜æ˜¯é“¾è¡¨</span></span><br><span class="line">                    <span class="keyword">else</span> &#123; <span class="comment">// preserve order</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                        <span class="comment">// ä½ä½é“¾è¡¨ï¼šå­˜æ”¾åœ¨æ‰©å®¹ä¹‹åçš„æ•°ç»„ä¸‹æ ‡çš„ä½ç½®ï¼Œä¸å½“å‰æ•°ç»„ä¸‹æ ‡ä½ç½®ä¸€è‡´çš„å…ƒç´ </span></span><br><span class="line">                        <span class="comment">// é«˜ä½é“¾è¡¨ï¼šå­˜æ”¾åœ¨æ‰©å®¹ä¹‹åçš„æ•°ç»„ä¸‹æ ‡çš„ä½ç½®ä¸ºå½“å‰æ•°ç»„ä¸‹æ ‡ä½ç½®+ æ‰©å®¹ä¹‹å‰æ•°ç»„é•¿åº¦çš„å…ƒç´ </span></span><br><span class="line">                        Node&lt;K,V&gt; loHead = <span class="keyword">null</span>, loTail = <span class="keyword">null</span>;</span><br><span class="line">                        Node&lt;K,V&gt; hiHead = <span class="keyword">null</span>, hiTail = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                        Node&lt;K,V&gt; next;</span><br><span class="line">                        <span class="keyword">do</span> &#123;</span><br><span class="line">                            next = e.next;</span><br><span class="line"></span><br><span class="line">                            <span class="comment">// æ¯”å¦‚e.hashåªèƒ½ä¸ºä¸¤ç§å¯èƒ½  1 1111 æˆ–è€… 0 1111 ï¼Œ oldCap ä¸º 10000</span></span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> ((e.hash &amp; oldCap) == <span class="number">0</span>) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (loTail == <span class="keyword">null</span>)</span><br><span class="line">                                    loHead = e;</span><br><span class="line">                                <span class="keyword">else</span></span><br><span class="line">                                    loTail.next = e;</span><br><span class="line">                                loTail = e;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (hiTail == <span class="keyword">null</span>)</span><br><span class="line">                                    hiHead = e;</span><br><span class="line">                                <span class="keyword">else</span></span><br><span class="line">                                    hiTail.next = e;</span><br><span class="line">                                hiTail = e;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125; <span class="keyword">while</span> ((e = next) != <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// å¦‚æœä½ä½é“¾è¡¨æœ‰æ•°æ®</span></span><br><span class="line">                        <span class="keyword">if</span> (loTail != <span class="keyword">null</span>) &#123;</span><br><span class="line">                            loTail.next = <span class="keyword">null</span>;</span><br><span class="line">                            newTab[j] = loHead;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">// å¦‚æœé«˜ä½é“¾è¡¨æœ‰æ•°æ®</span></span><br><span class="line">                        <span class="keyword">if</span> (hiTail != <span class="keyword">null</span>) &#123;</span><br><span class="line">                            hiTail.next = <span class="keyword">null</span>;</span><br><span class="line">                            newTab[j + oldCap] = hiHead;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newTab;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-HashMap-get-æ–¹æ³•åˆ†æ"><a href="#5-HashMap-get-æ–¹æ³•åˆ†æ" class="headerlink" title="5. HashMap get æ–¹æ³•åˆ†æ"></a>5. HashMap get æ–¹æ³•åˆ†æ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt; e;</span><br><span class="line">        <span class="keyword">return</span> (e = getNode(hash(key), key)) == <span class="keyword">null</span> ? <span class="keyword">null</span> : e.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">final</span> Node&lt;K,V&gt; <span class="title">getNode</span><span class="params">(<span class="keyword">int</span> hash, Object key)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// tabï¼šå¼•ç”¨å½“å‰hashmapçš„table</span></span><br><span class="line">        <span class="comment">// firstï¼šæ¡¶ä½ä¸­çš„å¤´å…ƒç´ </span></span><br><span class="line">        <span class="comment">// nï¼štableçš„é•¿åº¦</span></span><br><span class="line">        <span class="comment">// eï¼šæ˜¯ä¸´æ—¶Nodeå…ƒç´ </span></span><br><span class="line">        <span class="comment">// kï¼šæ˜¯keyçš„ä¸´æ—¶å˜é‡</span></span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; <span class="keyword">int</span> n; K k;</span><br><span class="line">       </span><br><span class="line">       <span class="comment">// 1.å¦‚æœå“ˆå¸Œè¡¨ä¸ºç©ºï¼Œæˆ–keyå¯¹åº”çš„æ¡¶ä¸ºç©ºï¼Œè¿”å›null</span></span><br><span class="line">        <span class="keyword">if</span> ((tab = table) != <span class="keyword">null</span> &amp;&amp; (n = tab.length) &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">                (first = tab[(n - <span class="number">1</span>) &amp; hash]) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 2.è¿™ä¸ªæ¡¶çš„å¤´å…ƒç´ å°±æ˜¯æƒ³è¦æ‰¾çš„</span></span><br><span class="line">            <span class="keyword">if</span> (first.hash == hash &amp;&amp; <span class="comment">// always check first node</span></span><br><span class="line">                    ((k = first.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                <span class="keyword">return</span> first;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// è¯´æ˜å½“å‰æ¡¶ä½ä¸æ­¢ä¸€ä¸ªå…ƒç´ ï¼Œå¯èƒ½æ˜¯é“¾è¡¨ï¼Œä¹Ÿå¯èƒ½æ˜¯çº¢é»‘æ ‘</span></span><br><span class="line">            <span class="keyword">if</span> ((e = first.next) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="comment">// 3.æ ‘åŒ–äº†</span></span><br><span class="line">                <span class="keyword">if</span> (first <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                    <span class="keyword">return</span> ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// 4.é“¾è¡¨</span></span><br><span class="line">                <span class="keyword">do</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                            ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                        <span class="keyword">return</span> e;</span><br><span class="line">                &#125; <span class="keyword">while</span> ((e = e.next) != <span class="keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-HashMap-remove-æ–¹æ³•åˆ†æ"><a href="#6-HashMap-remove-æ–¹æ³•åˆ†æ" class="headerlink" title="6. HashMap remove æ–¹æ³•åˆ†æ"></a>6. HashMap remove æ–¹æ³•åˆ†æ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">remove</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt; e;</span><br><span class="line">    <span class="keyword">return</span> (e = removeNode(hash(key), key, <span class="keyword">null</span>, <span class="keyword">false</span>, <span class="keyword">true</span>)) == <span class="keyword">null</span> ?</span><br><span class="line">            <span class="keyword">null</span> : e.value;</span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">final</span> Node&lt;K,V&gt; <span class="title">removeNode</span><span class="params">(<span class="keyword">int</span> hash, Object key, Object value,</span></span></span><br><span class="line"><span class="function"><span class="params">                           <span class="keyword">boolean</span> matchValue, <span class="keyword">boolean</span> movable)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// tabï¼šå¼•ç”¨å½“å‰hashmapçš„table</span></span><br><span class="line">    <span class="comment">// pï¼šå½“å‰çš„nodeå…ƒç´ </span></span><br><span class="line">    <span class="comment">// nï¼šå½“å‰çš„æ•£åˆ—è¡¨æ•°ç»„é•¿åº¦</span></span><br><span class="line">    <span class="comment">// indexï¼šè¡¨ç¤ºå¯»å€ç»“æœ</span></span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, index;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1.å¦‚æœæ•°ç»„tableä¸ºç©ºæˆ–keyæ˜ å°„åˆ°çš„æ¡¶ä¸ºç©ºï¼Œè¿”å›nullã€‚</span></span><br><span class="line">    <span class="keyword">if</span> ((tab = table) != <span class="keyword">null</span> &amp;&amp; (n = tab.length) &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">            (p = tab[index = (n - <span class="number">1</span>) &amp; hash]) != <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// nodeï¼šæŸ¥æ‰¾åˆ°çš„ç»“æœ</span></span><br><span class="line">        <span class="comment">// eï¼šå½“å‰Nodeçš„ä¸‹ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">        Node&lt;K,V&gt; node = <span class="keyword">null</span>, e; K k; V v;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.æ¡¶ä½çš„å¤´å…ƒç´ å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„</span></span><br><span class="line">        <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            node = p;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((e = p.next) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// 3.æ ‘åŒ–äº†</span></span><br><span class="line">            <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                node = ((TreeNode&lt;K,V&gt;)p).getTreeNode(hash, key);</span><br><span class="line">            <span class="comment">// 4.é“¾è¡¨ä¸­</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">do</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                            ((k = e.key) == key ||</span><br><span class="line">                                    (key != <span class="keyword">null</span> &amp;&amp; key.equals(k)))) &#123;</span><br><span class="line">                        node = e;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    p = e;</span><br><span class="line">                &#125; <span class="keyword">while</span> ((e = e.next) != <span class="keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœnodeä¸ä¸ºnullï¼Œè¯´æ˜æŒ‰ç…§keyæŸ¥æ‰¾åˆ°æƒ³è¦åˆ é™¤çš„æ•°æ®äº†</span></span><br><span class="line">        <span class="keyword">if</span> (node != <span class="keyword">null</span> &amp;&amp; (!matchValue || (v = node.value) == value ||</span><br><span class="line">                (value != <span class="keyword">null</span> &amp;&amp; value.equals(v)))) &#123;</span><br><span class="line">            <span class="comment">// æ˜¯æ ‘ï¼Œåˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (node <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                ((TreeNode&lt;K,V&gt;)node).removeTreeNode(<span class="keyword">this</span>, tab, movable);</span><br><span class="line">            <span class="comment">// åˆ é™¤çš„æ¡¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (node == p)</span><br><span class="line">                tab[index] = node.next;</span><br><span class="line">            <span class="comment">// ä¸æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                p.next = node.next;</span><br><span class="line">            ++modCount;</span><br><span class="line">            --size;</span><br><span class="line">            afterNodeRemoval(node);</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="7-HashMap-replaceæ–¹æ³•åˆ†æ"><a href="#7-HashMap-replaceæ–¹æ³•åˆ†æ" class="headerlink" title="7. HashMap replaceæ–¹æ³•åˆ†æ"></a>7. HashMap replaceæ–¹æ³•åˆ†æ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">replace</span><span class="params">(K key, V oldValue, V newValue)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt; e; V v;</span><br><span class="line">    <span class="keyword">if</span> ((e = getNode(hash(key), key)) != <span class="keyword">null</span> &amp;&amp;</span><br><span class="line">            ((v = e.value) == oldValue || (v != <span class="keyword">null</span> &amp;&amp; v.equals(oldValue)))) &#123;</span><br><span class="line">        e.value = newValue;</span><br><span class="line">        afterNodeAccess(e);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">replace</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt; e;</span><br><span class="line">    <span class="keyword">if</span> ((e = getNode(hash(key), key)) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        V oldValue = e.value;</span><br><span class="line">        e.value = value;</span><br><span class="line">        afterNodeAccess(e);</span><br><span class="line">        <span class="keyword">return</span> oldValue;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="8-å…¶å®ƒå¸¸ç”¨æ–¹æ³•"><a href="#8-å…¶å®ƒå¸¸ç”¨æ–¹æ³•" class="headerlink" title="8. å…¶å®ƒå¸¸ç”¨æ–¹æ³•"></a>8. å…¶å®ƒå¸¸ç”¨æ–¹æ³•</h3><h4 id="isEmpty"><a href="#isEmpty" class="headerlink" title="isEmpty()"></a>isEmpty()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * å¦‚æœmapä¸­æ²¡æœ‰é”®å€¼å¯¹æ˜ å°„ï¼Œè¿”å›true</span><br><span class="line"> * </span><br><span class="line"> * @return &lt;å¦‚æœmapä¸­æ²¡æœ‰é”®å€¼å¯¹æ˜ å°„ï¼Œè¿”å›true</span><br><span class="line"> *&#x2F;</span><br><span class="line">public boolean isEmpty() &#123;</span><br><span class="line">    return size &#x3D;&#x3D; 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="putMapEntries"><a href="#putMapEntries" class="headerlink" title="putMapEntries()"></a>putMapEntries()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">final void putMapEntries(Map&lt;? extends K, ? extends V&gt; m, boolean evict) &#123;</span><br><span class="line">    int s &#x3D; m.size();</span><br><span class="line">    if (s &gt; 0) &#123;</span><br><span class="line">        &#x2F;&#x2F; tableä¸ºnullï¼Œä»£è¡¨è¿™é‡Œä½¿ç”¨HashMap(Map&lt;? extends K, ? extends V&gt; m)æ„é€ å‡½æ•° æˆ–è€…å…¶å®ƒæ–¹å¼å®ä¾‹åŒ–hashmapä½†æ˜¯è¿˜æ²¡å¾€é‡Œé¢æ·»åŠ è¿‡å…ƒç´ </span><br><span class="line">        if (table &#x3D;&#x3D; null) &#123; &#x2F;&#x2F; pre-size</span><br><span class="line">            &#x2F;&#x2F;å‰é¢è®²åˆ°ï¼Œinitial capacity*load factorå°±æ˜¯å½“å‰hashMapå…è®¸çš„æœ€å¤§å…ƒç´ æ•°ç›®ã€‚é‚£ä¹ˆä¸éš¾ç†è§£ï¼Œs&#x2F;loadFactor+1å³ä¸ºåº”è¯¥åˆå§‹åŒ–çš„å®¹é‡ã€‚</span><br><span class="line">            float ft &#x3D; ((float)s &#x2F; loadFactor) + 1.0F;</span><br><span class="line">            int t &#x3D; ((ft &lt; (float)MAXIMUM_CAPACITY) ?</span><br><span class="line">                    (int)ft : MAXIMUM_CAPACITY);</span><br><span class="line">            if (t &gt; threshold)</span><br><span class="line">                threshold &#x3D; tableSizeFor(t);</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;tableå·²ç»åˆå§‹åŒ–ï¼Œå¹¶ä¸”mapçš„å¤§å°å¤§äºä¸´ç•Œå€¼</span><br><span class="line">        else if (s &gt; threshold)</span><br><span class="line">            &#x2F;&#x2F;æ‰©å®¹å¤„ç†</span><br><span class="line">            resize();</span><br><span class="line">        &#x2F;&#x2F;å°†mapä¸­æ‰€æœ‰é”®å€¼å¯¹æ·»åŠ åˆ°hashMapä¸­</span><br><span class="line">        for (Map.Entry&lt;? extends K, ? extends V&gt; e : m.entrySet()) &#123;</span><br><span class="line">            K key &#x3D; e.getKey();</span><br><span class="line">            V value &#x3D; e.getValue();</span><br><span class="line">            putVal(hash(key), key, value, false, evict);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="putAll"><a href="#putAll" class="headerlink" title="putAll()"></a>putAll()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * å°†å‚æ•°mapä¸­çš„æ‰€æœ‰é”®å€¼å¯¹æ˜ å°„æ’å…¥åˆ°hashMapä¸­ï¼Œå¦‚æœæœ‰ç¢°æ’ï¼Œåˆ™è¦†ç›–valueã€‚</span><br><span class="line"> * @param m å‚æ•°map</span><br><span class="line"> * @throws NullPointerException å¦‚æœmapä¸ºnull</span><br><span class="line"> *&#x2F;</span><br><span class="line">public void putAll(Map&lt;? extends K, ? extends V&gt; m) &#123;</span><br><span class="line">    putMapEntries(m, true);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="clear"><a href="#clear" class="headerlink" title="clear()"></a>clear()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * åˆ é™¤mapä¸­æ‰€æœ‰çš„é”®å€¼å¯¹</span><br><span class="line"> *&#x2F;</span><br><span class="line">public void clear() &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab;</span><br><span class="line">    modCount++;</span><br><span class="line">    if ((tab &#x3D; table) !&#x3D; null &amp;&amp; size &gt; 0) &#123;</span><br><span class="line">        size &#x3D; 0;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; tab.length; ++i)</span><br><span class="line">            tab[i] &#x3D; null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="containsValue-Object-value"><a href="#containsValue-Object-value" class="headerlink" title="containsValue( Object value)"></a>containsValue( Object value)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * å¦‚æœhashMapä¸­çš„é”®å€¼å¯¹æœ‰ä¸€å¯¹æˆ–å¤šå¯¹çš„valueä¸ºå‚æ•°valueï¼Œè¿”å›true</span><br><span class="line"> *</span><br><span class="line"> * @param value å‚æ•°value</span><br><span class="line"> * @return å¦‚æœhashMapä¸­çš„é”®å€¼å¯¹æœ‰ä¸€å¯¹æˆ–å¤šå¯¹çš„valueä¸ºå‚æ•°valueï¼Œè¿”å›true</span><br><span class="line"> *&#x2F;</span><br><span class="line">public boolean containsValue(Object value) &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; V v;</span><br><span class="line">    &#x2F;&#x2F;</span><br><span class="line">    if ((tab &#x3D; table) !&#x3D; null &amp;&amp; size &gt; 0) &#123;</span><br><span class="line">        &#x2F;&#x2F;éå†æ•°ç»„table</span><br><span class="line">        for (int i &#x3D; 0; i &lt; tab.length; ++i) &#123;</span><br><span class="line">            &#x2F;&#x2F;éå†æ¡¶ä¸­çš„node</span><br><span class="line">            for (Node&lt;K,V&gt; e &#x3D; tab[i]; e !&#x3D; null; e &#x3D; e.next) &#123;</span><br><span class="line">                if ((v &#x3D; e.value) &#x3D;&#x3D; value ||</span><br><span class="line">                    (value !&#x3D; null &amp;&amp; value.equals(v)))</span><br><span class="line">                    return true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="oldnineping"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">oldnineping</p>
  <div class="site-description" itemprop="description">æŠ€æœ¯æ—¥è®°å’Œæ‚ä¸ƒæ‚å…«çš„dx</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">21</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">oldnineping</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  













<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

</body>
</html>
