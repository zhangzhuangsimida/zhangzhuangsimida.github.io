<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="小程序前置知识与小程序核心语法认识小程序准备工作根据官网文档进行微信公众平台小程序账号申请：https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F; 下载开发工具并新建项目">
<meta property="og:type" content="article">
<meta property="og:title" content="地球上的小东西">
<meta property="og:url" content="http://example.com/2021/10/17/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86%E4%B8%8E%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A0%B8%E5%BF%83%E8%AF%AD%E6%B3%95/index.html">
<meta property="og:site_name" content="地球上的小东西">
<meta property="og:description" content="小程序前置知识与小程序核心语法认识小程序准备工作根据官网文档进行微信公众平台小程序账号申请：https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F; 下载开发工具并新建项目">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211018001905052.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211018001806025.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211018005832564.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211109161500154.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/871963eb321aba5d01d6e692c1a2ef1b33fe7890/img/20211109161216.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211028060259527.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211110145040066.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211110152148817.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211111142121127.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/Xnip2021-11-11_14-43-27.jpg">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211111141111292.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210508103939068.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210508152109839.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210508152109839.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211111163118503.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210513103334265.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210513103334265.png">
<meta property="og:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210513103334265.png">
<meta property="article:published_time" content="2021-10-17T14:00:34.000Z">
<meta property="article:modified_time" content="2021-12-02T05:54:16.213Z">
<meta property="article:author" content="oldnineping">
<meta property="article:tag" content="uniapp">
<meta property="article:tag" content="微信小程序">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211018001905052.png">

<link rel="canonical" href="http://example.com/2021/10/17/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86%E4%B8%8E%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A0%B8%E5%BF%83%E8%AF%AD%E6%B3%95/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title> | 地球上的小东西</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">地球上的小东西</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">hiahiahiahia</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/10/17/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86%E4%B8%8E%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A0%B8%E5%BF%83%E8%AF%AD%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="oldnineping">
      <meta itemprop="description" content="技术日记和杂七杂八的dx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="地球上的小东西">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-10-17 22:00:34" itemprop="dateCreated datePublished" datetime="2021-10-17T22:00:34+08:00">2021-10-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-02 13:54:16" itemprop="dateModified" datetime="2021-12-02T13:54:16+08:00">2021-12-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uniapp/" itemprop="url" rel="index"><span itemprop="name">uniapp</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uniapp/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" itemprop="url" rel="index"><span itemprop="name">微信小程序</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="小程序前置知识与小程序核心语法"><a href="#小程序前置知识与小程序核心语法" class="headerlink" title="小程序前置知识与小程序核心语法"></a>小程序前置知识与小程序核心语法</h1><h2 id="认识小程序"><a href="#认识小程序" class="headerlink" title="认识小程序"></a>认识小程序</h2><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><p>根据官网文档进行微信公众平台小程序账号申请：<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/">https://mp.weixin.qq.com/</a></p>
<p>下载<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/wxamp/thirdtools/extend?token=792253097&lang=zh_CN">开发工具</a>并新建项目</p>
<a id="more"></a>

<p><img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211018001905052.png" alt="image-20211018001905052"></p>
<p>一定需要注册小程序账号能获得有appId</p>
<p><img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211018001806025.png" alt="image-20211018001806025"></p>
<h3 id="小程序基本概念"><a href="#小程序基本概念" class="headerlink" title="小程序基本概念"></a>小程序基本概念</h3><h4 id="小程序的基本组成结构"><a href="#小程序的基本组成结构" class="headerlink" title="小程序的基本组成结构"></a>小程序的基本组成结构</h4><h5 id="pages-文件夹存小程序的页面"><a href="#pages-文件夹存小程序的页面" class="headerlink" title="pages 文件夹存小程序的页面"></a>pages 文件夹存小程序的页面</h5><img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211018005832564.png" alt="image-20211018005832564" style="zoom:50%;">

<p>每个页面对应一个文件夹，包含 index.js，index.json ，index.wxml，index.wxss四个文件，</p>
<p>一个小程序页面也就是由这四个文件组成的 <strong>js,wxml,json,wxss</strong></p>
<table>
<thead>
<tr>
<th align="left">文件类型</th>
<th align="left">必需</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html">js</a></td>
<td align="left">是</td>
<td align="left">页面逻辑，存放页面存储数据，事件函数，页面生命周期</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/">wxml</a></td>
<td align="left">是</td>
<td align="left">页面结构，页面的模板结构</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE">json</a></td>
<td align="left">否</td>
<td align="left">页面配置，可以配置当前页面的外观、表现等</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html">wxss</a></td>
<td align="left">否</td>
<td align="left">页面样式表</td>
</tr>
</tbody></table>
<h5 id="project-config-json-项目配置文件"><a href="#project-config-json-项目配置文件" class="headerlink" title="project.config.json 项目配置文件"></a>project.config.json 项目配置文件</h5><p>项目配置文件，记录对小程序开发工具做的个性化配置</p>
<ul>
<li>setting 中保存了 编译相关配置</li>
<li>projectname 保存了 项目名称</li>
<li>appid 保存了小程序账号的id</li>
</ul>
<h5 id="sitemap-json-配置是否可以被微信索引"><a href="#sitemap-json-配置是否可以被微信索引" class="headerlink" title="sitemap.json 配置是否可以被微信索引"></a>sitemap.json 配置是否可以被微信索引</h5><p>文档<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/sitemap.html&quot;">https://developers.weixin.qq.com/miniprogram/dev/framework/sitemap.html&quot;</a></p>
<ul>
<li><p>rules 配置项指定了索引规则</p>
</li>
<li><p>action表示命中该规则的页面是否能被索引</p>
</li>
</ul>
<h5 id="其他配置"><a href="#其他配置" class="headerlink" title="其他配置"></a>其他配置</h5><p>utils 文件夹是工具类文件夹</p>
<p>app.json 小程序公共配置文件</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 整个程序的页面路径</span></span><br><span class="line">  &quot;pages&quot;:[</span><br><span class="line">    &quot;pages/index/index&quot;,</span><br><span class="line">    <span class="string">&quot;pages/logs/logs&quot;</span></span><br><span class="line">  ],</span><br><span class="line"><span class="comment">// 窗口的一些表现</span></span><br><span class="line">  &quot;window&quot;:&#123;</span><br><span class="line">    &quot;backgroundTextStyle&quot;:&quot;light&quot;,</span><br><span class="line">    &quot;navigationBarBackgroundColor&quot;: &quot;#fff&quot;,</span><br><span class="line">    &quot;navigationBarTitleText&quot;: &quot;Weixin&quot;,</span><br><span class="line">    &quot;navigationBarTextStyle&quot;:&quot;black&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;style&quot;: &quot;v2&quot;,</span><br><span class="line">  &quot;sitemapLocation&quot;: &quot;sitemap.json&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="WXML-VS-HTML"><a href="#WXML-VS-HTML" class="headerlink" title="WXML VS HTML"></a>WXML VS HTML</h3><h4 id="什么是WXML"><a href="#什么是WXML" class="headerlink" title="什么是WXML"></a>什么是WXML</h4><p>WXML（WeiXin Markup Language）是框架设计的一套标签语言，用来构建小程序的页面结构，作用类似于网页开发中的HTML</p>
<h4 id="WXML和-HTML的区别"><a href="#WXML和-HTML的区别" class="headerlink" title="WXML和 HTML的区别"></a>WXML和 HTML的区别</h4><ol>
<li><p>标签名不一样</p>
<p>html： div，span，img，a</p>
<p>wxml： view，text，image，navigatior（小程序提供的组件）</p>
</li>
<li><p>属性节点不同<br><code>&lt;a href=&quot;#&quot;&gt; 超链接 &lt;/a&gt;</code></p>
<p><code>  &lt;navigator url=&quot;/pages/home/home&quot;&gt;跳转到home页&lt;/navigator&gt;</code></p>
</li>
<li><p>提供了动态渲染数据的模板语法</p>
<ul>
<li>数据绑定</li>
<li>条件渲染</li>
<li>列表渲染</li>
</ul>
</li>
</ol>
<h4 id="我是否可以在-wxml-文件中写入-div标签？并说出原因"><a href="#我是否可以在-wxml-文件中写入-div标签？并说出原因" class="headerlink" title="我是否可以在 wxml 文件中写入 div标签？并说出原因"></a>我是否可以在 wxml 文件中写入 div标签？并说出原因</h4><ul>
<li><p>可以写入，但是 <strong>不要</strong>使用 </p>
</li>
<li><p>在微信wxml中 div标签会被解析成<strong>类view</strong> 标签效果(h1,div标签都会被解析成类似view标签，原有的属性样式都会被去掉)    </p>
</li>
</ul>
<h3 id="WXSS-VS-CSS"><a href="#WXSS-VS-CSS" class="headerlink" title="WXSS VS CSS"></a>WXSS VS CSS</h3><ol>
<li>什么是WXSS？<ul>
<li>WXSS (WeiXin Style Sheets)是一套样式语言，用于描述 WXML 的组件样式。</li>
<li>类似于网页开发中的CSS</li>
<li>WXSS 具有CSS 大部分的特性</li>
</ul>
</li>
<li>新增了尺寸单位 – “rpx” 一个 rpx 为页面宽度的 1/750 ，微信将页面的宽度分成了750份</li>
<li>提供了全局样式和局部样式<ol>
<li>群居样式 写入到根目录到 wxss 中的样式</li>
<li>局部样式： 写入到 页面的 wxss中的样式</li>
</ol>
</li>
<li>此外 wxss仅支持部分css 选择器<ol>
<li> .class (推荐使用) 和 #id</li>
<li> element</li>
<li> 并集选择器和后代选择器</li>
<li> :: after 和 before 等 伪类选择器</li>
</ol>
</li>
</ol>
<h4 id="wxss-新增了什么尺寸单位"><a href="#wxss-新增了什么尺寸单位" class="headerlink" title="wxss 新增了什么尺寸单位"></a>wxss 新增了什么尺寸单位</h4><p>增了尺寸单位 – <strong>“rpx”</strong> 一个 rpx 为页面宽度的 <strong>1/750</strong></p>
<h4 id="wxss-中推荐使用什么选择器"><a href="#wxss-中推荐使用什么选择器" class="headerlink" title="wxss 中推荐使用什么选择器"></a>wxss 中推荐使用什么选择器</h4><p>.class 选择器</p>
<h3 id="json-配置文件"><a href="#json-配置文件" class="headerlink" title=".json 配置文件"></a>.json 配置文件</h3><p>小程序中，额外多出了一个 .json 的配置文件，json 文件主要分为两个： </p>
<ol>
<li><p>项目根目录下的 .json 文件</p>
<ol>
<li><p>修改项目的基本配置</p>
<ul>
<li>例如修改 window条目下的    “navigationBarBackgroundColor”: “#00ff00”,</li>
</ul>
</li>
</ol>
</li>
<li><p>页面中的 .json 文件</p>
<ol>
<li>修改页面的基本配置（优先级高）<ul>
<li>在具体页面中的 页面.json 配置 “navigationBarBackgroundColor”: “#fff” 会覆盖项目中的配置</li>
</ul>
</li>
</ol>
</li>
</ol>
<h4 id="1-小程序中的-json-文件主要分为哪几种"><a href="#1-小程序中的-json-文件主要分为哪几种" class="headerlink" title="1. 小程序中的 .json 文件主要分为哪几种"></a>1. 小程序中的 .json 文件主要分为哪几种</h4><ul>
<li>项目根目录下的 </li>
<li>页面中的  .json 文件</li>
</ul>
<h4 id="2-当这两种配置文件出现相同配置时，会出现什么结果？"><a href="#2-当这两种配置文件出现相同配置时，会出现什么结果？" class="headerlink" title="2. 当这两种配置文件出现相同配置时，会出现什么结果？"></a>2. 当这两种配置文件出现相同配置时，会出现什么结果？</h4><p>页面中的.json 文件配置优先级更高会覆盖项目根目录中对全局的配置</p>
<h3 id="宿主概念与微信小程序的运行环境"><a href="#宿主概念与微信小程序的运行环境" class="headerlink" title="宿主概念与微信小程序的运行环境"></a>宿主概念与微信小程序的运行环境</h3><h4 id="什么是宿主环境？"><a href="#什么是宿主环境？" class="headerlink" title="什么是宿主环境？"></a>什么是宿主环境？</h4><p>程序运行所依赖的环境 ，</p>
<h4 id="微信小程序项目为什么可以调用微信支付功能？"><a href="#微信小程序项目为什么可以调用微信支付功能？" class="headerlink" title="微信小程序项目为什么可以调用微信支付功能？"></a>微信小程序项目为什么可以调用微信支付功能？</h4><p>小程序的宿主环境：手机微信 ，而手机微信提供了对应的功能</p>
<h4 id="小程序的运行环境是如何划分的？"><a href="#小程序的运行环境是如何划分的？" class="headerlink" title="小程序的运行环境是如何划分的？"></a>小程序的运行环境是如何划分的？</h4><p>渲染层，逻辑层</p>
<p><img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211109161500154.png" alt="image-20211109161500154">  </p>
<h3 id="小程序的内置组件"><a href="#小程序的内置组件" class="headerlink" title="小程序的内置组件"></a>小程序的内置组件</h3><p>可以通过 帮助&gt; 开发者文档 查看小程序提供的组件</p>
<p><img src="https://gitee.com/laonaiping/blog-images/raw/871963eb321aba5d01d6e692c1a2ef1b33fe7890/img/20211109161216.png" alt="image-20211109161151763"></p>
<ol>
<li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/view.html">view</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html">scroll-view</a>  可滚动视图区域 相当于一个overflow = scroll的div</p>
<p>使用竖向滚动时，需要给scroll-view一个固定高度/高度，只要超过固定的高/宽度就可以开始滚动行为了</p>
<p>通过 WXSS 设置 height。组件属性的长度单位默认为px，2.4.0起支持传入单位(rpx/px)</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html">swiper</a> &amp;&amp; <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/swiper-item.html">swiper-item</a> 相当于banner</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/text.html">text</a> &amp;&amp; <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/rich-text.html">rich-text</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/button.html">button</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/image.html">image</a> 图片。支持 JPG、PNG、SVG、WEBP、GIF 等格式，<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.3.0</a> 起支持云文件ID。</p>
</li>
</ol>
<h3 id="小程序成员管理"><a href="#小程序成员管理" class="headerlink" title="小程序成员管理"></a>小程序成员管理</h3><p><a target="_blank" rel="noopener" href="https://kf.qq.com/faq/170302zeQryI170302beuEVn.html">https://kf.qq.com/faq/170302zeQryI170302beuEVn.html</a></p>
<h3 id="小程序发布流程"><a href="#小程序发布流程" class="headerlink" title="小程序发布流程"></a>小程序发布流程</h3><p><img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211028060259527.png" alt="image-20211028060259527"></p>
<p>分为线上，审核，开发，本地 四个版本</p>
<h2 id="小程序核心语法"><a href="#小程序核心语法" class="headerlink" title="小程序核心语法"></a>小程序核心语法</h2><h3 id="小程序的数据驱动原则"><a href="#小程序的数据驱动原则" class="headerlink" title="小程序的数据驱动原则"></a>小程序的数据驱动原则</h3><ul>
<li><p>什么是数据驱动</p>
<p>当数据发生变化时，视图理应发生变化</p>
</li>
<li><p>小程序中如何完成数据绑定</p>
<ul>
<li>在.js 文件data 中定义数量</li>
<li>在wxml中通过<code>&#123;&#123;&#125;&#125;</code>使用数据</li>
</ul>
</li>
</ul>
<h4 id="数据驱动："><a href="#数据驱动：" class="headerlink" title="数据驱动："></a>数据驱动：</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 商品</span></span><br><span class="line"><span class="keyword">let</span> product = &#123;</span><br><span class="line">  price: <span class="number">10</span>,</span><br><span class="line">  num: <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 总价格</span></span><br><span class="line"><span class="keyword">let</span> total = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 计算总价格的方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getTotal</span>(<span class="params">product</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> product.price * product.num</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 计算商品的总价格</span></span><br><span class="line">total = getTotal(product)</span><br><span class="line"><span class="comment">// 进行打印</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;总价格：&#x27;</span> + total);</span><br><span class="line"><span class="comment">// 50 太贵了，所以我们少购买了两个商品，也就是让 num = 3</span></span><br><span class="line">product.num = <span class="number">3</span>;</span><br><span class="line"><span class="comment">// 问：总价格是多少？</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;总价格：&#x27;</span> + total); <span class="comment">// 此时，打印发现总价格还是 50 元，如果要说原因的话，那么应该很简单，【因为我们没有重新进行价格的计算嘛】</span></span><br><span class="line"><span class="comment">// 但是，此时大家有没有想过一点？我们为什么要进行价格的计算呢？</span></span><br><span class="line"><span class="comment">// ----------------------------------------------------</span></span><br><span class="line"><span class="comment">// 当商品的数量发生变化时，商品的总价格【理应发生变化】，不是吗？</span></span><br></pre></td></tr></table></figure>
<p>上面的例子，就是我想要跟大家说的：【当数量发生变化时，商品的总价格理应发生改变】。</p>
<p>那么同样的道理，在我们的页面中，假如：</p>
<blockquote>
<p>某一个 DOM 依赖于某个数据进行展示，那么【当数据发生变化时，视图也理应发生变化】。</p>
</blockquote>
<p>而这个就是【响应式数据驱动】。</p>
<blockquote>
<p>PS：如果大家想要跟深入的了解，那么可以查看博客：<a target="_blank" rel="noopener" href="https://www.imooc.com/article/317228">聊一聊响应式构建的那些经历</a></p>
</blockquote>
<h4 id="小程序中完成响应式："><a href="#小程序中完成响应式：" class="headerlink" title="小程序中完成响应式："></a>小程序中完成响应式：</h4><ul>
<li><p>在 <code>data</code> 中定义数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="comment">// 获取应用实例</span></span><br><span class="line"><span class="keyword">const</span> app = getApp()</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line"> data: &#123;</span><br><span class="line">   product: &#123;</span><br><span class="line">     price: <span class="number">10</span>,</span><br><span class="line">     num: <span class="number">5</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
<li><p>在 <code>wxml</code> 中使用数据</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- wxml 中访问数据，必须使用 &#123;&#123;&#125;&#125; 语法，&#123;&#123;&#125;&#125; 语法中可以放置【任意的、单一的 JavaScript 表达式】 --&gt;</span>  </span><br><span class="line">    商品的单价：&#123;&#123;product.price&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    商品的数量：&#123;&#123;product.num&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    商品的总价格：&#123;&#123;product.price * product.num&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="小程序的常用事件与属性列表"><a href="#小程序的常用事件与属性列表" class="headerlink" title="小程序的常用事件与属性列表"></a>小程序的常用事件与属性列表</h3><h4 id="按钮添加点击事件"><a href="#按钮添加点击事件" class="headerlink" title="按钮添加点击事件"></a>按钮添加点击事件</h4><p>bindtap||bind:tap</p>
<p>我们希望做一件事情：</p>
<blockquote>
<p>创建一个按钮</p>
<p>当用户点击按钮时</p>
<p>让 product 的 num + 1</p>
</blockquote>
<p>创建按钮的方式非常简单：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>num + 1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>问题在于：我们如何给这个按钮添加点击事件呢？</p>
<p>有过开发经验的同学，可能会猜到：我们可以给 <code>button</code> 一个 <code>click</code> 事件来监听按钮的点击。</p>
<p>可是大家需要知道，现在我们是在【小程序】中，那么如果想要给 <code>button</code> 添加点击事件则不可以使用 <code>click</code> 而是 **<code>bind:tap / bindtap</code>**。</p>
<p>其中 <code>bind: / bind</code> 表示【绑定事件】，<code>tap</code> 为绑定的具体事件。小程序具体事件列表，可以点击 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#%E4%BA%8B%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F">这里</a> 查看。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">bind:tap</span>=<span class="string">&quot;onAddNum&quot;</span>&gt;</span>num + 1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>接下来需要在 <code>js</code> 中定义对应的 <strong>事件</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 定义事件处理的方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">onAddNum () &#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;onAddNum&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>到目前：我们已经 <strong>监听了按钮的点击事件，并且写入了对应的处理函数</strong> ，接下来就需要 **修改 num 的值 **</p>
<h4 id="修改data中数据的值"><a href="#修改data中数据的值" class="headerlink" title="修改data中数据的值"></a>修改data中数据的值</h4><ul>
<li>通过this.setData({}) 定义新的值</li>
<li>通过this.data 访问具体的值</li>
</ul>
<p>想要修改 <code>data</code> 中的数据，那么我们需要借助一个函数 <code>setData</code>。</p>
<p><code>setData</code> 接收一个 对象作为参数，这个对象就是最新的 <code>data</code> 数据。</p>
<p>其中 <code>key</code> 为要修改的数据， <code>value</code> 为最新的值</p>
<p><strong>访问 data 的数据：</strong></p>
<p>因为我们想要让 <code>num + 1</code> ，所以我们还需要拿到 <code>num</code> 的当前值，想要访问 <code>num</code> 的值，可以通过 <code>this.data.product.num</code> 的形式访问</p>
<p>所以最终的修改 <code>num</code> 的代码为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 定义事件处理的方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">onAddNum () &#123;</span><br><span class="line"> <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">   <span class="string">&#x27;product.num&#x27;</span>: <span class="built_in">this</span>.data.product.num + <span class="number">1</span></span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>
<p>此时，当我们点击 <code>button</code> ，可以发现：【当 num 发生改变时，总价格也发生了对应的变化】</p>
<h3 id="事件传参"><a href="#事件传参" class="headerlink" title="事件传参"></a>事件传参</h3><ol>
<li>通过属性绑定的形式，把需要传递的参数绑定到当前 DOM 元素的 data-xx 属性下</li>
<li>js中通过<code>e.target.dataset</code> 访问传递的参数</li>
</ol>
<p>要借助 <strong>event 对象</strong> 和 <strong>data- 属性</strong> ！</p>
<p>参数的传递包含两个部分：</p>
<ol>
<li>形参</li>
<li>实参</li>
</ol>
<h4 id="形参："><a href="#形参：" class="headerlink" title="形参："></a>形参：</h4><p>首先先来看 <strong>形参</strong>，对于 <strong>点击事件的回调方法</strong> 而言，默认会接收一个参数 <strong>event （事件对象）</strong>。这个 <code>event</code> 对象为：<strong>回调方法的唯一参数</strong></p>
<h4 id="实参："><a href="#实参：" class="headerlink" title="实参："></a>实参：</h4><p>对于 <strong>小程序</strong> 中，我们不能直接为 <strong>回调方法传递实参</strong>。</p>
<p>而是需要通过：<strong>属性绑定的形式，把需要传递的参数绑定到 当前 <code>DOM</code> 元素中</strong>，绑定数据的属性需要以 <code>data-</code> 开头。该属性可以通过 <code>e.target.dataset</code> 进行访问。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// html</span></span><br><span class="line">&lt;button type=<span class="string">&quot;primary&quot;</span> bind:tap=<span class="string">&quot;onAddNum&quot;</span> data-step=<span class="string">&quot;5&quot;</span>&gt;num + <span class="number">1</span>&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// js</span></span><br><span class="line"> onAddNum (e) &#123;</span><br><span class="line">  <span class="comment">//  获取 data-step 的值</span></span><br><span class="line">  <span class="keyword">let</span> step = <span class="built_in">parseInt</span>(e.target.dataset.step);</span><br><span class="line">  <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">    <span class="string">&#x27;product.num&#x27;</span>: <span class="built_in">this</span>.data.product.num + step</span><br><span class="line">  &#125;)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>


<h3 id="双向数据绑定"><a href="#双向数据绑定" class="headerlink" title="双向数据绑定"></a>双向数据绑定</h3><h4 id="什么是双向数据绑定"><a href="#什么是双向数据绑定" class="headerlink" title="什么是双向数据绑定"></a>什么是双向数据绑定</h4><ul>
<li>当视图发生变化时，数据跟随发生变化</li>
<li>当数据发生变化时，视图跟着发生变化</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// html</span></span><br><span class="line">&lt;view&gt;</span><br><span class="line">    商品的数量：</span><br><span class="line">    &lt;!-- <span class="number">1.</span> 创建一个【数字输入框】 --&gt;</span><br><span class="line">    &lt;!-- <span class="number">2.</span> 设置 【商品数量】 为输入框的初始值 --&gt;</span><br><span class="line">    &lt;input <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;num-input&quot;</span> type=<span class="string">&quot;number&quot;</span> value=<span class="string">&quot;&#123;&#123; product.num &#125;&#125;&quot;</span> bindinput=<span class="string">&quot;onInput&quot;</span> /&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// js</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 3. 监听 input 的输入事件</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> onInput (e) &#123;</span><br><span class="line">  <span class="comment">//  4. 获取用户输入的值</span></span><br><span class="line">   <span class="keyword">const</span> val = <span class="built_in">parseInt</span>(e.detail.value);</span><br><span class="line">  <span class="comment">//  5. 赋值给【商品数量】</span></span><br><span class="line">  <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">    <span class="string">&#x27;product.num&#x27;</span>: val</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h3><ol>
<li>wx:if … wx:elif … wx:else </li>
</ol>
<p>​    判断结果是true才渲染，false 不渲染</p>
<ol start="2">
<li>hidden</li>
</ol>
<p>​    结果是true 隐藏，false 不隐藏</p>
<p>  两者区别： </p>
<p>​    wx:if 条件满足才渲染，否则不渲染</p>
<p>​    hidden： 都会渲染，条件满足则隐藏</p>
<p>​    wxif 切换消耗更高， hidden 初始化消耗更高</p>
<p>​    wxif 适合运行时条件不再改变的情况</p>
<p>​    hidden 适合频繁切换的情况</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- wx:if ... wx:elif ... wx:else：判断结果为 true 则进行渲染，否则不进行渲染 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    售货员小姐姐惊呼：</span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123; product.price * product.num &lt;= 100 &#125;&#125;&quot;</span>&gt;</span>hello 帅哥<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">wx:elif</span>=<span class="string">&quot;&#123;&#123; product.price * product.num &gt; 100 &amp;&amp; product.price * product.num &lt; 1000 &#125;&#125;&quot;</span>&gt;</span>哇哦 有钱人哦<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">wx:else</span>&gt;</span>土豪你好<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- hidden：结果为 true 则隐藏，否则不隐藏 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    售货员小姐姐惊呼：</span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">hidden</span>=<span class="string">&quot;&#123;&#123; !(product.price * product.num &lt;= 100) &#125;&#125;&quot;</span>&gt;</span>hello 帅哥<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">hidden</span>=<span class="string">&quot;&#123;&#123; !(product.price * product.num &gt; 100 &amp;&amp; product.price * product.num &lt; 1000) &#125;&#125;&quot;</span>&gt;</span>哇哦 有钱人哦<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">hidden</span>=<span class="string">&quot;&#123;&#123;product.price * product.num &lt; 1000&#125;&#125;&quot;</span>&gt;</span>土豪你好<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h3><ul>
<li><p>使用wx:for 当前项的【下标变量名】和【当前项变量名】默认分别是什么？</p>
<p>  默认当前项 item, 默认下标名 index</p>
</li>
<li><p>block组件是否被渲染?  包裹性值的容器，不会进行渲染 </p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// html</span></span><br><span class="line">&lt;!-- </span><br><span class="line">    利用 wx:<span class="keyword">for</span> 循环渲染商品</span><br><span class="line">    默认数组的当前项的下标变量名默认为 index，</span><br><span class="line">    数组当前项的变量名默认为 item</span><br><span class="line">   --&gt;</span><br><span class="line">  &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;product-box&quot;</span>&gt;</span><br><span class="line">    &lt;block wx:<span class="keyword">for</span>=<span class="string">&quot;&#123;&#123; products &#125;&#125;&quot;</span> wx:key=<span class="string">&quot;index&quot;</span>&gt;</span><br><span class="line">      &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;product-item&quot;</span>&gt;</span><br><span class="line">        &lt;text&gt;商品名：&#123;&#123;item.name&#125;&#125;&lt;/text&gt;</span><br><span class="line">        &lt;text&gt;价格：&#123;&#123;item.price&#125;&#125;&lt;/text&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/block&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// js</span></span><br><span class="line">data: &#123;</span><br><span class="line">   products: [</span><br><span class="line">     &#123;</span><br><span class="line">       name: <span class="string">&#x27;苹果&#x27;</span>,</span><br><span class="line">       price: <span class="number">3.2</span></span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       name: <span class="string">&#x27;面包&#x27;</span>,</span><br><span class="line">       price: <span class="number">5.0</span></span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       name: <span class="string">&#x27;可乐&#x27;</span>,</span><br><span class="line">       price: <span class="number">2.5</span></span><br><span class="line">     &#125;</span><br><span class="line">   ]</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>


<h3 id="配置文件解读"><a href="#配置文件解读" class="headerlink" title="配置文件解读"></a>配置文件解读</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html">app.json 配置文件</a></p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">描述</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#entryPagePath">entryPagePath</a></td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">小程序默认启动首页</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#pages">pages</a></td>
<td align="left">string[]</td>
<td align="left">是</td>
<td align="left">页面路径列表</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window">window</a></td>
<td align="left">Object</td>
<td align="left">否</td>
<td align="left">全局的默认窗口表现</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar">tabBar</a></td>
<td align="left">Object</td>
<td align="left">否</td>
<td align="left">底部 <code>tab</code> 栏的表现</td>
<td align="left"></td>
</tr>
</tbody></table>
<ul>
<li><p>pages</p>
<p>用于指定小程序由哪些页面组成，每一项都对应一个页面的 路径（含文件名） 信息。文件名不需要写文件后缀，框架会自动去寻找对应位置的 <code>.json</code>, <code>.js</code>, <code>.wxml</code>, <code>.wxss</code> 四个文件进行处理。</p>
<p>未指定 <code>entryPagePath</code> 时，数组的第一项代表小程序的初始页面（首页）。</p>
<p><strong>小程序中新增/减少页面，都需要对 pages 数组进行修改。</strong></p>
<p>如开发目录为：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">├── app.js</span><br><span class="line">├── app.json</span><br><span class="line">├── app.wxss</span><br><span class="line">├── pages</span><br><span class="line">│   │── index</span><br><span class="line">│   │   ├── index.wxml</span><br><span class="line">│   │   ├── index.js</span><br><span class="line">│   │   ├── index.json</span><br><span class="line">│   │   └── index.wxss</span><br><span class="line">│   └── logs</span><br><span class="line">│       ├── logs.wxml</span><br><span class="line">│       └── logs.js</span><br><span class="line">└── utils</span><br></pre></td></tr></table></figure>
<p>则需要在 app.json 中写</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;pages&quot;</span>: [<span class="string">&quot;pages/index/index&quot;</span>, <span class="string">&quot;pages/logs/logs&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>window</p>
<p>用于设置小程序的状态栏、导航条、标题、窗口背景色。</p>
<p><img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211110145040066.png" alt="image-20211110145040066"></p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">描述</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">navigationBarBackgroundColor</td>
<td align="left">HexColor</td>
<td align="left">#000000</td>
<td align="left">导航栏背景颜色，如 <code>#000000</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">navigationBarTextStyle</td>
<td align="left">string</td>
<td align="left">white</td>
<td align="left">导航栏标题颜色，仅支持 <code>black</code> / <code>white</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">navigationBarTitleText</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">导航栏标题文字内容</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">navigationStyle</td>
<td align="left">string</td>
<td align="left">default</td>
<td align="left">导航栏样式，仅支持以下值： <code>default</code> 默认样式 <code>custom</code> 自定义导航栏，只保留右上角胶囊按钮。参见注 2。</td>
<td align="left">iOS/Android 微信客户端 6.6.0，Windows 微信客户端不支持</td>
</tr>
<tr>
<td align="left">backgroundColor</td>
<td align="left">HexColor</td>
<td align="left">#ffffff</td>
<td align="left">窗口的背景色</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">enablePullDownRefresh</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">是否开启全局的下拉刷新。 详见 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onpulldownrefresh">Page.onPullDownRefresh</a></td>
<td align="left"></td>
</tr>
</tbody></table>
</li>
<li><p>tabbar</p>
<p>如果小程序是一个多 tab 应用（客户端窗口的底部或顶部有 tab 栏可以切换页面），可以通过 tabBar 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。</p>
<p><img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211110152148817.png" alt="image-20211110152148817"></p>
<p>中 list 接受一个数组，<strong>只能配置最少 2 个、最多 5 个 tab</strong>。tab 按数组的顺序排序，每个项都是一个对象，其属性值如下：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">pagePath</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">页面路径，必须在 pages 中先定义</td>
</tr>
<tr>
<td align="left">text</td>
<td align="left">string</td>
<td align="left">是</td>
<td align="left">tab 上按钮文字</td>
</tr>
<tr>
<td align="left">iconPath</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">图片路径，icon 大小限制为 40kb，建议尺寸为 81px * 81px，不支持网络图片。 <strong>当 <code>position</code> 为 <code>top</code> 时，不显示 icon。</strong></td>
</tr>
<tr>
<td align="left">selectedIconPath</td>
<td align="left">string</td>
<td align="left">否</td>
<td align="left">选中时的图片路径，icon 大小限制为 40kb，建议尺寸为 81px * 81px，不支持网络图片。 <strong>当 <code>position</code> 为 <code>top</code> 时，不显示 icon。</strong></td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html">页面的配置文件</a></p>
<p>页面的配置和全局的window配置有很多相似的，页面的配置会覆盖全局配置</p>
<h3 id="数据请求"><a href="#数据请求" class="headerlink" title="数据请求"></a>数据请求</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html">wx.request</a> 发起网络请求，请求的方式主要分为两种：</p>
<ol>
<li>get 请求</li>
<li>post 请求</li>
</ol>
<p>根据 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html">wx.request</a> 来完成一个基本的接口请求</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// html</span></span><br><span class="line">&lt;view&gt;</span><br><span class="line">  &lt;button type=<span class="string">&quot;primary&quot;</span> bindtap=<span class="string">&quot;onGetClick&quot;</span>&gt;发起 get 请求&lt;/button&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line"><span class="comment">// js</span></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="comment">// 获取应用实例</span></span><br><span class="line">onGetClick () &#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">        url: <span class="string">&#x27;https://api.imooc-blog.lgdsunday.club/api/test/getList&#x27;</span>,</span><br><span class="line">        method: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">        success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(res);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这样的代码看起来没有任何问题，但是我们却得到了一个错误<img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211111142121127.png" alt="image-20211111142121127" style="zoom:50%;"></p>
<p>而要解决这个问题，我们就需要明确一个问题：<strong>小程序中的数据请求有什么限制？</strong></p>
<ol>
<li>只能请求 <code>HTTPS</code> 类型的接口</li>
<li>必须将接口的域名添加到信任列表中(小程序开发后台可以配置)</li>
</ol>
<p><strong>解决方案：</strong></p>
<ol>
<li><p>生产环境：将想要请求的域名协议【更改为 HTTPS】并【添加到域名信任列表】</p>
</li>
<li><p>开发环境：</p>
<p>点击右上角详情 <img src="https://gitee.com/laonaiping/blog-images/raw/master/img/Xnip2021-11-11_14-43-27.jpg" alt="Xnip2021-11-11_14-43-27" style="zoom:50%;"></p>
<p>勾选<img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211111141111292.png" alt="image-20211111141111292" style="zoom:50%;"></p>
</li>
</ol>
<p>当 <code>get</code> 请求完成，接下来来测试一下 <code>post</code> 请求：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// html </span></span><br><span class="line">  &lt;button type=<span class="string">&quot;primary&quot;</span> bindtap=<span class="string">&quot;onPostClick&quot;</span>&gt;发起 post 请求&lt;/button&gt;</span><br><span class="line">  <span class="comment">// js</span></span><br><span class="line">   onPostClick () &#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="string">&#x27;https://api.imooc-blog.lgdsunday.club/api/test/postData&#x27;</span>,</span><br><span class="line">      method: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        msg: <span class="string">&#x27;愿大家心想事成，万事如意&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>


<p><strong>题外话（扩展内容：针对有 web 前端开发经验的同学）：</strong></p>
<ol>
<li><strong>跨域问题：</strong> 跨域问题主要针对 <strong>浏览器</strong> 而言，而小程序宿主环境为【微信小程序客户端】，所以小程序中不存在【跨域问题】</li>
<li><strong><code>ajax</code> 请求：</strong> <code>ajax</code> 依赖于 <code>XMLHttpRequest</code> 对象，而小程序宿主环境为【微信小程序客户端】，所以小程序中的【网络请求】<strong>不是</strong> <code>ajax</code> 请求</li>
</ol>
<h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>小程序中的数据请求有什么限制？以及如何解决这种限制<ol>
<li>限制：<ol>
<li>只能请求 <code>HTTPS</code> 类型的接口</li>
<li>必须将接口的域名添加到信任列表中</li>
</ol>
</li>
<li>解决方案：<ol>
<li>生产环境：将想要请求的域名协议【更改为 HTTPS】并【添加到域名信任列表】</li>
<li>开发环境：通过勾选<img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210508103939068.png" alt="image-20210508103939068"></li>
</ol>
</li>
</ol>
</li>
<li>小程序的数据请求会存在跨域问题吗？为什么？<ol>
<li>不会</li>
</ol>
</li>
<li>【跨域问题】只存在于基于浏览器的 <code>Web</code> 开发中</li>
<li>由于小程序的宿主环境不是浏览器，而是微信客户端</li>
<li>所以小程序中不存在跨域问题</li>
<li>小程序的数据请求可以叫做 <code>ajax</code> 请求吗？为什么？<ol>
<li>不可以</li>
<li><code>ajax</code> 的核心是依赖于 【浏览器端】 的 <code>XMLHttpRequest</code> 对象</li>
<li>由于小程序的宿主环境不是浏览器，而是微信客户端</li>
<li>所以小程序的数据请求不可以叫做 <code>ajax</code> 请求</li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="异步编程新方案-promise"><a href="#异步编程新方案-promise" class="headerlink" title="异步编程新方案 - promise"></a>异步编程新方案 - promise</h3><p>首先先去假设一个场景：</p>
<blockquote>
<p>目前有一个需求，需要你按照以下的逻辑去进行接口请求：</p>
<ol>
<li>先去请求接口 A</li>
<li>在接口 A 获取到数据之后，再去请求接口 B</li>
<li>在接口 B 获取到数据之后，再去请求接口 C</li>
<li>在接口 C 获取到数据之后，再去请求接口 D</li>
</ol>
</blockquote>
<p>如果按照上一小节学习到的内容，那么我们会得到以下的代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> A(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">  B(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">    C(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">      D(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在这个 <strong>颜值即正义</strong> 的世界里面，我们这样的代码结构应该是 <strong>没有前途的</strong>。 因为它太丑了，并且太难以阅读了。</p>
<p>假想一下，如果我们要请求 10 个接口的话，那么代码会变成什么样子？</p>
<p>所以在编程圈里对这样的代码有一个非常学术的名字：<strong>回调地狱</strong> -&gt; 回调函数的大量嵌套导致出现 <strong>复杂且难以阅读</strong> 的逻辑</p>
<h4 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>promise 是如何解决回调地狱的问题呢？</li>
<li>Promise 的状态分为几种，分别是什么？</li>
<li>如何让 Promise 变成 已兑现（fulfilled）的状态，如何接收已兑现（fulfilled）的结果</li>
</ol>
</blockquote>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><p>点击 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> 进入官方文档：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- </span><br><span class="line">  使用 <span class="built_in">Promise</span> 进行定义接口：</span><br><span class="line">  <span class="built_in">Promise</span> 对象用于表示一个异步操作的最终完成 (或失败)及其结果值。</span><br><span class="line">  它一个构造函数，所以可以通过 <span class="keyword">new</span> 关键字来构建它，获取实例。</span><br><span class="line">  在 <span class="built_in">Promise</span> 中，分为了三种状态：</span><br><span class="line">  <span class="number">1.</span> 待定（pending）: 初始状态，既没有被兑现，也没有被拒绝。</span><br><span class="line">  <span class="number">2.</span> 已兑现（fulfilled）: 意味着操作成功完成。</span><br><span class="line">  <span class="number">3.</span> 已拒绝（rejected）: 意味着操作失败。</span><br><span class="line">  </span><br><span class="line">  可以通过 promise 实例的 </span><br><span class="line">  <span class="number">1.</span> 成功：promise.then()</span><br><span class="line">  <span class="number">2.</span> 失败：promise.catch() </span><br><span class="line">  <span class="number">3.</span> 结束：promise.finally()</span><br><span class="line">  的三个方法，进行链式调用来解决回调地狱的问题。</span><br><span class="line"> --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> isA = <span class="literal">true</span></span><br><span class="line">  <span class="keyword">const</span> isB = <span class="literal">true</span></span><br><span class="line">  <span class="keyword">const</span> isC = <span class="literal">true</span></span><br><span class="line">  <span class="keyword">const</span> isD = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 创建 Promise 实例</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 2. 当前处于 【待定（pending）】 状态下</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;执行 A 接口的逻辑&#x27;</span>)</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (isA) &#123;</span><br><span class="line">          <span class="comment">// 3. 进入 【已兑现（fulfilled）】 状态下</span></span><br><span class="line">          resolve(<span class="string">&#x27;接口 A 执行完成&#x27;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// 4. 进入 【已拒绝（rejected）】 状态下</span></span><br><span class="line">          reject(<span class="string">&#x27;接口 A 执行失败&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;执行 B 接口的逻辑&#x27;</span>)</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (isB) &#123;</span><br><span class="line">          resolve(<span class="string">&#x27;接口 B 执行完成&#x27;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          reject(<span class="string">&#x27;接口 B 执行失败&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">C</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;执行 C 接口的逻辑&#x27;</span>)</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (isC) &#123;</span><br><span class="line">          resolve(<span class="string">&#x27;接口 C 执行完成&#x27;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          reject(<span class="string">&#x27;接口 C 执行失败&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">D</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;执行 D 接口的逻辑&#x27;</span>)</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (isD) &#123;</span><br><span class="line">          resolve(<span class="string">&#x27;接口 D 执行完成&#x27;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          reject(<span class="string">&#x27;接口 D 执行失败&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 获取 Promise 实例</span></span><br><span class="line"> <span class="comment">// 在 .then 中可以继续return 一个promise的实例</span></span><br><span class="line"><span class="comment">// 这个return的实例可以在下一次的.then中接收结果 </span></span><br><span class="line">  A()</span><br><span class="line">    <span class="comment">// 通过 .then 方法获取当前 Promise 的执行结果</span></span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">      <span class="comment">// 标记下一步进入 B 方法</span></span><br><span class="line">      <span class="keyword">return</span> B()</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 继续 .then 进行下一次的异步操作</span></span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">      <span class="comment">// 标记下一步进入 C 方法</span></span><br><span class="line">      <span class="keyword">return</span> C()</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 继续 .then 进行下一次的异步操作</span></span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">      <span class="comment">// 标记下一步进入 D 方法</span></span><br><span class="line">      <span class="keyword">return</span> D()</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 继续 .then 进行下一次的异步操作</span></span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">      <span class="comment">// 结束</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>


<p><strong>Promise 与 回调地狱的结果代码对比截图</strong></p>
<img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210508152109839.png" alt="image-20210508152109839" style="zoom:80%;">

<h4 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li>promise 是如何解决回调地狱的问题呢？<ol>
<li>通过 <code>.then</code> 的方式进行 <strong>链式调用</strong></li>
</ol>
</li>
<li>Promise 的状态分为几种，分别是什么？<ol>
<li>待定（pending）: 初始状态，既没有被兑现，也没有被拒绝。</li>
<li>已兑现（fulfilled）: 意味着操作成功完成。</li>
<li>已拒绝（rejected）: 意味着操作失败。</li>
</ol>
</li>
<li>如何让 Promise 变成 已兑现（fulfilled）的状态，如何接收已兑现（fulfilled）的结果<ol>
<li>通过 <code>resolve</code> 可以把 <code>Promise</code> 的状态，从 【待定（pending）】转变为 【已兑现（fulfilled）】</li>
<li>通过 <code>promise实例.then</code> 方法可以接收 已兑现（fulfilled） 的结果</li>
</ol>
</li>
</ol>
</blockquote>
<p>但是看到这里之后，可能还会有很多同学 <strong>充满疑惑</strong>， “ 我并不感觉 <code>promise</code> 的这种方式更加简单呀？ ”，如果你确实有这样的 <strong>疑问</strong> 的话，那么你应该相信这样的疑问在之前也被人提出过。</p>
<p>那么这个问题是怎么解决的呢？请看下一节 <strong>异步编程再升级 - async + await</strong></p>
<h3 id="异步编程再升级-async-await"><a href="#异步编程再升级-async-await" class="headerlink" title="异步编程再升级 - async + await"></a>异步编程再升级 - async + await</h3><h4 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h4><p><code>Promise</code> 的方案解决了 <strong>回调地狱</strong> 的问题，但是 <code>Promise</code> 又带来了新的问题，那就是：<strong>大量的链式调用，让我们的代码变得又臭又长！</strong></p>
<p>我们回过头看一下 <code>promise</code> 和 <strong>回调地狱</strong> 两种方案的代码对比：</p>
<img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210508152109839.png" alt="image-20210508152109839" style="zoom:80%;">

<p>可以发现：<strong>回调地狱 <code>11</code> 行的代码</strong>，在 <code>promise</code> 中足足花了 <code>18</code> 行才解决，代码量足足多了 <code>60%</code>。</p>
<p>这种 <strong>“退步”</strong> 是绝对不可以被接受的。那么针对这么一种情况，我们就需要使用到两个新的关键字 <code>async + await</code>。</p>
<h4 id="内容-1"><a href="#内容-1" class="headerlink" title="内容"></a>内容</h4><p>点击 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function">async</a>  + <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/await">await</a> 进入官方文档：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 async 和 awiat 可以简化 Promise 的异步操作，把 Promise 的异步操作变为同步写法</span></span><br><span class="line"><span class="comment">// async：标记一个函数为异步函数</span></span><br><span class="line"><span class="comment">// await：标记当前操作为异步操作，await 关键字只能使用在被 【async标记的函数中】</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 可以直接用这种形式接收 A().then 的结果</span></span><br><span class="line">  <span class="keyword">const</span> resA = <span class="keyword">await</span> A();</span><br><span class="line">  <span class="built_in">console</span>.log(resA);</span><br><span class="line">  <span class="keyword">const</span> resB = <span class="keyword">await</span> B();</span><br><span class="line">  <span class="built_in">console</span>.log(resB);</span><br><span class="line">  <span class="keyword">const</span> resC = <span class="keyword">await</span> C();</span><br><span class="line">  <span class="built_in">console</span>.log(resC);</span><br><span class="line">  <span class="keyword">const</span> resD = <span class="keyword">await</span> D();</span><br><span class="line">  <span class="built_in">console</span>.log(resD);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>三种实现方案截图对比：</strong></p>
<p><img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20211111163118503.png" alt="image-20211111163118503"></p>
<h4 id="问题-2"><a href="#问题-2" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li><code>async</code> 和 <code>await</code> 的作用是什么？</li>
<li>使用 <code>await</code> 的注意事项是什么？</li>
</ol>
</blockquote>
<h4 id="答案-1"><a href="#答案-1" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li><code>async</code> 和 <code>await</code> 的作用是什么？<ol>
<li><code>async</code> 和 <code>await</code> 可以简化  <code>promise</code> 操作</li>
<li>使 <code>promise</code> 的异步操作拥有 <strong>同步写法</strong></li>
</ol>
</li>
<li>使用 <code>await</code> 的注意事项是什么？<ol>
<li><code>await</code> 必须在被 <code>async</code> 标记的函数中使用</li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="小程序中使用-promise-解决异步编程"><a href="#小程序中使用-promise-解决异步编程" class="headerlink" title="小程序中使用 promise 解决异步编程"></a>小程序中使用 promise 解决异步编程</h3><h4 id="场景-1"><a href="#场景-1" class="headerlink" title="场景"></a>场景</h4><p>回过头来来看【小程序的代码】，同时回顾一下之前我们解决过的需求：</p>
<blockquote>
<p>目前有一个需求，需要你按照以下的逻辑去进行接口请求：</p>
<ol>
<li>先去请求接口 A</li>
<li>在接口 A 获取到数据之后，再去请求接口 B</li>
<li>在接口 B 获取到数据之后，再去请求接口 C</li>
<li>在接口 C 获取到数据之后，再去请求接口 D</li>
</ol>
</blockquote>
<p>这是我们在学习 <code>promise</code> 时所列举的场景，那么这个场景同样适用于【小程序】中的【网络请求场景】。如果我们通过 <code>wx.request</code> 实现以上需求的话，那么会得到如下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">wx.request(&#123;</span><br><span class="line">      url: <span class="string">&#x27;A&#x27;</span>,</span><br><span class="line">      method: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">      success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        wx.request(&#123;</span><br><span class="line">          url: <span class="string">&#x27;B&#x27;</span>,</span><br><span class="line">          method: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">          success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">            wx.request(&#123;</span><br><span class="line">              url: <span class="string">&#x27;C&#x27;</span>,</span><br><span class="line">              method: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">              success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">                wx.request(&#123;</span><br><span class="line">                  url: <span class="string">&#x27;D&#x27;</span>,</span><br><span class="line">                  method: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">                  success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(res);</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
<p>一个又臭又长的代码，对不对。</p>
<p>那么接下来我们需要做的就很简单了，我们要 **使用 async 和 await ** 简化以上操作。</p>
<h4 id="内容-2"><a href="#内容-2" class="headerlink" title="内容"></a>内容</h4><p>如果要达到我们的目标，那么我们需要分成两步来去操作：</p>
<ol>
<li>获取到 <code>promise</code> 实例对象</li>
<li>使用 <code>async</code> 和 <code>await</code> 简化 <code>promise</code> 的操作</li>
</ol>
<p><strong>获取到 <code>promise</code> 实例对象：</strong></p>
<p>因为 <code>wx.request</code> 不支持 <code>promise</code> 化，所以我们需要：<strong>使用 <code>promise</code> 封装 <code>wx.request</code> 请求</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">pA () &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;执行 A 接口的逻辑&#x27;</span>);</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="string">&#x27;https://api.imooc-blog.lgdsunday.club/api/test/A&#x27;</span>,</span><br><span class="line">      success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(res)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail: <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>使用 <code>async</code> 和 <code>await</code> 简化 <code>promise</code> 的操作（PS：注意不要勾选 ES6 转 ES5）</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> onPromiseGetClick () &#123;</span><br><span class="line">    <span class="keyword">const</span> resA = <span class="keyword">await</span> <span class="built_in">this</span>.pA()</span><br><span class="line">    <span class="built_in">console</span>.log(resA.data.data.msg);</span><br><span class="line">    <span class="keyword">const</span> resB = <span class="keyword">await</span> <span class="built_in">this</span>.pB()</span><br><span class="line">    <span class="built_in">console</span>.log(resB.data.data.msg);</span><br><span class="line">    <span class="keyword">const</span> resC = <span class="keyword">await</span> <span class="built_in">this</span>.pC()</span><br><span class="line">    <span class="built_in">console</span>.log(resC.data.data.msg);</span><br><span class="line">    <span class="keyword">const</span> resD = <span class="keyword">await</span> <span class="built_in">this</span>.pD()</span><br><span class="line">    <span class="built_in">console</span>.log(resD.data.data.msg);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h4 id="问题-3"><a href="#问题-3" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>如何使 <code>wx.request</code> 配合 <code>async</code> 和 <code>await</code> 使用？</li>
</ol>
</blockquote>
<h4 id="答案-2"><a href="#答案-2" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li>如何使 <code>wx.request</code> 配合 <code>async</code> 和 <code>await</code> 使用？<ol>
<li>使用 <code>promise</code> 封装 <code>wx.request</code> 请求</li>
<li>使用 <code>async</code> 和 <code>await</code> 简化 <code>promise</code> 的操作</li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h3><p><strong>生命周期</strong> 就是：一件事物由 <strong>创建</strong> 到 <strong>销毁</strong> 的全过程。</p>
<p>在这个过程中会有很多 <strong>” 关键的时刻 “</strong>，这些关键的时刻就是 <strong>生命周期函数</strong></p>
<p>在 【小程序】中，生命周期主要分为两部分：</p>
<ol>
<li><strong>页面的生命周期</strong></li>
<li><strong>组件的生命周期</strong></li>
</ol>
<p>下面只介绍页面的生命周期：</p>
<p>创建新的页面 <code>list</code>，在新创建的页面中，我们可以发现在 <code>js</code> 文件中已经默认生成了很多的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/list/list.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">	...</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生命周期函数--监听页面加载</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;onLoad&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生命周期函数--监听页面初次渲染完成</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    onReady: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;onReady&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生命周期函数--监听页面显示</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    onShow: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;onShow&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生命周期函数--监听页面隐藏</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    onHide: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;onHide&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生命周期函数--监听页面卸载</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    onUnload: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;onUnload&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">	...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在这些代码中，我们重点关注 <strong>生命周期函数–xx</strong> 相关的内容。</p>
<p>这 5 个函数，就是 【小程序中的生命周期函数】，我们把鼠标放入到【函数上】，那么【小程序开发工具】会提示出对应的【函数解释】。</p>
<p><strong>这些生命周期函数不需要全部掌握</strong>，我们只需要着重掌握其中两个就可以：</p>
<ol>
<li><code>onLoad</code>：最先被调用，可以用来【接收别的页面传递过来的数据】。在后面的【页面跳转】中会再去进行讲解。</li>
<li><code>onReady</code>：页面初次渲染完成后调用。我们可以 <strong>在这里从服务端获取数据</strong> </li>
</ol>
<p>那么知道了这个之后，回到我们最初的需求上，我们希望 <strong>页面出现之后，可以获取接口数据，并进行渲染</strong>。 那么怎么去进行实现呢？</p>
<p>很简单！<strong>只需要在 <code>onReady</code> 中调用获取接口数据的方法就可以了</strong>。</p>
<p>那么现在 <strong>我们已经在页面出现之后，获取到了接口的数据</strong>，所以接下来我们只需要根据数据完成页面的渲染就可以了：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// html</span></span><br><span class="line">&lt;scroll-view <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;list-box&quot;</span> scroll-y&gt;</span><br><span class="line">    &lt;block wx:<span class="keyword">for</span>=<span class="string">&quot;&#123;&#123; listData &#125;&#125;&quot;</span> wx:key=<span class="string">&quot;index&quot;</span>&gt;</span><br><span class="line">        &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;list-item&quot;</span>&gt;&#123;&#123; index &#125;&#125; -- &#123;&#123; item.title &#125;&#125;&lt;/view&gt;</span><br><span class="line">    &lt;/block&gt;</span><br><span class="line">&lt;/scroll-view&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// js</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生命周期函数--监听页面初次渲染完成</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    onReady: <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;onReady&#x27;</span>);</span><br><span class="line">        <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="built_in">this</span>.getList()</span><br><span class="line">        <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">            listData: data.list</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">getList</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            wx.request(&#123;</span><br><span class="line">                url: <span class="string">&#x27;https://api.imooc-blog.lgdsunday.club/api/test/getList&#x27;</span>,</span><br><span class="line">                method: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">                success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">                    resolve(res.data.data)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// css</span></span><br><span class="line">.list-item &#123;</span><br><span class="line">    padding: 26px;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    border-bottom: 1px solid #cccccc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="问题-4"><a href="#问题-4" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>什么是生命周期？什么是生命周期函数？</li>
<li><code>onReady</code>  的调用时机是什么？</li>
</ol>
</blockquote>
<h4 id="答案-3"><a href="#答案-3" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li>什么是生命周期？什么是生命周期函数？<ol>
<li>所谓 <strong>生命周期</strong> 就是：一件事物由 <strong>创建</strong> 到 <strong>销毁</strong> 的全过程。</li>
<li>在这个过程中会有很多 <strong>” 关键的时刻 “</strong>，这些关键的时刻就是 <strong>生命周期函数</strong></li>
</ol>
</li>
<li><code>onReady</code>  的调用时机是什么？<ol>
<li>页面初次渲染完成后调用。我们可以 <strong>在这里从服务端获取数据</strong> </li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="pullToRefresh-下拉刷新与上拉加载"><a href="#pullToRefresh-下拉刷新与上拉加载" class="headerlink" title="pullToRefresh - 下拉刷新与上拉加载"></a>pullToRefresh - 下拉刷新与上拉加载</h3><h4 id="场景-2"><a href="#场景-2" class="headerlink" title="场景"></a>场景</h4><p>在现在我们已经实现了 <strong>基本的页面渲染</strong>，但是这样还是不够的。</p>
<p>因为在我们最终的成型项目中， <strong>数据列表是分页进行展示的</strong>。</p>
<p>所谓分页就是：<strong>当列表中数据过多时，一次性加载所有的数据回导致请求过慢，所以前端就会分页来加载数据。</strong></p>
<p>这种分页的方式在移动端项目上都有大量的体现，比如 【今日头条】、【淘宝】、【微信的聊天记录】等等很多。</p>
<p>那么如果我们想要在当前项目中实现【分页请求】，就需要借助【下拉刷新于上拉加载】的功能，也就是 <code>pullToRefresh</code></p>
<h4 id="问题-5"><a href="#问题-5" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>如何开启下拉刷新</li>
<li>在 <code>onPullDownRefresh</code> 中，一般进行什么操作</li>
<li>在 <code>onReachBottom</code> 中，一般进行什么操作</li>
</ol>
</blockquote>
<h4 id="内容-3"><a href="#内容-3" class="headerlink" title="内容"></a>内容</h4><p>整个【分页加载】分为两个部分：</p>
<ol>
<li>上拉加载</li>
<li>下拉刷新</li>
</ol>
<p>这两部分需要分别来进行处理，首先我们先来看【上拉加载】</p>
<p><strong>上拉加载：</strong></p>
<p>在 【小程序】中，默认已经实现了【上拉加载】的功能，可以直接通过监听 <code>onReachBottom</code> 函数，来监听：<strong>页面上拉触底事件</strong>。当页面滑动到底部时，会触发 <code>onReachBottom</code> 函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 页面上拉触底事件的处理函数</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   onReachBottom: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&#x27;onReachBottom&#x27;</span>);</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>
<p>在【用户上拉】时，我们希望获取【下一页】的数据，所以我们需要对当前的数据进行分页：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 页面的初始数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">data: &#123;</span><br><span class="line">    <span class="comment">// 当前页数</span></span><br><span class="line">    page: <span class="number">1</span>,</span><br><span class="line">    <span class="comment">// 每页的数据量</span></span><br><span class="line">    size: <span class="number">10</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>然后【当页面进入时】，我们获取第一页的数据，所以我们需要对代码进行一下修改：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getList</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        wx.request(&#123;</span><br><span class="line">            url: <span class="string">&#x27;https://api.imooc-blog.lgdsunday.club/api/test/getList&#x27;</span>,</span><br><span class="line">            method: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">            <span class="comment">// 请求当前页的数据</span></span><br><span class="line">            data: &#123;</span><br><span class="line">                page: <span class="built_in">this</span>.data.page,</span><br><span class="line">                size: <span class="built_in">this</span>.data.size</span><br><span class="line">            &#125;,</span><br><span class="line">            success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">                resolve(res.data.data)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后在【上拉操作】时，持续进行后续的数据请求：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 页面上拉触底事件的处理函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">onReachBottom: <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;onReachBottom&#x27;</span>);</span><br><span class="line">    <span class="comment">// 修改 page</span></span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">        page: <span class="built_in">this</span>.data.page + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 获取最新数据</span></span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="built_in">this</span>.getList()</span><br><span class="line">    <span class="comment">// 将最新的数据补充到现有数据的后面</span></span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">      <span class="comment">// es6语法：拼接两个数组</span></span><br><span class="line">        listData: [...this.data.listData, ...data.list]</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>同时我们希望 <strong>数据加载完成后，给用户一个提示，同时不在发起数据请求</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// html</span></span><br><span class="line">    &lt;!-- 底线 --&gt;</span><br><span class="line">    &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;bottom&quot;</span> wx:<span class="keyword">if</span>=<span class="string">&quot;&#123;&#123; listData.length === total &#125;&#125;&quot;</span>&gt;-- 我也是有底线的！ --&lt;/view&gt;</span><br><span class="line"><span class="comment">// js</span></span><br><span class="line">data: &#123;</span><br><span class="line">    <span class="comment">// 总数据量</span></span><br><span class="line">    total: -<span class="number">1</span></span><br><span class="line">&#125;,</span><br><span class="line">onReady: <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="built_in">this</span>.getList()</span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">        listData: data.list,</span><br><span class="line">        <span class="comment">// 为总数据量赋值</span></span><br><span class="line">        total: data.total</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 页面上拉触底事件的处理函数</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">onReachBottom: <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;onReachBottom&#x27;</span>);</span><br><span class="line">    <span class="comment">// 如果当前数据量已经 === 总数据量，则表示数据已经加载完成了</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.data.listData.length === <span class="built_in">this</span>.data.total) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>那么到目前，我们已经完成了【上拉加载】的操作，但是我们知道，我们还缺少一个【下拉刷新】的操作！</p>
<p><strong>大家如果看到这里已经感觉代码量很大了，那么可以先暂停一下，把以上代码实现一遍，完成之后，继续往下去看！</strong></p>
<hr>
<p><strong>下拉刷新：</strong></p>
<p>想要在【小程序】中实现【下拉刷新】不同于上拉加载，需要<strong>首先开启</strong>【下拉刷新】：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 页面.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;backgroundColor&quot;</span>: <span class="string">&quot;#cccccc&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;enablePullDownRefresh&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当我们开启了【下拉刷新】之后，我们就可以去监听 <code>onPullDownRefresh</code> 函数，这个函数会在：<strong>用户下拉刷新时进行回调</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 页面相关事件处理函数--监听用户下拉动作</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">onPullDownRefresh: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;onPullDownRefresh&#x27;</span>);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>在此回调中，我们需要进行的操作就非常简单了，我们只需要：<strong>重置页数，重置数据源，关闭下拉动画</strong> 就可以了：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 页面相关事件处理函数--监听用户下拉动作</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    onPullDownRefresh: <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;onPullDownRefresh&#x27;</span>);</span><br><span class="line">        <span class="comment">// 重置页数</span></span><br><span class="line">        <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">            page: <span class="number">1</span></span><br><span class="line">        &#125;)</span><br><span class="line">         <span class="comment">// 获取最新数据</span></span><br><span class="line">         <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="built_in">this</span>.getList()</span><br><span class="line">         <span class="comment">// 将最新的数据补充到现有数据的后面</span></span><br><span class="line">         <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">             listData: data.list</span><br><span class="line">         &#125;)</span><br><span class="line">        <span class="comment">//  关闭下拉刷新的动作（在真机中，下拉刷新动作不会自动关闭）</span></span><br><span class="line">        wx.stopPullDownRefresh()</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<h4 id="答案-4"><a href="#答案-4" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li>如何开启下拉刷新<ol>
<li>对 <strong>页面对应的 <code>json</code> 文件</strong> 中通过 <code>&quot;enablePullDownRefresh&quot;: true</code> 开启</li>
</ol>
</li>
<li>在 <code>onPullDownRefresh</code> 中，一般进行什么操作<ol>
<li>重置页数</li>
<li>重置数据源</li>
<li>关闭下拉动画</li>
</ol>
</li>
<li>在 <code>onReachBottom</code> 中，一般进行什么操作<ol>
<li>判断数据是否已经加载完成</li>
<li>自增页数</li>
<li>累加数据</li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="页面跳转"><a href="#页面跳转" class="headerlink" title="页面跳转"></a>页面跳转</h3><h4 id="场景-3"><a href="#场景-3" class="headerlink" title="场景"></a>场景</h4><p>我们现在已经把【数据列表】全部展示出来了，然后接下来我们需要完成【文章详情页的渲染】，也就是点击【<code>item</code> 跳转到文章详情页面】</p>
<h4 id="内容-4"><a href="#内容-4" class="headerlink" title="内容"></a>内容</h4><p>小程序的页面跳转分为两种方式：</p>
<ol>
<li>声明式导航<ol>
<li>跳转到 <code>tabbar</code> 页面</li>
<li>跳转到 <code>非tabbar</code> 页面</li>
<li>后退页面</li>
</ol>
</li>
<li>编程式导航<ol>
<li>跳转到 <code>tabbar</code> 页面</li>
<li>跳转到 <code>非tabbar</code> 页面</li>
<li>后退页面</li>
</ol>
</li>
</ol>
<p><strong>声明式导航：</strong></p>
<p>【小程序】中提供了一个：<strong>跳转页面的组件 <code>navigator</code></strong> ，使用这个组件可以完成【声明式导航】</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 跳转到 非 tabbar 页面 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123; listData &#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 注意：url 的表达式必须为 / 开头的页面路径 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">&quot;/pages/detail/detail&quot;</span>&gt;</span>&#123;&#123; index &#125;&#125; -- &#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"></span><br><span class="line">----</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 跳转到 tabbar 页面 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 注意：跳转到 tabbar 页面，必须要指定 open-type=&quot;switchTab&quot;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">open-type</span>=<span class="string">&quot;switchTab&quot;</span> <span class="attr">url</span>=<span class="string">&quot;/pages/index/index&quot;</span>&gt;</span>跳转到首页<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">-----</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 后退页面 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 注意：后退页面必须指定 open-type=&quot;navigateBack&quot; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">open-type</span>=<span class="string">&quot;navigateBack&quot;</span>&gt;</span>后退<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>编程式导航：</strong></p>
<p>【小程序】中提供了三个 <code>API</code> ，用来帮助我们进行 <strong>编程式导航</strong>：</p>
<ol>
<li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html">wx.switchTab</a>：跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 编程式导航跳转到首页 --&gt;</span><br><span class="line">&lt;button type=<span class="string">&quot;primary&quot;</span> bindtap=<span class="string">&quot;onSwitchToHome&quot;</span>&gt;利用 switchTab 跳转到首页&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">onSwitchToHome () &#123;</span><br><span class="line">    wx.switchTab(&#123;</span><br><span class="line">        url: <span class="string">&#x27;/pages/index/index&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
<li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html">wx.navigateTo</a>：保留当前页面，跳转到应用内的某个页面。但是不能跳到 tabbar 页面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 编程式导航跳转到详情页面 --&gt;</span><br><span class="line">&lt;button type=<span class="string">&quot;primary&quot;</span> bindtap=<span class="string">&quot;onNavigateToDetail&quot;</span>&gt;利用 navigateTo 进入详情页&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">onNavigateToDetail () &#123;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">        url: <span class="string">&#x27;/pages/detail/detail&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
<li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateBack.html">wx.navigateBack</a>：关闭当前页面，返回上一页面或多级页面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 编程式导航后退页面 --&gt;</span><br><span class="line">&lt;button type=<span class="string">&quot;primary&quot;</span> bindtap=<span class="string">&quot;onNavigateBack&quot;</span>&gt;利用 navigateBack 后退页面&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">onNavigateBack () &#123;</span><br><span class="line">    wx.navigateBack(&#123;</span><br><span class="line">        delta: <span class="number">1</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ol>
<p><strong>导航传参：</strong></p>
<p>【小程序】的导航传参遵循：**<code>get</code> 请求的标准** 。</p>
<blockquote>
<ol>
<li>以 <code>?</code> 分割 <code>url</code> 和参数</li>
<li>以 <code>=</code> 连接参数的 <code>key</code> 和 <code>value</code></li>
<li>以 <code>&amp;</code> 来拼接参数</li>
</ol>
</blockquote>
<p>那么下面我们来完成案例的最后一个功能：<strong>点击跳转时，传递当前 <code>item</code> 的索引和标题，并且在 <code>detail</code> 页面中展示</strong>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明式导航传递参数</span></span><br><span class="line">&lt;navigator url=<span class="string">&quot;/pages/detail/detail?index=&#123;&#123;index&#125;&#125;&amp;title=&#123;&#123;item.title&#125;&#125;&quot;</span>&gt;&#123;&#123; index &#125;&#125; -- &#123;&#123; item.title &#125;&#125;&lt;/navigator&gt;</span><br><span class="line"><span class="comment">// 编程式导航传递参数</span></span><br><span class="line">&lt;button type=<span class="string">&quot;primary&quot;</span> bindtap=<span class="string">&quot;onNavigateToDetail&quot;</span> data-index=<span class="string">&quot;&#123;&#123;index&#125;&#125;&quot;</span> data-title=<span class="string">&quot;&#123;&#123;item.title&#125;&#125;&quot;</span>&gt;利用 navigateTo 进入详情页&lt;/button&gt;</span><br><span class="line">onNavigateToDetail (e) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; index, title &#125; = e.target.dataset</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">        url: <span class="string">`/pages/detail/detail?index=<span class="subst">$&#123;index&#125;</span>&amp;title=<span class="subst">$&#123;title&#125;</span>`</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 在 detail 中接收数据，并展示</span></span><br><span class="line">&lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;msg&quot;</span>&gt;index：&#123;&#123;index&#125;&#125; -- title：&#123;&#123;title&#125;&#125;&lt;/view&gt;</span><br><span class="line">onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;index, title&#125; = options;</span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">        index,</span><br><span class="line">        title</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="问题-6"><a href="#问题-6" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>页面跳转的方式有哪几种？</li>
<li>跳转到 【tabbar】页面和【非 tabbar】页面的方式分别是什么？</li>
<li>如何进行导航传参</li>
</ol>
</blockquote>
<h4 id="答案-5"><a href="#答案-5" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li><p>页面跳转的方式有哪几种？</p>
<ol>
<li>声明式导航</li>
<li>编程式导航</li>
</ol>
</li>
<li><p>跳转到 【tabbar】页面和【非 tabbar】页面的方式分别是什么？</p>
<ol>
<li>声明式导航<ol>
<li> <code>&lt;navigator open-type=&quot;switchTab&quot; url=&quot;xx&quot; /&gt;</code></li>
<li> <code>&lt;navigator open-type=&quot;navigate&quot;(默认可不指定) url=&quot;xx&quot; /&gt;</code></li>
</ol>
</li>
<li>编程式导航<ol>
<li><code>wx.switchTab(&#123; url: &#39;xx&#39;&#125;)</code></li>
<li><code>wx.navigateTo(&#123; url: &#39;xx&#39;&#125;)</code></li>
</ol>
</li>
</ol>
</li>
<li><p>如何进行导航传参</p>
<ol>
<li><p>【小程序】的导航传参遵循：**<code>get</code> 请求的标准** 。</p>
<ol>
<li>以 <code>?</code> 分割 <code>url</code> 和参数</li>
<li>以 <code>=</code> 连接参数的 <code>key</code> 和 <code>value</code></li>
<li>以 <code>&amp;</code> 来拼接参数</li>
</ol>
</li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ol>
<li>数据驱动原则：<strong>由数据来驱动视图</strong> 是 <strong>现代前端开发的核心思想之一</strong></li>
<li>商品案例：<ol>
<li>数据驱动</li>
<li>组件的事件处理</li>
<li>处理事件方法传递参数</li>
<li>双向数据绑定</li>
<li>条件渲染</li>
<li>列表渲染</li>
</ol>
</li>
<li>列表展示案例：<ol>
<li>利用配置文件生成 <code>tabbar</code> </li>
<li>数据请求的限制</li>
<li>如何封装 <code>promise</code> 的数据请求</li>
<li>利用 <code>async + await</code> 简化异步请求</li>
<li>页面的生命周期概念</li>
<li>实现 <code>pullToRefresh</code></li>
<li>页面跳转</li>
</ol>
</li>
</ol>
<h2 id="组件概念"><a href="#组件概念" class="headerlink" title="组件概念"></a>组件概念</h2><h3 id="创建第一个组件"><a href="#创建第一个组件" class="headerlink" title="创建第一个组件"></a>创建第一个组件</h3><h4 id="场景-4"><a href="#场景-4" class="headerlink" title="场景"></a>场景</h4><blockquote>
<p>对于这个案例，我们把它拆成两个部分：</p>
<ol>
<li>顶部的 tabs </li>
<li>底部的 list</li>
</ol>
<p>两个部分，将分别通过两个组件来进行开发。</p>
</blockquote>
<p>所以，我们接下来要做的第一件事情，就是【创建这两个组件，并在页面中使用它们】，而这个也就是本小节的主要内容</p>
<h4 id="内容-5"><a href="#内容-5" class="headerlink" title="内容"></a>内容</h4><ol>
<li>创建组件<ol>
<li>创建 <code>components</code> 文件夹</li>
<li>创建 <code>tabs</code> 和 <code>list</code> 文件夹</li>
<li>右键 <strong>新建 <code>Component</code></strong></li>
</ol>
</li>
<li>使用组件<ol>
<li>找到页面的 <code>.json</code> 文件</li>
<li>在 <code>usingComponents</code> 选项下 <strong>注册组件</strong><ol>
<li><code>key</code> 为当前组件在该页面中的标签名</li>
<li><code>value</code> 为组件的代码路径</li>
</ol>
</li>
<li>在页面的 <code>wxml</code> 文件中，以 <strong>注册的 <code>key</code></strong> 为标签名，使用组件</li>
</ol>
</li>
</ol>
<h4 id="问题-7"><a href="#问题-7" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>组件应该被放入到哪个文件夹中？</li>
<li>如何在页面中使用【自定义组件】？</li>
</ol>
</blockquote>
<h4 id="答案-6"><a href="#答案-6" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li>组件应该被放入到哪个文件夹中？<ol>
<li>components</li>
</ol>
</li>
<li>如何在页面中使用【自定义组件】？<ol>
<li>在页面的 <code>.json</code> 文件中，通过 <code>usingComponents</code> 进行注册</li>
<li>在 <code>wxml</code> 文件中，以注册的 <code>key</code>  为 <strong>标签名</strong> 进行使用</li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="组件的生命周期"><a href="#组件的生命周期" class="headerlink" title="组件的生命周期"></a>组件的生命周期</h3><h4 id="场景-5"><a href="#场景-5" class="headerlink" title="场景"></a>场景</h4><p>接下来我们希望在 <code>tabs</code> 组件被渲染之后，获取 <code>tabs</code> 的数据，并且进行渲染。</p>
<p>参考下，上一大章中的 <code>列表案例</code> ，那么要完成这个功能，我们就必须要有一个 <strong>前置条件：</strong></p>
<p>那就是：<strong>明确组件的生命周期函数，明确在什么时候去获取接口数据</strong> </p>
<h4 id="内容-6"><a href="#内容-6" class="headerlink" title="内容"></a>内容</h4><p><strong>组件</strong> 的生命周期应该被定义在 <code>lifetimes</code> 中，而方法必须要放入到 <code>methods</code> 中。</p>
<p>组件的生命周期一共有三个：</p>
<ol>
<li><code>created</code> ： 组件实例刚刚被创建好。<strong>此时还不能调用 <code>setData</code></strong></li>
<li><code>attached</code>：组件完全初始化完毕、进入页面节点树后。<strong>绝大多数初始化工作可以在这个时机进行</strong></li>
<li><code>detached</code>：在组件离开页面节点树后</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 组件的初始数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    data: &#123;</span><br><span class="line">        <span class="comment">// 数据源</span></span><br><span class="line">        listData: [],</span><br><span class="line">        <span class="comment">// 选中项</span></span><br><span class="line">        active: -<span class="number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生命周期函数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    lifetimes: &#123;</span><br><span class="line">        <span class="function"><span class="title">attached</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.loadTabsData()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 组件的方法列表（组件中的方法必须定义到 methods 中）</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    methods: &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 获取数据的方法</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="title">loadTabsData</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            wx.request(&#123;</span><br><span class="line">                url: <span class="string">&#x27;https://api.imooc-blog.lgdsunday.club/api/hot/tabs&#x27;</span>,</span><br><span class="line">                success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">                        listData: res.data.data.list,</span><br><span class="line">                        active: <span class="number">0</span></span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;scroll-view <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;tabs-box&quot;</span> scroll-x&gt;</span><br><span class="line">    &lt;view wx:<span class="keyword">for</span>=<span class="string">&quot;&#123;&#123; listData &#125;&#125;&quot;</span> wx:key=<span class="string">&quot;index&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;tab &#123;&#123; active === index ? &#x27;active&#x27; : &#x27;&#x27; &#125;&#125;&quot;</span>&gt;</span><br><span class="line">        &#123;&#123;item.label&#125;&#125;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/scroll-view&gt;</span><br><span class="line">.tabs-box &#123;</span><br><span class="line">    <span class="comment">/* 指定宽度 + 不换行 */</span></span><br><span class="line">    width: 750rpx;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    border-bottom: 1px solid #cccccc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tab &#123;</span><br><span class="line">    <span class="comment">/* 指定 display */</span></span><br><span class="line">    display: inline-block;</span><br><span class="line">    padding: 12px 22px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.active &#123;</span><br><span class="line">    color: #f94d2a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="问题-8"><a href="#问题-8" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>组件的 生命周期 和 方法 分别应该被放入到哪个节点下？</li>
<li><code>created</code> 函数中可以调用 <code>setData</code> 吗？</li>
<li>获取数据的操作应该在哪个函数中进行？</li>
</ol>
</blockquote>
<h4 id="答案-7"><a href="#答案-7" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li>组件的 生命周期 和 方法 分别应该被放入到哪个节点下？<ol>
<li>生命周期应该被定义在 <code>lifetimes</code> 中</li>
<li>方法必须要放入到 <code>methods</code> 中</li>
</ol>
</li>
<li><code>created</code> 函数中可以调用 <code>setData</code> 吗？<ol>
<li>不可以</li>
</ol>
</li>
<li>获取数据的操作应该在哪个函数中进行？<ol>
<li><code>attached</code></li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="数据监听器"><a href="#数据监听器" class="headerlink" title="数据监听器"></a>数据监听器</h3><h4 id="场景-6"><a href="#场景-6" class="headerlink" title="场景"></a>场景</h4><p>通过 <strong>接口文档</strong> 我们可以看出，如果想要获取 <code>list</code> 那么我们需要传递一个 <code>type</code> 的参数，而这个 <code>type</code> 就是用户选中的 <code>tab 项</code> 的 <code>id</code></p>
<p>所以接下来我们就需要来做一件事情：监听用户选中的 <code>tab</code>，根据用户选中的 <code>tab</code> 来切换底部 <code>list</code> 的数据</p>
<h4 id="内容-7"><a href="#内容-7" class="headerlink" title="内容"></a>内容</h4><p>目标：<strong>监听用户选中的 <code>tab</code>，根据用户选中的 <code>tab</code> 来切换底部 <code>list</code> 的数据</strong></p>
<p>当我们面临一个复杂的需求时，我们需要把 <strong>复杂的需求，拆解为几个可执行的步骤</strong></p>
<p>大家看到这里，可以先思考一下，我们如何拆解以上需求…</p>
<p>步骤拆解如下：</p>
<blockquote>
<ol>
<li>监听用户选中项的变化</li>
<li>获取用户选中的数据的 <code>id</code></li>
<li>把 <code>id</code> 传递给 <code>list</code> 组件</li>
<li><code>list</code> 组件根据接收到的 <code>id</code> 获取对应的数据</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;view wx:<span class="keyword">for</span>=<span class="string">&quot;&#123;&#123; listData &#125;&#125;&quot;</span> wx:key=<span class="string">&quot;index&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;tab &#123;&#123; active === index ? &#x27;active&#x27; : &#x27;&#x27; &#125;&#125;&quot;</span> bindtap=<span class="string">&quot;onItemClick&quot;</span> data-index=<span class="string">&quot;&#123;&#123;index&#125;&#125;&quot;</span>&gt;</span><br><span class="line">        &#123;&#123;item.label&#125;&#125;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1. 监听用户选中项的变化</span></span><br><span class="line"><span class="comment">         * item 点击事件处理</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="title">onItemClick</span>(<span class="params">e</span>)</span> &#123;</span><br><span class="line">            <span class="comment">// 1.1：获取用户选中的 下标</span></span><br><span class="line">            <span class="keyword">const</span> &#123;</span><br><span class="line">                index</span><br><span class="line">            &#125; = e.target.dataset;</span><br><span class="line">            <span class="comment">// 1.2：修改选中项</span></span><br><span class="line">            <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">                active: index</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 1.3：监听 active 的变化</span></span><br><span class="line"><span class="comment">     * 通过 observers 定义数据监听器</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    observers: &#123;</span><br><span class="line">        <span class="comment">// key 为要监听的数据</span></span><br><span class="line">        <span class="comment">// value 为当数据发生变化时，调用的函数</span></span><br><span class="line">        active: <span class="function"><span class="keyword">function</span> (<span class="params">active</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// 2：获取用户选中的数据的 `id`</span></span><br><span class="line">            <span class="keyword">const</span> &#123;id&#125; = <span class="built_in">this</span>.data.listData[active]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>到目前，我们已经实现了需求的前两步，那么后面的两步怎么做呢？</p>
<p>请查看我们下一章：<strong>组件之间的关系与通讯</strong></p>
<h4 id="问题-9"><a href="#问题-9" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>小程序中通过哪个选项来声明数据监听器</li>
<li>数据监听器的使用场景是什么？</li>
</ol>
</blockquote>
<h4 id="答案-8"><a href="#答案-8" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li>小程序中通过哪个选项来声明数据监听器<ol>
<li><code>observers</code></li>
</ol>
</li>
<li>数据监听器的使用场景是什么？（需要同学自己思考）<ol>
<li>需要监听数据的变化</li>
<li>在数据变化之后，进行一些操作的时候</li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="组件之间的关系与通讯"><a href="#组件之间的关系与通讯" class="headerlink" title="组件之间的关系与通讯"></a>组件之间的关系与通讯</h3><h4 id="场景-7"><a href="#场景-7" class="headerlink" title="场景"></a>场景</h4><blockquote>
<ol>
<li>监听用户选中项的变化</li>
<li>获取用户选中的数据的 <code>id</code></li>
<li>把 <code>id</code> 传递给 <code>list</code> 组件</li>
<li><code>list</code> 组件根据接收到的 <code>id</code> 获取对应的数据</li>
</ol>
</blockquote>
<p>在上一节中，我们实现了前面两步，但是接下来当我们想要把 <code>id</code> 传递给 <code>list</code> 组件的时候，却遇到了一些问题。我们不知道如何才能 <strong>在一个组件中把数据传递给另外一个组件</strong> ，那么这一小节我们就来去解决这个问题。</p>
<h4 id="内容-8"><a href="#内容-8" class="headerlink" title="内容"></a>内容</h4><p><strong>组件之间的关系：</strong></p>
<p>组件之间的关系和 <code>html</code> 标签之间的关系其实是相同的：</p>
<ol>
<li>父子关系 <img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210513103334265.png" alt="image-20210513101931968"></li>
<li>兄弟关系 <img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210513103334265.png" alt="image-20210513101957706"></li>
</ol>
<p><strong>不同关系之间的传递数据方式：</strong></p>
<ol>
<li><p>父子关系</p>
<ol>
<li><p>父向子传参：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 子组件：通过 properties 声明要从父组件中接收的数据</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 组件的属性列表</span><br><span class="line">     *&#x2F;</span><br><span class="line">    properties: &#123;</span><br><span class="line">        tabId: String</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 父组件：通过自定义属性的形式传递数据，以子组件中定义的 key 为属性名，以要传递的数据为属性值</span><br><span class="line">   &lt;list tabId&#x3D;&quot;&#123;&#123;tabSelectId&#125;&#125;&quot;&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>子向父传参：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件：通过 triggerEvent 方法发送一个通知，通知父组件接收数据。</span></span><br><span class="line"><span class="comment">// 方法的第一个参数为：通知名</span></span><br><span class="line"><span class="comment">// 方法的第二个参数为：要传递的数据</span></span><br><span class="line"><span class="built_in">this</span>.triggerEvent(<span class="string">&#x27;change&#x27;</span>, &#123;</span><br><span class="line">    id</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 父组件：通过 bind 监听子组件中发送的通知</span></span><br><span class="line"><span class="comment">// bind 后的内容为 子组件发送的通知名，表达式为接收到该通知时所触发的方法</span></span><br><span class="line">&lt;tabs bind:change=<span class="string">&quot;onTabChange&quot;</span>&gt;&lt;/tabs&gt;</span><br><span class="line"><span class="comment">// 方法被触发后可以通过 e.detail 的形式获取子组件传递过来的数据对象</span></span><br><span class="line">onTabChange (e) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;id&#125; = e.detail;</span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">        tabSelectId: id</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
<li><p>兄弟关系</p>
<ol>
<li><p>兄弟组件之间传参：<strong>兄弟关系 === 没有关系</strong>。 兄弟组件只是为了方便称呼的一个叫法而已。 <img src="https://gitee.com/laonaiping/blog-images/raw/master/img/image-20210513103334265.png" alt="image-20210513103334265"></p>
<p>所以想要完成兄弟组件之间的传参，就需要：<strong>为它们建立关系。</strong></p>
<p>而建立关系说白了就是为了找到一个：<strong>和这两个组件都认识的 ”中间人“ 。</strong> </p>
<p>这个中间人一般为：<strong>统一的父组件。</strong></p>
<p>而最后：兄弟组件之间想要传递数据，就需要利用 ”中间人进行传递“，也就是：</p>
<blockquote>
<ol>
<li>【兄弟 A 组件】传递数据给 父组件（中间人）</li>
<li>父组件（中间人）再把数据传递给 【兄弟 B 组件】</li>
</ol>
</blockquote>
</li>
</ol>
</li>
</ol>
<h4 id="问题-10"><a href="#问题-10" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>组件之间数据传递的关系可以分为哪几种？</li>
<li>兄弟组件之间传递数据的方式是什么？</li>
</ol>
</blockquote>
<h4 id="答案-9"><a href="#答案-9" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li>组件之间数据传递的关系可以分为哪几种？<ol>
<li>父向子传递数据</li>
<li>子向父传递数据</li>
<li>兄弟组件之间传递数据</li>
</ol>
</li>
<li>兄弟组件之间传递数据的方式是什么？</li>
</ol>
</blockquote>
<h3 id="组件的插槽"><a href="#组件的插槽" class="headerlink" title="组件的插槽"></a>组件的插槽</h3><h4 id="场景-8"><a href="#场景-8" class="headerlink" title="场景"></a>场景</h4><p>整个案例还剩下最后一个功能：在列表的头部和尾部分别展示文本。</p>
<p>而这个功能我们有一个额外的要求：具体展示的文本和样式，我们需要在父组件中指定。</p>
<p>因为，组件可以进行复用，当 <code>list</code> 组件应用到 <code>index</code> 时，我们展示的文本和样式，并不一定为在其他页面时想要展示的文本和样式。所以这个文本和样式不可以在 <code>list</code> 中写死。</p>
<p>那么要实现这个功能就需要使用到 <strong>插槽</strong> 的知识了。</p>
<h4 id="问题-11"><a href="#问题-11" class="headerlink" title="问题"></a>问题</h4><blockquote>
<ol>
<li>什么时候需要使用插槽？</li>
<li>小程序中如何定义多个插槽？</li>
</ol>
</blockquote>
<h4 id="内容-9"><a href="#内容-9" class="headerlink" title="内容"></a>内容</h4><p><strong>1：定义：</strong></p>
<p><strong>1.1：定义单一插槽：</strong></p>
<p>在 <strong>组件</strong> 中使用 <code>slot</code> 组件定义插槽。</p>
<p>表示：占据了这一块空间，等待父组件填充。</p>
<p><strong>1.2：定义多个插槽：</strong></p>
<p>小程序默认只能定义一个插槽，如果要定义多个插槽那么需要：<strong>在组件中指定 <code>options</code> 选项的 <code>multipleSlots</code> 选项为 <code>true</code></strong></p>
<p>然后通过 <code>slot</code> 的 <code>name</code> 属性为插槽命名。例如：<code>&lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;</code></p>
<p><strong>2：使用：</strong></p>
<p><strong>2.1：使用单一插槽：</strong></p>
<p>在组件使用时，以 <code>innerHTML</code> 的形式插入内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;component&gt;</span><br><span class="line">    &lt;view&gt;单一插槽插入的 DOM&lt;&#x2F;view&gt;</span><br><span class="line">&lt;&#x2F;component&gt;</span><br></pre></td></tr></table></figure>
<p><strong>2.2：使用多个插槽：</strong></p>
<p>在组件使用时，以 <code>innerHTML</code> 的形式插入内容，以 <code>slot</code> 属性标记当前 <code>DOM</code> 插入到哪个插槽中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;component&gt;</span><br><span class="line">    &lt;view slot&#x3D;&quot;header&quot;&gt;该元素将被插入到 name&#x3D;header 的插槽中&lt;&#x2F;view&gt;</span><br><span class="line">    &lt;view slot&#x3D;&quot;footer&quot;&gt;该元素将被插入到 name&#x3D;footer 的插槽中&lt;&#x2F;view&gt;</span><br><span class="line">&lt;&#x2F;component&gt;</span><br></pre></td></tr></table></figure>


<h4 id="答案-10"><a href="#答案-10" class="headerlink" title="答案"></a>答案</h4><blockquote>
<ol>
<li>什么时候需要使用插槽？<ol>
<li>由 父组件 来指定 子组件 中某一部分展示的内容和样式时</li>
</ol>
</li>
<li>小程序中如何定义多个插槽？<ol>
<li>指定 <code>options</code> 的 <code>multipleSlots</code> 为 <code>true</code></li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="本章小结"><a href="#本章小结" class="headerlink" title="本章小结"></a>本章小结</h3><ol>
<li>创建组件</li>
<li>组件的生命周期nis</li>
<li>数据监听器</li>
<li>组件的关系</li>
<li>组件的通讯</li>
<li>组件的插槽</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/uniapp/" rel="tag"># uniapp</a>
              <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag"># 微信小程序</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/10/08/View%E7%9A%84%E8%A7%A6%E6%91%B8%E5%8F%8D%E9%A6%88%E5%8E%9F%E7%90%86%E5%85%A8%E8%A7%A3%E6%9E%90/" rel="prev" title="View的触摸反馈原理全解析">
      <i class="fa fa-chevron-left"></i> View的触摸反馈原理全解析
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/10/18/%E6%B3%9B%E5%9E%8B%E8%AF%A6%E8%A7%A3/" rel="next" title="泛型详解">
      泛型详解 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86%E4%B8%8E%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A0%B8%E5%BF%83%E8%AF%AD%E6%B3%95"><span class="nav-number">1.</span> <span class="nav-text">小程序前置知识与小程序核心语法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%A4%E8%AF%86%E5%B0%8F%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.1.</span> <span class="nav-text">认识小程序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">1.1.1.</span> <span class="nav-text">准备工作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">1.1.2.</span> <span class="nav-text">小程序基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">小程序的基本组成结构</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#pages-%E6%96%87%E4%BB%B6%E5%A4%B9%E5%AD%98%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E9%A1%B5%E9%9D%A2"><span class="nav-number">1.1.2.1.1.</span> <span class="nav-text">pages 文件夹存小程序的页面</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#project-config-json-%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">1.1.2.1.2.</span> <span class="nav-text">project.config.json 项目配置文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#sitemap-json-%E9%85%8D%E7%BD%AE%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E8%A2%AB%E5%BE%AE%E4%BF%A1%E7%B4%A2%E5%BC%95"><span class="nav-number">1.1.2.1.3.</span> <span class="nav-text">sitemap.json 配置是否可以被微信索引</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE"><span class="nav-number">1.1.2.1.4.</span> <span class="nav-text">其他配置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WXML-VS-HTML"><span class="nav-number">1.1.3.</span> <span class="nav-text">WXML VS HTML</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFWXML"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">什么是WXML</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WXML%E5%92%8C-HTML%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">WXML和 HTML的区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%91%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E5%9C%A8-wxml-%E6%96%87%E4%BB%B6%E4%B8%AD%E5%86%99%E5%85%A5-div%E6%A0%87%E7%AD%BE%EF%BC%9F%E5%B9%B6%E8%AF%B4%E5%87%BA%E5%8E%9F%E5%9B%A0"><span class="nav-number">1.1.3.3.</span> <span class="nav-text">我是否可以在 wxml 文件中写入 div标签？并说出原因</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WXSS-VS-CSS"><span class="nav-number">1.1.4.</span> <span class="nav-text">WXSS VS CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#wxss-%E6%96%B0%E5%A2%9E%E4%BA%86%E4%BB%80%E4%B9%88%E5%B0%BA%E5%AF%B8%E5%8D%95%E4%BD%8D"><span class="nav-number">1.1.4.1.</span> <span class="nav-text">wxss 新增了什么尺寸单位</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#wxss-%E4%B8%AD%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9%E5%99%A8"><span class="nav-number">1.1.4.2.</span> <span class="nav-text">wxss 中推荐使用什么选择器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#json-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">1.1.5.</span> <span class="nav-text">.json 配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84-json-%E6%96%87%E4%BB%B6%E4%B8%BB%E8%A6%81%E5%88%86%E4%B8%BA%E5%93%AA%E5%87%A0%E7%A7%8D"><span class="nav-number">1.1.5.1.</span> <span class="nav-text">1. 小程序中的 .json 文件主要分为哪几种</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%BD%93%E8%BF%99%E4%B8%A4%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%87%BA%E7%8E%B0%E7%9B%B8%E5%90%8C%E9%85%8D%E7%BD%AE%E6%97%B6%EF%BC%8C%E4%BC%9A%E5%87%BA%E7%8E%B0%E4%BB%80%E4%B9%88%E7%BB%93%E6%9E%9C%EF%BC%9F"><span class="nav-number">1.1.5.2.</span> <span class="nav-text">2. 当这两种配置文件出现相同配置时，会出现什么结果？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%BF%E4%B8%BB%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="nav-number">1.1.6.</span> <span class="nav-text">宿主概念与微信小程序的运行环境</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AE%BF%E4%B8%BB%E7%8E%AF%E5%A2%83%EF%BC%9F"><span class="nav-number">1.1.6.1.</span> <span class="nav-text">什么是宿主环境？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B9%E7%9B%AE%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%AF%E4%BB%A5%E8%B0%83%E7%94%A8%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98%E5%8A%9F%E8%83%BD%EF%BC%9F"><span class="nav-number">1.1.6.2.</span> <span class="nav-text">微信小程序项目为什么可以调用微信支付功能？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83%E6%98%AF%E5%A6%82%E4%BD%95%E5%88%92%E5%88%86%E7%9A%84%EF%BC%9F"><span class="nav-number">1.1.6.3.</span> <span class="nav-text">小程序的运行环境是如何划分的？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%86%85%E7%BD%AE%E7%BB%84%E4%BB%B6"><span class="nav-number">1.1.7.</span> <span class="nav-text">小程序的内置组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%88%90%E5%91%98%E7%AE%A1%E7%90%86"><span class="nav-number">1.1.8.</span> <span class="nav-text">小程序成员管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B"><span class="nav-number">1.1.9.</span> <span class="nav-text">小程序发布流程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A0%B8%E5%BF%83%E8%AF%AD%E6%B3%95"><span class="nav-number">1.2.</span> <span class="nav-text">小程序核心语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E5%8E%9F%E5%88%99"><span class="nav-number">1.2.1.</span> <span class="nav-text">小程序的数据驱动原则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%EF%BC%9A"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">数据驱动：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%AE%8C%E6%88%90%E5%93%8D%E5%BA%94%E5%BC%8F%EF%BC%9A"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">小程序中完成响应式：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%B8%B8%E7%94%A8%E4%BA%8B%E4%BB%B6%E4%B8%8E%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8"><span class="nav-number">1.2.2.</span> <span class="nav-text">小程序的常用事件与属性列表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%89%E9%92%AE%E6%B7%BB%E5%8A%A0%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">按钮添加点击事件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9data%E4%B8%AD%E6%95%B0%E6%8D%AE%E7%9A%84%E5%80%BC"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">修改data中数据的值</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E4%BC%A0%E5%8F%82"><span class="nav-number">1.2.3.</span> <span class="nav-text">事件传参</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%A2%E5%8F%82%EF%BC%9A"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">形参：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E5%8F%82%EF%BC%9A"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">实参：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="nav-number">1.2.4.</span> <span class="nav-text">双向数据绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="nav-number">1.2.4.1.</span> <span class="nav-text">什么是双向数据绑定</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="nav-number">1.2.5.</span> <span class="nav-text">条件渲染</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="nav-number">1.2.6.</span> <span class="nav-text">列表渲染</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E8%AF%BB"><span class="nav-number">1.2.7.</span> <span class="nav-text">配置文件解读</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82"><span class="nav-number">1.2.8.</span> <span class="nav-text">数据请求</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98"><span class="nav-number">1.2.8.1.</span> <span class="nav-text">问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B%E6%96%B0%E6%96%B9%E6%A1%88-promise"><span class="nav-number">1.2.9.</span> <span class="nav-text">异步编程新方案 - promise</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-1"><span class="nav-number">1.2.9.1.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%AE%B9"><span class="nav-number">1.2.9.2.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88"><span class="nav-number">1.2.9.3.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B%E5%86%8D%E5%8D%87%E7%BA%A7-async-await"><span class="nav-number">1.2.10.</span> <span class="nav-text">异步编程再升级 - async + await</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF"><span class="nav-number">1.2.10.1.</span> <span class="nav-text">场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-1"><span class="nav-number">1.2.10.2.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-2"><span class="nav-number">1.2.10.3.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88-1"><span class="nav-number">1.2.10.4.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E4%BD%BF%E7%94%A8-promise-%E8%A7%A3%E5%86%B3%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B"><span class="nav-number">1.2.11.</span> <span class="nav-text">小程序中使用 promise 解决异步编程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF-1"><span class="nav-number">1.2.11.1.</span> <span class="nav-text">场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-2"><span class="nav-number">1.2.11.2.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-3"><span class="nav-number">1.2.11.3.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88-2"><span class="nav-number">1.2.11.4.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">1.2.12.</span> <span class="nav-text">生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-4"><span class="nav-number">1.2.12.1.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88-3"><span class="nav-number">1.2.12.2.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pullToRefresh-%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0%E4%B8%8E%E4%B8%8A%E6%8B%89%E5%8A%A0%E8%BD%BD"><span class="nav-number">1.2.13.</span> <span class="nav-text">pullToRefresh - 下拉刷新与上拉加载</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF-2"><span class="nav-number">1.2.13.1.</span> <span class="nav-text">场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-5"><span class="nav-number">1.2.13.2.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-3"><span class="nav-number">1.2.13.3.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88-4"><span class="nav-number">1.2.13.4.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC"><span class="nav-number">1.2.14.</span> <span class="nav-text">页面跳转</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF-3"><span class="nav-number">1.2.14.1.</span> <span class="nav-text">场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-4"><span class="nav-number">1.2.14.2.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-6"><span class="nav-number">1.2.14.3.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88-5"><span class="nav-number">1.2.14.4.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number">1.2.15.</span> <span class="nav-text">小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E6%A6%82%E5%BF%B5"><span class="nav-number">1.3.</span> <span class="nav-text">组件概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.1.</span> <span class="nav-text">创建第一个组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF-4"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-5"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-7"><span class="nav-number">1.3.1.3.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88-6"><span class="nav-number">1.3.1.4.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">1.3.2.</span> <span class="nav-text">组件的生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF-5"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-6"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-8"><span class="nav-number">1.3.2.3.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88-7"><span class="nav-number">1.3.2.4.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%9B%91%E5%90%AC%E5%99%A8"><span class="nav-number">1.3.3.</span> <span class="nav-text">数据监听器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF-6"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-7"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-9"><span class="nav-number">1.3.3.3.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88-8"><span class="nav-number">1.3.3.4.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%E4%B8%8E%E9%80%9A%E8%AE%AF"><span class="nav-number">1.3.4.</span> <span class="nav-text">组件之间的关系与通讯</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF-7"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-8"><span class="nav-number">1.3.4.2.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-10"><span class="nav-number">1.3.4.3.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88-9"><span class="nav-number">1.3.4.4.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E6%8F%92%E6%A7%BD"><span class="nav-number">1.3.5.</span> <span class="nav-text">组件的插槽</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF-8"><span class="nav-number">1.3.5.1.</span> <span class="nav-text">场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-11"><span class="nav-number">1.3.5.2.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-9"><span class="nav-number">1.3.5.3.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%94%E6%A1%88-10"><span class="nav-number">1.3.5.4.</span> <span class="nav-text">答案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93"><span class="nav-number">1.3.6.</span> <span class="nav-text">本章小结</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="oldnineping"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">oldnineping</p>
  <div class="site-description" itemprop="description">技术日记和杂七杂八的dx</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">54</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">oldnineping</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  













<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

</body>
</html>
